jilles      2006/07/02 14:39:16 UTC	(20060702-5662)
  Log:
  charybdis +f callback: oops, checked access in source instead
  of destination channel
  

  Changes:	Modified:
  +2 -2		trunk/protocol/charybdis.c (File Modified) 


jilles      2006/07/02 13:01:33 UTC	(20060702-5660)
  Log:
  channel_mode(): don't check extmode parameters if the mode came from ircd
  as there is no good way to deal with an invalid parameter.
  

  Changes:	Modified:
  +1 -1		trunk/src/cmode.c (File Modified) 


nenolod     2006/07/02 05:10:39 UTC	(20060702-5658)
  Log:
  - header/footer should be present on help `functions'
  

  Changes:	Modified:
  +6 -0		trunk/src/help.c (File Modified) 


nenolod     2006/07/02 05:09:02 UTC	(20060702-5656)
  Log:
  - handle command_(add|delete)_many() a bit more sanely
  

  Changes:	Modified:
  +6 -6		trunk/src/commandtree.c (File Modified) 


nenolod     2006/07/02 05:05:34 UTC	(20060702-5654)
  Log:
  - HELP SET
  

  Changes:	Modified:
  +0 -35	trunk/modules/nickserv/help.c (File Modified) 
  +16 -0	trunk/modules/nickserv/set.c (File Modified) 


nenolod     2006/07/02 04:38:41 UTC	(20060702-5652)
  Log:
  - ditto for userserv
  

  Changes:	Modified:
  +211 -275	trunk/modules/userserv/set.c (File Modified) 


nenolod     2006/07/02 04:28:25 UTC	(20060702-5650)
  Log:
  - change multiple string entities to single strings.
  - remove redundant account lookups (we already had this information)
  - remove a lot of other redundant shit
  - remove use of set_command_, use command_t's instead.
  

  Changes:	Modified:
  +150 -227	trunk/modules/nickserv/set.c (File Modified) 


nenolod     2006/07/02 04:21:38 UTC	(20060702-5648)
  Log:
  - add command_delete_many().
  

  Changes:	Modified:
  +1 -0		trunk/include/commandtree.h (File Modified) 
  +22 -1	trunk/src/commandtree.c (File Modified) 


jilles      2006/07/02 01:38:39 UTC	(20060702-5646)
  Log:
  - remove last mention of unreal from example.conf
  - remove unreal protocol module include file
  - mark PROTOCOL_UNREAL constant obsolete
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 
  +1 -1		trunk/include/pmodule.h (File Modified) 
  +0 -35	trunk/include/protocol/unreal.h (File Deleted) 


jilles      2006/07/02 01:32:36 UTC	(20060702-5644)
  Log:
  Comment changes to users.h: don't mention which ircds use vhost. Add some other explanation.
  

  Changes:	Modified:
  +3 -3		trunk/include/users.h (File Modified) 


nenolod     2006/07/02 00:57:52 UTC	(20060702-5642)
  Log:
  - remove unrealircd support -- it's never really worked very well, and nobody seems to care enough about it
  

  Changes:	Modified:
  +0 -1		trunk/dist/example.conf (File Modified) 
  +0 -1		trunk/dist/example.userserv.conf (File Modified) 
  +0 -5		trunk/doc/IRCD (File Modified) 
  +1 -2		trunk/protocol/Makefile.in (File Modified) 
  +0 -940	trunk/protocol/unreal.c (File Deleted) 


jilles      2006/07/02 00:48:37 UTC	(20060702-5640)
  Log:
  Add some consts.
  There will remain a warning about const in src/cmode.c which is hard to remove.
  

  Changes:	Modified:
  +9 -10	trunk/include/extern.h (File Modified) 
  +8 -8		trunk/src/cmode.c (File Modified) 
  +11 -11	trunk/src/node.c (File Modified) 


jilles      2006/07/02 00:21:54 UTC	(20060702-5638)
  Log:
  Use channel_mode_va() to make the code less ugly.
  

  Changes:	Modified:
  +2 -8		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/07/02 00:08:33 UTC	(20060702-5636)
  Log:
  ChanServ UNBAN: remove unnecessary additional declaration of chanban_t *cb (2 times).
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2006/07/02 00:05:59 UTC	(20060702-5634)
  Log:
  flatfile_db_save(): cast argument to %ld from time_t to long
  

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2006/07/01 23:55:36 UTC	(20060701-5632)
  Log:
  Add a comment to hook_channel_req_t, it is not
  possible to use mychan_t here.
  

  Changes:	Modified:
  +2 -1		trunk/include/atheme.h (File Modified) 


jilles      2006/07/01 23:52:50 UTC	(20060701-5630)
  Log:
  Make mc in hook_channel_req_t of type struct mychan_ * instead of void *.
  

  Changes:	Modified:
  +1 -2		trunk/include/atheme.h (File Modified) 


jilles      2006/07/01 23:38:42 UTC	(20060701-5628)
  Log:
  Add callbacks for non-standard type C channel modes
  (forwarding, join throttling, etc).
  

  Changes:	Modified:
  +9 -0		trunk/include/atheme.h (File Modified) 
  +1 -1		trunk/include/phandler.h (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +64 -3	trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hybrid.c (File Modified) 
  +47 -4	trunk/protocol/hyperion.c (File Modified) 
  +54 -4	trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/nefarious.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +28 -2	trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/solidircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +28 -2	trunk/protocol/unreal.c (File Modified) 
  +2 -0		trunk/src/cmode.c (File Modified) 
  +1 -1		trunk/src/pmodule.c (File Modified) 


jilles      2006/07/01 21:25:55 UTC	(20060701-5626)
  Log:
  Remove an obsolete comment.
  

  Changes:	Modified:
  +0 -1		trunk/include/phandler.h (File Modified) 


jilles      2006/07/01 21:01:30 UTC	(20060701-5624)
  Log:
  flatfile load: don't set an mlocked key if it is empty (after
  stripping), starts with a colon or contains a comma.
  Such keys are invalid and this makes it possible (with
  a database version bump) to add stuff on the MC line.
  

  Changes:	Modified:
  +2 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2006/07/01 16:09:29 UTC	(20060701-5622)
  Log:
  Only log out people whose account is dropped or whose
  (bursted) account does not exist if we have an
  authentication service.
  

  Changes:	Modified:
  +9 -6		trunk/src/node.c (File Modified) 
  +4 -2		trunk/src/services.c (File Modified) 


jilles      2006/07/01 15:56:15 UTC	(20060701-5620)
  Log:
  Add int authservice_loaded, counts the number of
  authentication services (nickserv, userserv,
  saslserv) loaded.
  This will be used for not changing services logins
  and accepting new logins if no authentication service
  is loaded.
  

  Changes:	Modified:
  +1 -0		trunk/include/pmodule.h (File Modified) 
  +2 -0		trunk/modules/nickserv/main.c (File Modified) 
  +2 -0		trunk/modules/saslserv/main.c (File Modified) 
  +2 -0		trunk/modules/userserv/main.c (File Modified) 
  +1 -0		trunk/src/pmodule.c (File Modified) 


jilles      2006/07/01 00:25:48 UTC	(20060701-5610)
  Log:
  INSTALL document:
  - some reorganization w/r ircd issues
  - charybdis/ratbox/inspircd/asuka/bircd/nefarious/undernet
    put as "recommended" ircds
  

  Changes:	Modified:
  +7 -6		trunk/INSTALL (File Modified) 


jilles      2006/07/01 00:13:01 UTC	(20060701-5608)
  Log:
  protocol module list in example confs:
  - ircnet ircd support is 2.11 only (not 2.10)
  - plexus support is 3.x only (not 2.x)
  - mention ptlink
  

  Changes:	Modified:
  +3 -2		trunk/dist/example.conf (File Modified) 
  +3 -2		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/06/30 23:53:18 UTC	(20060630-5606)
  Log:
  Remove version number (1.x) in description of
  charybdis protocol module as we support 2.x
  also.
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/06/30 23:32:12 UTC	(20060630-5604)
  Log:
  user_mode():
  - default to '+' instead of '-' if none given (very rare)
  - use MTYPE_ADD, MTYPE_DEL constants
  

  Changes:	Modified:
  +7 -7		trunk/src/cmode.c (File Modified) 


jilles      2006/06/30 00:29:17 UTC	(20060630-5602)
  Log:
  unreal m_sjoin(): Add some channel_mode_va(NULL, c, 1, "+");
  

  Changes:	Modified:
  +4 -0		trunk/protocol/unreal.c (File Modified) 


jilles      2006/06/29 22:19:27 UTC	(20060629-5600)
  Log:
  Revert accidental hyb7/ratbox -> hyb7/hybrid change in comment.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/hybrid.c (File Modified) 


jilles      2006/06/29 13:00:14 UTC	(20060629-5596)
  Log:
  ChanServ FLAGS: allow /cs flags <target> to see one access entry.
  Requested by w00t.
  This adds some duplicate code, cs_cmd_flags() can use some refactoring.
  

  Changes:	Modified:
  +30 -1	trunk/modules/chanserv/flags.c (File Modified) 


jilles      2006/06/29 12:24:51 UTC	(20060629-5594)
  Log:
  add missing descriptions for ircd->uses_protect and ircd->uses_owner
  

  Changes:	Modified:
  +2 -2		trunk/doc/MODES (File Modified) 


jilles      2006/06/29 12:23:30 UTC	(20060629-5592)
  Log:
  ircnet m_njoin(): cause mlock checks when creating a channel
  

  Changes:	Modified:
  +2 -0		trunk/protocol/ircnet.c (File Modified) 


jilles      2006/06/28 22:51:01 UTC	(20060628-5590)
  Log:
  dreamforge/sorcery:
  - add a warning that missing U:lines may cause storms
    of mode changes
  - add a warning that these ircds do not protect services
    on channels against kick/deop
  

  Changes:	Modified:
  +14 -2	trunk/doc/IRCD (File Modified) 


jilles      2006/06/28 21:48:10 UTC	(20060628-5588)
  Log:
  dreamforge/sorcery:
  Do not assume all modes have a TS; only modes from servers
  and U:lined clients may have a TS and even then not always.
  channel_mode() does not mind an extraneous parameter.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 


jilles      2006/06/28 21:38:18 UTC	(20060628-5586)
  Log:
  dreamforge:
  - when creating a channel, op the service and set a TS (r5584)
  - allow JOIN messages with multiple channels (r5584)
  - do not process a QUIT message with a prefix designating one
    of our services (fake direction), these are generated on
    kills on services
  

  Changes:	Modified:
  +24 -10	trunk/protocol/dreamforge.c (File Modified) 


jilles      2006/06/28 19:09:55 UTC	(20060628-5584)
  Log:
  sorcery:
  - fix NICK message
  - remove umode +r stuff
  - when creating a channel, op the service and set a TS
  - allow JOIN messages with multiple channels
  
  don't ask
  

  Changes:	Modified:
  +19 -38	trunk/protocol/sorcery.c (File Modified) 


jilles      2006/06/28 17:49:51 UTC	(20060628-5582)
  Log:
  - remove chunky monkey references from example confs
  - remove chunky monkey protocol include file
  - add "obsolete" comment to PROTOCOL_MONKEY constant
  

  Changes:	Modified:
  +0 -1		trunk/dist/example.conf (File Modified) 
  +0 -1		trunk/dist/example.userserv.conf (File Modified) 
  +1 -1		trunk/include/pmodule.h (File Modified) 
  +0 -22	trunk/include/protocol/monkey.h (File Deleted) 


jilles      2006/06/28 15:48:24 UTC	(20060628-5580)
  Log:
  ChanServ UNBAN: allow unbanning things on the ban list
  which are not valid n!u@h masks; an existing nick takes
  precedence (removes all bans matching that user).
  

  Changes:	Modified:
  +28 -30	trunk/modules/chanserv/ban.c (File Modified) 


jilles      2006/06/28 14:46:11 UTC	(20060628-5578)
  Log:
  Update documentation for the ptlink protocol module.
  

  Changes:	Modified:
  +14 -1	trunk/doc/IRCD (File Modified) 


jilles      2006/06/28 14:25:29 UTC	(20060628-5576)
  Log:
  ptlink doesn't do services stamps, don't send them on SVSMODE
  

  Changes:	Modified:
  +3 -3		trunk/protocol/ptlink.c (File Modified) 


jilles      2006/06/28 14:14:09 UTC	(20060628-5574)
  Log:
  ptlink:
  - set services umode +p so they hide channels from lusers
  - send version number in SERVER command (appears in /map)
  

  Changes:	Modified:
  +3 -3		trunk/protocol/ptlink.c (File Modified) 


jilles      2006/06/28 13:45:38 UTC	(20060628-5572)
  Log:
  ptlink:
  - fix vhost changes if username was not changed
  - fix akill reasons
  

  Changes:	Modified:
  +3 -2		trunk/protocol/ptlink.c (File Modified) 


jilles      2006/06/28 13:16:40 UTC	(20060628-5570)
  Log:
  ptlink:
  - fix NICK/NNICK message
  - support NJOIN (burst SJOIN, no idea why they need a separate message)
  - add vhost support
  - recognize protect (admin) and halfop channel statuses but do not
    send them
  

  Changes:	Modified:
  +3 -0		trunk/include/protocol/ptlink.h (File Modified) 
  +52 -10	trunk/protocol/ptlink.c (File Modified) 


jilles      2006/06/28 00:45:08 UTC	(20060628-5568)
  Log:
  P10: Remove the TS on MODE commands.
  This is repropagated as 0 to other servers for U:lined
  servers, so not useful.
  

  Changes:	Modified:
  +9 -10	trunk/protocol/asuka.c (File Modified) 
  +7 -8		trunk/protocol/bircd.c (File Modified) 
  +7 -8		trunk/protocol/nefarious.c (File Modified) 
  +7 -8		trunk/protocol/undernet.c (File Modified) 


jilles      2006/06/28 00:15:34 UTC	(20060628-5566)
  Log:
  Remove the Chunky Monkey protocol module.
  I don't think anyone uses this: the ircd project
  is incomplete and dead. Also, the protocol is
  too similar to bahamut to be interesting.
  

  Changes:	Modified:
  +0 -10	trunk/doc/IRCD (File Modified) 
  +0 -1		trunk/protocol/Makefile.in (File Modified) 
  +0 -771	trunk/protocol/monkey.c (File Deleted) 


jilles      2006/06/26 23:56:33 UTC	(20060626-5564)
  Log:
  ChanServ REGISTER: Don't allow users with an unverified
  email address to register channels.
  Requested by Martin
  

  Changes:	Modified:
  +6 -0		trunk/modules/chanserv/register.c (File Modified) 


jilles      2006/06/25 01:11:16 UTC	(20060625-5562)
  Log:
  ChanServ CLEAR USERS:
  More sensible modestacker handling, make sure the stacker
  is flushed before we start kicking.
  

  Changes:	Modified:
  +2 -1		trunk/modules/chanserv/clear_users.c (File Modified) 


jilles      2006/06/25 00:46:21 UTC	(20060625-5560)
  Log:
  chanserv/main: more == TRUE removal
  

  Changes:	Modified:
  +5 -5		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/06/25 00:42:38 UTC	(20060625-5558)
  Log:
  channel_mode(): get rid of some ugliness (blah == TRUE etc).
  

  Changes:	Modified:
  +4 -10	trunk/src/cmode.c (File Modified) 


jilles      2006/06/25 00:27:47 UTC	(20060625-5556)
  Log:
  NickServ IDENTIFY, UserServ LOGIN: use new modestacker api
  

  Changes:	Modified:
  +5 -5		trunk/modules/nickserv/identify.c (File Modified) 
  +5 -5		trunk/modules/userserv/login.c (File Modified) 


jilles      2006/06/25 00:20:34 UTC	(20060625-5554)
  Log:
  ChanServ: use new modestacker api
  

  Changes:	Modified:
  +8 -8		trunk/modules/chanserv/ban.c (File Modified) 
  +1 -5		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +2 -5		trunk/modules/chanserv/clear_users.c (File Modified) 
  +4 -4		trunk/modules/chanserv/halfop.c (File Modified) 
  +9 -19	trunk/modules/chanserv/main.c (File Modified) 
  +4 -4		trunk/modules/chanserv/op.c (File Modified) 
  +4 -4		trunk/modules/chanserv/voice.c (File Modified) 
  +6 -6		trunk/modules/chanserv/xop.c (File Modified) 


jilles      2006/06/25 00:05:27 UTC	(20060625-5552)
  Log:
  Use UID if appropriate when opping/halfopping/voicing
  users added to a xOP list.
  

  Changes:	Modified:
  +6 -6		trunk/modules/chanserv/xop.c (File Modified) 


jilles      2006/06/24 23:29:30 UTC	(20060624-5550)
  Log:
  check_modes(): clarify a bit more
  

  Changes:	Modified:
  +6 -8		trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 23:22:40 UTC	(20060624-5548)
  Log:
  check_modes():
  - Use new modestacker api
  - Simplify somewhat, pretty-printing mode changes is the
    modestacker's task, not ours
  

  Changes:	Modified:
  +10 -27	trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 23:08:30 UTC	(20060624-5546)
  Log:
  Add a command line option -l to change the log file.
  
  Submitted by e-axe.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +12 -2	trunk/src/atheme.c (File Modified) 
  +1 -1		trunk/src/function.c (File Modified) 


jilles      2006/06/24 23:02:17 UTC	(20060624-5544)
  Log:
  check_modes(): Do not send out a mode if sendnow is false,
  a key is on the channel and a different key is mlocked.
  (This does not currently trigger because check_modes() is
  only called with false on channels which have their
  modes cleared.)
  

  Changes:	Modified:
  +2 -1		trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 22:54:44 UTC	(20060624-5542)
  Log:
  channel_mode(): use new modestacker api
  

  Changes:	Modified:
  +13 -38	trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 22:24:37 UTC	(20060624-5540)
  Log:
  ChanServ RECOVER: use new modestacker api
  

  Changes:	Modified:
  +11 -13	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2006/06/24 22:20:47 UTC	(20060624-5538)
  Log:
  Add a new modestacker API, modestack_mode_*(),
  modestack_flush_channel(), modestack_forget_channel().
  This will allow more compile time checking and less
  futzing around with strings (e.g. constructing "-h").
  

  Changes:	Modified:
  +7 -1		trunk/include/extern.h (File Modified) 
  +64 -0	trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 21:02:10 UTC	(20060624-5536)
  Log:
  hyperion doesn't have channel mode +p.
  

  Changes:	Modified:
  +0 -1		trunk/protocol/hyperion.c (File Modified) 


jilles      2006/06/24 18:30:43 UTC	(20060624-5534)
  Log:
  Make sure to also deprotect not logged in users if appropriate.
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/06/24 18:19:51 UTC	(20060624-5532)
  Log:
  ChanServ CLOSE: simplify using channel_mode_va().
  

  Changes:	Modified:
  +3 -23	trunk/modules/chanserv/close.c (File Modified) 


jilles      2006/06/24 17:30:52 UTC	(20060624-5530)
  Log:
  Make flush_cmode_callback() static.
  

  Changes:	Modified:
  +0 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/src/cmode.c (File Modified) 


jilles      2006/06/24 17:13:38 UTC	(20060624-5528)
  Log:
  Rewrite the mode stacker. This removes the Cygnus code,
  improves compatibility and omits redundant type C modes.
  There is no possibility for tracking pending modes for
  multiple channels anymore, with a 0 second timeout this
  seems only really useful for dreamforge-style ircds,
  which are obsolete.
  There is quite a lot of debug output; this can be removed
  later. The API is still the ugly cmode() thing, I plan
  to replace that by something more sensible.
  

  Changes:	Modified:
  +1 -2		trunk/README (File Modified) 
  +379 -235	trunk/src/cmode.c (File Modified) 


jilles      2006/06/23 18:25:01 UTC	(20060623-5526)
  Log:
  Don't allow mlocking a key starting with a colon or containing a comma.
  

  Changes:	Modified:
  +5 -0		trunk/modules/chanserv/set.c (File Modified) 


jilles      2006/06/23 17:26:26 UTC	(20060623-5524)
  Log:
  - Don't allow mlocking a key longer than 23 characters,
    ircd will truncate it and we'll be changing keys all
    the time.
  - Fix some memory leaks in /cs set mlock.
  

  Changes:	Modified:
  +1 -0		trunk/include/common.h (File Modified) 
  +10 -3	trunk/modules/chanserv/set.c (File Modified) 


jilles      2006/06/23 16:18:08 UTC	(20060623-5522)
  Log:
  P10: make this look more sane with channel_mode_va().
  also cause mlock checks when JOIN creates a channel.
  

  Changes:	Modified:
  +5 -7		trunk/protocol/asuka.c (File Modified) 
  +5 -7		trunk/protocol/bircd.c (File Modified) 
  +5 -7		trunk/protocol/nefarious.c (File Modified) 
  +5 -7		trunk/protocol/undernet.c (File Modified) 


jilles      2006/06/23 16:03:29 UTC	(20060623-5520)
  Log:
  channel_mode(): when sending -k while the channel has no
  key set, explicitly put "*" instead of relying on printf
  to treat "%s", NULL properly.
  

  Changes:	Modified:
  +1 -1		trunk/src/cmode.c (File Modified) 


jilles      2006/06/23 15:59:54 UTC	(20060623-5518)
  Log:
  ChanServ RECOVER:
  Use channel_mode_va() to simplify this a bit and update
  the tracking for type C modes.
  

  Changes:	Modified:
  +6 -18	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2006/06/23 15:56:02 UTC	(20060623-5516)
  Log:
  Add channel_mode_va(), a simple wrapper for channel_mode()
  allowing the parv array to be passed as varargs.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +24 -0	trunk/src/cmode.c (File Modified) 


jilles      2006/06/23 15:25:09 UTC	(20060623-5514)
  Log:
  Add tracking for non-standard simple modes with parameters (type C).
  At this time /cs recover will desync them.
  

  Changes:	Modified:
  +3 -0		trunk/include/channels.h (File Modified) 
  +38 -1	trunk/src/cmode.c (File Modified) 


w00t        2006/06/23 15:06:08 UTC	(20060623-5512)
  Log:
  Added hook on server EOB, fixes dual notice issue caused by r5508 changes noted by jilles

  Changes:	Modified:
  +24 -3	trunk/protocol/inspircd.c (File Modified) 


w00t        2006/06/23 09:19:12 UTC	(20060623-5508)
  Log:
  Forward port 5506, once I learned how 'patch' worked again.

  Changes:	Modified:
  +42 -23	trunk/protocol/inspircd.c (File Modified) 


jilles      2006/06/22 14:41:49 UTC	(20060622-5502)
  Log:
  Add some text about user and channel modes.
  Does not describe the in-the-works changes to type C modes.
  

  Changes:	Modified:
  +64 -0	trunk/doc/MODES (File Added) 


jilles      2006/06/22 13:36:19 UTC	(20060622-5500)
  Log:
  Unreal: deal with client SJOIN creating a channel
  Not tested
  

  Changes:	Modified:
  +6 -2		trunk/protocol/unreal.c (File Modified) 


jilles      2006/06/22 13:30:35 UTC	(20060622-5498)
  Log:
  All m_sjoin(), TS6 m_join():
  Give channel_mode() all parameters (but not the nicklist)
  instead of only the first two. This also simplifies the code.
  

  Changes:	Modified:
  +1 -10	trunk/protocol/bahamut.c (File Modified) 
  +2 -20	trunk/protocol/charybdis.c (File Modified) 
  +2 -20	trunk/protocol/hybrid.c (File Modified) 
  +1 -10	trunk/protocol/hyperion.c (File Modified) 
  +1 -10	trunk/protocol/monkey.c (File Modified) 
  +1 -10	trunk/protocol/plexus.c (File Modified) 
  +1 -10	trunk/protocol/ptlink.c (File Modified) 
  +2 -20	trunk/protocol/ratbox.c (File Modified) 
  +1 -10	trunk/protocol/shadowircd.c (File Modified) 
  +1 -10	trunk/protocol/solidircd.c (File Modified) 
  +1 -10	trunk/protocol/ultimate3.c (File Modified) 
  +1 -10	trunk/protocol/unreal.c (File Modified) 


jilles      2006/06/22 12:59:17 UTC	(20060622-5496)
  Log:
  Use clear_simple_modes() to free the key (and in future
  also the non-standard simple modes with parameters).
  

  Changes:	Modified:
  +1 -2		trunk/src/node.c (File Modified) 


jilles      2006/06/22 12:11:13 UTC	(20060622-5494)
  Log:
  Remove obsolete unused struct flag.
  

  Changes:	Modified:
  +0 -8		trunk/src/function.c (File Modified) 


jilles      2006/06/21 21:23:05 UTC	(20060621-5492)
  Log:
  Use clear_simple_modes() wherever appropriate.
  

  Changes:	Modified:
  +2 -5		trunk/modules/chanserv/main.c (File Modified) 
  +1 -5		trunk/protocol/asuka.c (File Modified) 
  +1 -6		trunk/protocol/bahamut.c (File Modified) 
  +1 -5		trunk/protocol/bircd.c (File Modified) 
  +2 -11	trunk/protocol/charybdis.c (File Modified) 
  +2 -11	trunk/protocol/hybrid.c (File Modified) 
  +1 -5		trunk/protocol/hyperion.c (File Modified) 
  +2 -10	trunk/protocol/monkey.c (File Modified) 
  +1 -5		trunk/protocol/nefarious.c (File Modified) 
  +1 -5		trunk/protocol/plexus.c (File Modified) 
  +1 -5		trunk/protocol/ptlink.c (File Modified) 
  +2 -11	trunk/protocol/ratbox.c (File Modified) 
  +1 -5		trunk/protocol/shadowircd.c (File Modified) 
  +1 -6		trunk/protocol/solidircd.c (File Modified) 
  +2 -10	trunk/protocol/ultimate3.c (File Modified) 
  +1 -5		trunk/protocol/undernet.c (File Modified) 
  +1 -5		trunk/protocol/unreal.c (File Modified) 


jilles      2006/06/21 21:02:07 UTC	(20060621-5490)
  Log:
  Add void clear_simple_modes(channel_t *c) to clear
  all simple modes (+imnpstkl etc) on a channel.
  Not used yet.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +13 -0	trunk/src/cmode.c (File Modified) 


jilles      2006/06/21 15:17:23 UTC	(20060621-5484)
  Log:
  channel_delete(): free key if it was set
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


jilles      2006/06/21 14:50:23 UTC	(20060621-5482)
  Log:
  inspircd: don't op remote users JOINing a new channel
  

  Changes:	Modified:
  +7 -13	trunk/protocol/inspircd.c (File Modified) 


jilles      2006/06/21 14:40:09 UTC	(20060621-5480)
  Log:
  Don't complain about notices from servers in debug log.
  

  Changes:	Modified:
  +4 -1		trunk/src/ptasks.c (File Modified) 


jilles      2006/06/21 14:04:41 UTC	(20060621-5478)
  Log:
  Fix umode +i tracking.
  

  Changes:	Modified:
  +10 -2	trunk/src/cmode.c (File Modified) 
  +2 -0		trunk/src/node.c (File Modified) 


jilles      2006/06/21 14:01:08 UTC	(20060621-5476)
  Log:
  Decrement oper count if an oper quits.
  

  Changes:	Modified:
  +2 -0		trunk/src/node.c (File Modified) 


jilles      2006/06/21 00:07:24 UTC	(20060621-5472)
  Log:
  Show more detailed version information in atheme -v.
  

  Changes:	Modified:
  +4 -2		trunk/src/atheme.c (File Modified) 


jilles      2006/06/20 23:55:15 UTC	(20060620-5470)
  Log:
  Yeah don't reference mc if it's NULL.
  Found by Lauren.
  

  Changes:	Modified:
  +2 -1		trunk/src/cmode.c (File Modified) 


jilles      2006/06/20 23:31:25 UTC	(20060620-5468)
  Log:
  Send errors in the conf file to the log file instead of stderr.
  

  Changes:	Modified:
  +1 -1		trunk/src/confparse.c (File Modified) 


jilles      2006/06/20 23:24:29 UTC	(20060620-5466)
  Log:
  Split out conf_parse() some.
  When rehashing, do reading and low-level parsing of the
  conf file before clearing, so we can abort the rehash
  cleanly if that fails.
  Errors detected by conf_check(), or errors not checked for
  at all, may still lead to strange behaviour.
  

  Changes:	Modified:
  +35 -15	trunk/src/conf.c (File Modified) 


jilles      2006/06/20 23:00:21 UTC	(20060620-5464)
  Log:
  Don't shut down if the language file has invalid syntax
  or if the config file has invalid syntax on a rehash;
  however, in the latter case operclasses are lost so the
  next rehash has to be done with a signal.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +9 -2		trunk/src/atheme.c (File Modified) 
  +6 -8		trunk/src/conf.c (File Modified) 


jilles      2006/06/20 22:34:47 UTC	(20060620-5462)
  Log:
  Add getkey command to chanserv, returns the current
  channel key (+k). Needs +i flag, like invite (both +i
  and +k are modes to keep outsiders out).
  Also works when the requester is on channel, since some
  ircds only allow channel operators to see the key.
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 
  +1 -1		trunk/help/cservice/flags (File Modified) 
  +9 -0		trunk/help/cservice/getkey (File Added) 
  +1 -0		trunk/modules/chanserv/Makefile.in (File Modified) 
  +88 -0	trunk/modules/chanserv/getkey.c (File Added) 


jilles      2006/06/20 19:08:22 UTC	(20060620-5460)
  Log:
  Limit mode lock checks to the following cases:
  - first mode change or non-akicked join after channel
    creation or TS change
  - mode change that alters simple modes
  

  Changes:	Modified:
  +2 -1		trunk/include/account.h (File Modified) 
  +22 -1	trunk/modules/chanserv/main.c (File Modified) 
  +29 -2	trunk/src/cmode.c (File Modified) 


jilles      2006/06/20 19:01:32 UTC	(20060620-5458)
  Log:
  inspircd m_fjoin(), P10 m_burst(), m_create():
  make sure we call channel_mode() if a new channel is created,
  otherwise mlock is only checked when a non-akicked user joins
  

  Changes:	Modified:
  +19 -0	trunk/protocol/asuka.c (File Modified) 
  +19 -0	trunk/protocol/bircd.c (File Modified) 
  +8 -0		trunk/protocol/inspircd.c (File Modified) 
  +19 -0	trunk/protocol/nefarious.c (File Modified) 
  +19 -0	trunk/protocol/undernet.c (File Modified) 


jilles      2006/06/20 16:47:01 UTC	(20060620-5456)
  Log:
  Add channel_tschange hook for TS changes due to protocol
  messages. When this is called it is safe to send mode
  changes as services will already have been reopped if
  necessary; for the rest, old modes have been cleared
  (if necessary) and new modes have not been set yet.
  This does not matter for my intended use (scheduling
  mlock checks) though.
  

  Changes:	Modified:
  +1 -0		trunk/doc/HOOKS (File Modified) 
  +1 -0		trunk/protocol/asuka.c (File Modified) 
  +2 -0		trunk/protocol/bahamut.c (File Modified) 
  +1 -0		trunk/protocol/bircd.c (File Modified) 
  +4 -0		trunk/protocol/charybdis.c (File Modified) 
  +4 -0		trunk/protocol/hybrid.c (File Modified) 
  +1 -0		trunk/protocol/hyperion.c (File Modified) 
  +1 -0		trunk/protocol/inspircd.c (File Modified) 
  +2 -0		trunk/protocol/monkey.c (File Modified) 
  +1 -0		trunk/protocol/nefarious.c (File Modified) 
  +1 -0		trunk/protocol/plexus.c (File Modified) 
  +1 -0		trunk/protocol/ptlink.c (File Modified) 
  +4 -0		trunk/protocol/ratbox.c (File Modified) 
  +1 -0		trunk/protocol/shadowircd.c (File Modified) 
  +2 -0		trunk/protocol/solidircd.c (File Modified) 
  +2 -0		trunk/protocol/ultimate3.c (File Modified) 
  +1 -0		trunk/protocol/undernet.c (File Modified) 
  +3 -0		trunk/protocol/unreal.c (File Modified) 


jilles      2006/06/19 14:49:19 UTC	(20060619-5454)
  Log:
  Get rid of compile warning about redundant comparison in src/base64.c.
  

  Changes:	Modified:
  +6 -0		trunk/src/base64.c (File Modified) 


jilles      2006/06/19 11:49:33 UTC	(20060619-5432)
  Log:
  Rerun autoconf.
  

  Changes:	Modified:
  +14 -14	trunk/configure (File Modified) 


jilles      2006/06/19 11:49:03 UTC	(20060619-5430)
  Log:
  Version bump for trunk to 1.2.0.
  

  Changes:	Modified:
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/06/19 10:04:20 UTC	(20060619-5426)
  Log:
  Put netwide EOB support in the core (a few protocol modules
  already used this internally). This allows distinguishing
  between existing users coming back from a netsplit and new
  users. This adds a new hook server_eob with parameter
  server_t *s.
  
  P10 and ircnet use the protocol's specific burst detection,
  the others emulate it using PING/PONG. Note that in some
  protocols the burst detection only works locally, so it is
  not useful here.
  

  Changes:	Modified:
  +1 -0		trunk/doc/HOOKS (File Modified) 
  +1 -0		trunk/include/extern.h (File Modified) 
  +2 -2		trunk/include/servers.h (File Modified) 
  +15 -2	trunk/protocol/asuka.c (File Modified) 
  +17 -1	trunk/protocol/bahamut.c (File Modified) 
  +15 -2	trunk/protocol/bircd.c (File Modified) 
  +4 -5		trunk/protocol/charybdis.c (File Modified) 
  +17 -1	trunk/protocol/dreamforge.c (File Modified) 
  +4 -5		trunk/protocol/hybrid.c (File Modified) 
  +17 -1	trunk/protocol/hyperion.c (File Modified) 
  +17 -1	trunk/protocol/inspircd.c (File Modified) 
  +2 -10	trunk/protocol/ircnet.c (File Modified) 
  +17 -1	trunk/protocol/monkey.c (File Modified) 
  +15 -2	trunk/protocol/nefarious.c (File Modified) 
  +17 -1	trunk/protocol/plexus.c (File Modified) 
  +15 -0	trunk/protocol/ptlink.c (File Modified) 
  +4 -5		trunk/protocol/ratbox.c (File Modified) 
  +17 -1	trunk/protocol/shadowircd.c (File Modified) 
  +17 -1	trunk/protocol/solidircd.c (File Modified) 
  +17 -1	trunk/protocol/sorcery.c (File Modified) 
  +17 -1	trunk/protocol/ultimate3.c (File Modified) 
  +15 -2	trunk/protocol/undernet.c (File Modified) 
  +17 -1	trunk/protocol/unreal.c (File Modified) 
  +21 -0	trunk/src/ptasks.c (File Modified) 


jilles      2006/06/19 00:00:25 UTC	(20060619-5424)
  Log:
  join(): if a service creates a registered channel and
  chanserv::changets is enabled, create it with the
  registration time as TS. This stops chanserv's
  channel_add hook changing the TS and causing trouble.
  

  Changes:	Modified:
  +2 -2		trunk/src/services.c (File Modified) 


jilles      2006/06/18 23:26:55 UTC	(20060618-5422)
  Log:
  Remove the special case for +k in changets: put +k in
  the new modes like normal.
  I don't see enough benefit in doing it later, also
  because that makes it harder to optimize mlock checks.
  

  Changes:	Modified:
  +2 -3		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/06/18 19:02:46 UTC	(20060618-5420)
  Log:
  Remove duplicate constant for +z and use the unreal module's one.
  

  Changes:	Modified:
  +0 -1		trunk/include/protocol/inspircd.h (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/06/18 15:14:17 UTC	(20060618-5418)
  Log:
  Revert gratuitous changes to comment formatting,
  these cause grief every time I port something over.
  

  Changes:	Modified:
  +30 -63	trunk/protocol/ultimate3.c (File Modified) 


jilles      2006/06/18 13:19:45 UTC	(20060618-5416)
  Log:
  Make skipping the colon on the prefix somewhat more rational.
  

  Changes:	Modified:
  +2 -6		trunk/src/parse.c (File Modified) 


brain       2006/06/18 12:51:17 UTC	(20060618-5414)
  Log:
  Put back gline and FNC stuff, there was a difference between our svn and athemes.
  

  Changes:	Modified:
  +11 -2	trunk/protocol/inspircd.c (File Modified) 


brain       2006/06/18 12:48:44 UTC	(20060618-5412)
  Log:
  Add support for channel mode +T, remove constant for channel mode +A (inspircd does not have this mode, throwback to unreal.c)
  

  Changes:	Modified:
  +1 -1		trunk/include/protocol/inspircd.h (File Modified) 
  +3 -11	trunk/protocol/inspircd.c (File Modified) 


brain       2006/06/18 03:28:26 UTC	(20060618-5410)
  Log:
  Fixed bug reported by Martin, linked +P and +z (they had the same constants in inspircd.h)
  

  Changes:	Modified:
  +1 -1		trunk/include/protocol/inspircd.h (File Modified) 


jilles      2006/06/18 01:16:45 UTC	(20060618-5408)
  Log:
  More precise description of what "activity" of a channel means.
  expiry == 0 means stuff doesn't expire
  

  Changes:	Modified:
  +14 -5	trunk/modules/chanserv/help.c (File Modified) 


jilles      2006/06/18 00:50:13 UTC	(20060618-5406)
  Log:
  Check last used for channels slightly more often
  to prevent Last used showing up for active channels
  (no join/part but user with appropriate flags online).
  

  Changes:	Modified:
  +4 -2		trunk/src/node.c (File Modified) 


jilles      2006/06/18 00:41:31 UTC	(20060618-5404)
  Log:
  Remove XXX comment before expire_check(), it was fixed quite some time ago.
  

  Changes:	Modified:
  +0 -1		trunk/src/node.c (File Modified) 


jilles      2006/06/18 00:38:10 UTC	(20060618-5402)
  Log:
  Make last used time for channels more accurate
  (update it in expire_check more often, and on
  part/quit). Show it in /cs info if more than
  a day ago.
  

  Changes:	Modified:
  +7 -0		trunk/modules/chanserv/info.c (File Modified) 
  +3 -0		trunk/modules/chanserv/main.c (File Modified) 
  +6 -1		trunk/src/node.c (File Modified) 
  +3 -0		trunk/src/services.c (File Modified) 


jilles      2006/06/18 00:01:56 UTC	(20060618-5400)
  Log:
  chanserv count contrib module:
  make this work better in the flags world
  show 'other' for entries not in any xOP list
  show counts for each flag also
  

  Changes:	Modified:
  +22 -2	trunk/contrib/cs_count.c (File Modified) 
  +6 -2		trunk/help/cservice/count (File Modified) 


jilles      2006/06/17 23:09:35 UTC	(20060617-5398)
  Log:
  Don't clear key, limit and non-standard simple modes if
  the requester is on channel (they can do it themselves).
  

  Changes:	Modified:
  +28 -25	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2006/06/17 22:47:00 UTC	(20060617-5396)
  Log:
  ChanServ RECOVER: Unset non-standard simple modes with
  parameter, such as join throttling. This should really
  only unset modes that could keep people out but it
  does not.
  

  Changes:	Modified:
  +14 -0	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2006/06/17 12:56:36 UTC	(20060617-5394)
  Log:
  Clarify that local operators (in some ircds) are not
  IRCops from atheme's point of view.
  

  Changes:	Modified:
  +3 -0		trunk/doc/PRIVILEGES (File Modified) 


w00t        2006/06/17 07:28:37 UTC	(20060617-5392)
  Log:
  Not all AKILLs on inspircd should be permanent.

  Changes:	Modified:
  +1 -1		trunk/protocol/inspircd.c (File Modified) 


w00t        2006/06/17 04:50:19 UTC	(20060617-5390)
  Log:
  - Remove OS KLINE -- it's only been deprecated since 0.2 or so.

  Changes:	Modified:
  +2 -5		trunk/modules/operserv/akill.c (File Modified) 


w00t        2006/06/17 01:35:32 UTC	(20060617-5388)
  Log:
  - Add suppport for forced nick changes to InspIRCd protocol module through use of SVSNICK. Sent from server, not 'source', as InspIRCd requires a server send SVSNICK.

  Changes:	Modified:
  +9 -0		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/06/15 17:01:40 UTC	(20060615-5386)
  Log:
  Better chanserv::changets description.
  

  Changes:	Modified:
  +12 -6	trunk/dist/example.conf (File Modified) 
  +12 -6	trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/06/15 12:43:01 UTC	(20060615-5384)
  Log:
  P10: Fix global notices.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/nefarious.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/06/14 19:13:04 UTC	(20060614-5382)
  Log:
  Fix compile breakage reported by Lauren.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/inspircd.c (File Modified) 


brain       2006/06/14 14:40:41 UTC	(20060614-5380)
  Log:
  Add cmode +z (ssl only)
  

  Changes:	Modified:
  +1 -0		trunk/include/protocol/inspircd.h (File Modified) 
  +1 -0		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/06/14 11:42:30 UTC	(20060614-5378)
  Log:
  Forced commit to note that the previous commit (r5376)
  changed MEMOLEN from 129 to 300.
  (svn doesn't seem to support forced commits so I removed
  a space somewhere)
  

  Changes:	Modified:
  +1 -1		trunk/include/common.h (File Modified) 


nenolod     2006/06/13 07:45:49 UTC	(20060613-5376)
  Log:
  - ZOMG WTF
  

  Changes:	Modified:
  +1 -1		trunk/include/common.h (File Modified) 


jilles      2006/06/12 15:57:40 UTC	(20060612-5374)
  Log:
  - Add another necessary comment line for DH-BLOWFISH
  - Add DH-BLOWFISH to example.userserv.conf also
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/06/11 23:09:50 UTC	(20060611-5372)
  Log:
  Port over r5370 from bahamut to solidircd protocol module:
  stuff to lower channel TS
  

  Changes:	Modified:
  +61 -37	trunk/protocol/solidircd.c (File Modified) 


jilles      2006/06/11 23:02:20 UTC	(20060611-5370)
  Log:
  bahamut: stuff to lower channel TS
  

  Changes:	Modified:
  +61 -37	trunk/protocol/bahamut.c (File Modified) 


jilles      2006/06/11 22:05:33 UTC	(20060611-5368)
  Log:
  Also clear +l when lowering a TS.
  

  Changes:	Modified:
  +1 -0		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/06/11 20:45:14 UTC	(20060611-5366)
  Log:
  Port over r5356 and r5364 from charybdis to ratbox and hybrid protocol modules:
  stuff to lower channel TS
  

  Changes:	Modified:
  +65 -9	trunk/protocol/hybrid.c (File Modified) 
  +65 -9	trunk/protocol/ratbox.c (File Modified) 


jilles      2006/06/11 20:28:33 UTC	(20060611-5364)
  Log:
  If chanserv::changets is enabled, change the TS of recreated
  registered channels to their registration time, if that is
  older than their current TS. This removes all simple modes
  and statuses (and depending on the ircd also bans and/or topic)
  from the channel. The simple modes are replaced by +nt
  modified by the channel mode lock (+k is set later, when
  someone joins).
  
  Currently only for the charybdis protocol module but
  ratbox, hybrid and bahamut will follow soon.
  

  Changes:	Modified:
  +7 -0		trunk/include/phandler.h (File Modified) 
  +23 -4	trunk/modules/chanserv/main.c (File Modified) 
  +11 -0	trunk/protocol/charybdis.c (File Modified) 
  +7 -0		trunk/src/phandler.c (File Modified) 


jilles      2006/06/11 15:30:47 UTC	(20060611-5362)
  Log:
  Rename cs_keeptopic_newchan() to cs_newchan() as we
  will do TS changes here soon.
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/06/11 15:12:16 UTC	(20060611-5360)
  Log:
  Document svslogin_sts and sasl_sts.
  

  Changes:	Modified:
  +3 -1		trunk/include/phandler.h (File Modified) 


jilles      2006/06/11 15:07:07 UTC	(20060611-5358)
  Log:
  Add chanserv::changets config option. Does not do anything yet.
  Make sure to 'make clean' when updating across this, otherwise
  you may get segfaults.
  

  Changes:	Modified:
  +9 -0		trunk/dist/example.conf (File Modified) 
  +9 -0		trunk/dist/example.userserv.conf (File Modified) 
  +2 -0		trunk/include/services.h (File Modified) 
  +9 -0		trunk/src/conf.c (File Modified) 


jilles      2006/06/11 14:09:04 UTC	(20060611-5356)
  Log:
  Enhance TS support to ignore modes with a younger TS.
  This will allow us to lower a channel's TS.
  We do not mark users as deopped (drop modes from them)
  so this will not work 100% with TS5.
  

  Changes:	Modified:
  +54 -9	trunk/protocol/charybdis.c (File Modified) 


jilles      2006/06/09 18:35:06 UTC	(20060609-5354)
  Log:
  If we send a wallops because the log file could not
  be opened, first set the variable so we don't
  immediately wallops again and then do the wallops.
  wallops() could try to log in certain cases.
  

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


jilles      2006/06/09 16:38:48 UTC	(20060609-5352)
  Log:
  All protocol modules: allow PART with multiple channels separated by commas.
  Not all ircds actually send these but this keeps the m_part functions
  the same everywhere.
  

  Changes:	Modified:
  +12 -2	trunk/protocol/asuka.c (File Modified) 
  +12 -2	trunk/protocol/bahamut.c (File Modified) 
  +12 -2	trunk/protocol/bircd.c (File Modified) 
  +12 -2	trunk/protocol/charybdis.c (File Modified) 
  +12 -2	trunk/protocol/dreamforge.c (File Modified) 
  +12 -2	trunk/protocol/hybrid.c (File Modified) 
  +12 -2	trunk/protocol/hyperion.c (File Modified) 
  +12 -2	trunk/protocol/inspircd.c (File Modified) 
  +12 -2	trunk/protocol/ircnet.c (File Modified) 
  +12 -2	trunk/protocol/monkey.c (File Modified) 
  +12 -2	trunk/protocol/nefarious.c (File Modified) 
  +12 -2	trunk/protocol/plexus.c (File Modified) 
  +12 -2	trunk/protocol/ptlink.c (File Modified) 
  +12 -2	trunk/protocol/ratbox.c (File Modified) 
  +12 -2	trunk/protocol/shadowircd.c (File Modified) 
  +12 -2	trunk/protocol/solidircd.c (File Modified) 
  +12 -2	trunk/protocol/sorcery.c (File Modified) 
  +12 -2	trunk/protocol/ultimate3.c (File Modified) 
  +12 -2	trunk/protocol/undernet.c (File Modified) 
  +12 -2	trunk/protocol/unreal.c (File Modified) 


gxti        2006/06/09 03:36:14 UTC	(20060609-5350)
  Log:
  Add saslserv/dh-blowfish.so to example config (commented out).
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.conf (File Modified) 


jilles      2006/06/04 18:58:21 UTC	(20060604-5348)
  Log:
  Make disabling sasl in ./setup work.
  

  Changes:	Modified:
  +3 -0		trunk/setup (File Modified) 


jilles      2006/06/04 18:26:42 UTC	(20060604-5346)
  Log:
  Show number of active connections in /stats t.
  

  Changes:	Modified:
  +17 -0	trunk/libatheme/connection.c (File Modified) 
  +1 -0		trunk/libatheme/connection.h (File Modified) 
  +1 -0		trunk/src/ptasks.c (File Modified) 


jilles      2006/06/04 17:48:03 UTC	(20060604-5344)
  Log:
  flatfile load: show errno in logs if open failed
  

  Changes:	Modified:
  +4 -3		trunk/backend/flatfile.c (File Modified) 


jilles      2006/06/04 13:04:04 UTC	(20060604-5342)
  Log:
  flatfile save:
  - show errno in logs and wallops
  - check if any write or close failed and if so log and
    wallops and do not overwrite the correct database with
    the incomplete file
  

  Changes:	Modified:
  +18 -6	trunk/backend/flatfile.c (File Modified) 


brain       2006/06/03 21:51:17 UTC	(20060603-5340)
  Log:
  Added note about requiring m_globops on inspircd
  

  Changes:	Modified:
  +3 -1		trunk/doc/IRCD (File Modified) 


jilles      2006/06/03 17:41:25 UTC	(20060603-5338)
  Log:
  Nefarious: remove +x vhost on logout.
  

  Changes:	Modified:
  +7 -0		trunk/protocol/nefarious.c (File Modified) 


jilles      2006/06/03 17:03:36 UTC	(20060603-5336)
  Log:
  Add nefarious section.
  

  Changes:	Modified:
  +23 -0	trunk/doc/IRCD (File Modified) 


jilles      2006/06/03 16:37:20 UTC	(20060603-5334)
  Log:
  - Add Id keyword to cs_kickdots.c
  - Add cs_kickdots to contrib Makefile
  

  Changes:	Modified:
  +1 -0		trunk/contrib/Makefile.in (File Modified) 
  + -		trunk/contrib/cs_kickdots.c  (Property Modified)


jilles      2006/06/03 15:01:06 UTC	(20060603-5332)
  Log:
  Nefarious:
  - don't send an account timestamp as we don't recognize
    what's sent back if we do
  - recognize that logout works
  

  Changes:	Modified:
  +2 -2		trunk/protocol/nefarious.c (File Modified) 


gxti        2006/05/31 02:25:21 UTC	(20060531-5330)
  Log:
  Provide a command to list mechanisms supported by the script.
  

  Changes:	Modified:
  +5 -0		trunk/contrib/cap_sasl.pl (File Modified) 


gxti        2006/05/30 04:01:34 UTC	(20060530-5328)
  Log:
  Incorporate SSL-enabled SASL mechanisms into build system.
  Autotools regenerated.
  

  Changes:	Modified:
  +254 -4	trunk/configure (File Modified) 
  +24 -0	trunk/configure.ac (File Modified) 
  +1 -0		trunk/include/atheme.h (File Modified) 
  +9 -0		trunk/include/sysconf.h.in (File Modified) 
  +2 -5		trunk/modules/saslserv/Makefile.in (File Modified) 
  +3 -0		trunk/modules/saslserv/dh-blowfish.c (File Modified) 
  +3 -0		trunk/modules/saslserv/pubkey.c (File Modified) 


gxti        2006/05/29 23:45:45 UTC	(20060529-5326)
  Log:
  Documentation added for SaslServ PKEY.
  New sasl module dh-blowfish.c for encrypted password auth (not yet in build system).
  cap_sasl.pl added to tree under contrib/ with multi-mech support.
  

  Changes:	Modified:
  +267 -0	trunk/contrib/cap_sasl.pl (File Added) 
  + -		trunk/help/saslserv/ (File Added) 
  +15 -0	trunk/help/saslserv/pkey (File Added) 
  +170 -0	trunk/modules/saslserv/dh-blowfish.c (File Added) 


jilles      2006/05/27 23:32:52 UTC	(20060527-5324)
  Log:
  Don't flag an error when closing the connection at shutdown.
  (Unless SO_ERROR has some error, then we want that.)
  

  Changes:	Modified:
  +1 -0		trunk/src/atheme.c (File Modified) 


jilles      2006/05/27 23:23:59 UTC	(20060527-5321)
  Log:
  connection_close(): Get the error from the socket using getsockopt SO_ERROR.
  

  Changes:	Modified:
  +2 -0		trunk/configure.ac (File Modified) 
  +15 -2	trunk/libatheme/connection.c (File Modified) 


jilles      2006/05/27 23:01:49 UTC	(20060527-5319)
  Log:
  Null out curr_uplink->conn if it's closed.
  

  Changes:	Modified:
  +1 -0		trunk/src/uplink.c (File Modified) 


jilles      2006/05/27 22:53:31 UTC	(20060527-5317)
  Log:
  Apparently connection_close(NULL) is not supposed to crash,
  so make it so.
  

  Changes:	Modified:
  +4 -4		trunk/libatheme/connection.c (File Modified) 


brain       2006/05/26 20:11:58 UTC	(20060526-5315)
  Log:
  InspIRCd: Add support for modelock of +P and +G
  UnrealIRCd: Add support for modelock of +G
  

  Changes:	Modified:
  +2 -0		trunk/include/protocol/inspircd.h (File Modified) 
  +1 -0		trunk/include/protocol/unreal.h (File Modified) 
  +2 -0		trunk/protocol/inspircd.c (File Modified) 
  +1 -0		trunk/protocol/unreal.c (File Modified) 


jilles      2006/05/25 15:18:32 UTC	(20060525-5313)
  Log:
  select/poll:
  Iterate twice over the connection list, once for checking
  for reading and once for checking for writing, as the
  functions we call may destroy the connection and remove
  it from the list.
  

  Changes:	Modified:
  +20 -7	trunk/libatheme/poll.c (File Modified) 
  +10 -2	trunk/libatheme/select.c (File Modified) 


gxti        2006/05/25 03:28:33 UTC	(20060525-5311)
  Log:
  DSA auth! It's aliiiiiive!
  

  Changes:	Modified:
  +24 -8	trunk/modules/saslserv/pubkey.c (File Modified) 


jilles      2006/05/25 01:50:44 UTC	(20060525-5309)
  Log:
  Don't use non-standard strnlen() here.
  It is not necessary anyway as sasl.c gives '\0'-terminated data.
  

  Changes:	Modified:
  +4 -4		trunk/modules/saslserv/plain.c (File Modified) 


jilles      2006/05/25 01:12:42 UTC	(20060525-5307)
  Log:
  - Make saslserv() static as we don't need it outside main.c
  - Fix /msg (null) help <command> in help
  - Don't use abbreviated command listing as saslserv will
    have few commands.
  

  Changes:	Modified:
  +1 -1		trunk/modules/saslserv/help.c (File Modified) 
  +3 -1		trunk/modules/saslserv/main.c (File Modified) 


jilles      2006/05/25 01:02:29 UTC	(20060525-5305)
  Log:
  Compile fix.
  

  Changes:	Modified:
  +1 -1		trunk/modules/saslserv/help.c (File Modified) 


gxti        2006/05/24 04:03:06 UTC	(20060524-5303)
  Log:
  SaslServ command/help framework added (no docs yet).
  Pulled pubkey from makefile due to incompleteness and deps.
  Pubkey now works somewhat with RSA, not with DSA just yet.
  

  Changes:	Modified:
  +1 -1		trunk/modules/saslserv/Makefile.in (File Modified) 
  +71 -0	trunk/modules/saslserv/help.c (File Added) 
  +4 -1		trunk/modules/saslserv/main.c (File Modified) 
  +133 -104	trunk/modules/saslserv/pubkey.c (File Modified) 


gxti        2006/05/24 04:01:35 UTC	(20060524-5301)
  Log:
  PLAIN auth now a little cleaner/safer.
  

  Changes:	Modified:
  +6 -6		trunk/modules/saslserv/plain.c (File Modified) 


jilles      2006/05/23 22:11:24 UTC	(20060523-5299)
  Log:
  Rerun autoconf.
  

  Changes:	Modified:
  +6 -6		trunk/configure (File Modified) 


jilles      2006/05/23 22:10:54 UTC	(20060523-5297)
  Log:
  Change effect of --disable-sasl: it now prevents make
  from entering modules/saslserv/ at all. This way the
  list of sasl source files can live in modules/saslserv/Makefile.in
  instead of in configure.ac.
  

  Changes:	Modified:
  +3 -3		trunk/configure.ac (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  +3 -3		trunk/modules/saslserv/Makefile.in (File Modified) 


jilles      2006/05/23 22:01:30 UTC	(20060523-5295)
  Log:
  Rerun autoconf and autoheader.
  

  Changes:	Modified:
  +4 -4		trunk/configure (File Modified) 
  +1 -1		trunk/include/sysconf.h.in (File Modified) 


jilles      2006/05/23 22:00:58 UTC	(20060523-5293)
  Log:
  Make explicit --enable-sasl work.
  

  Changes:	Modified:
  +2 -2		trunk/configure.ac (File Modified) 


jilles      2006/05/23 21:48:03 UTC	(20060523-5291)
  Log:
  Fix Id keyword and remove C++ comments.
  

  Changes:	Modified:
  +5 -5		trunk/modules/saslserv/pubkey.c (File Modified) (Property Modified)


gxti        2006/05/23 21:18:47 UTC	(20060523-5289)
  Log:
  Added helpfile for ChanServ SET PROPERTY.
  

  Changes:	Modified:
  +13 -0	trunk/help/cservice/set_property (File Added) 


gxti        2006/05/22 22:36:37 UTC	(20060522-5287)
  Log:
  Minor grammatical fix.
  

  Changes:	Modified:
  +1 -1		trunk/help/oservice/akill (File Modified) 


gxti        2006/05/22 01:21:37 UTC	(20060522-5285)
  Log:
  Precursory DSA/RSA-SHA1 mechanism (pubkey.so).
  

  Changes:	Modified:
  +4 -1		trunk/modules/saslserv/Makefile.in (File Modified) 
  +454 -0	trunk/modules/saslserv/pubkey.c (File Added) 


nenolod     2006/05/22 00:37:43 UTC	(20060522-5283)
  Log:
  no explanation necessary...

  Changes:	Modified:
  +35 -0	trunk/contrib/cs_kickdots.c (File Added) 


jilles      2006/05/21 00:21:33 UTC	(20060521-5281)
  Log:
  Moved netadmin to general:admin and hid it under a #define USE_NETADMIN.
  We don't endorse stuff like this but if people really want it then so
  be it.
  

  Changes:	Modified:
  +14 -12	trunk/protocol/plexus.c (File Modified) 


nenolod     2006/05/20 23:37:18 UTC	(20060520-5279)
  Log:
  - Improve support for PleXusIRCd 3.x, patch by eggy.
  

  Changes:	Modified:
  +17 -7	trunk/protocol/plexus.c (File Modified) 


jilles      2006/05/19 17:07:13 UTC	(20060519-5277)
  Log:
  NickServ GHOST: fix "Invalid password for (null)".
  Reported by damian.
  

  Changes:	Modified:
  +11 -4	trunk/modules/nickserv/ghost.c (File Modified) 


nenolod     2006/05/17 17:20:05 UTC	(20060517-5275)
  Log:
  - version bump: 1.1.1
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/05/17 13:21:13 UTC	(20060517-5273)
  Log:
  Rename msg variable to avoid warning about shadowing.
  

  Changes:	Modified:
  +5 -5		trunk/protocol/charybdis.c (File Modified) 


jilles      2006/05/17 13:12:39 UTC	(20060517-5271)
  Log:
  Ratbox/charybdis/hybrid: Do not try to TB an
  empty topic, this can cause trouble.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/hybrid.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 


nenolod     2006/05/16 12:55:16 UTC	(20060516-5269)
  Log:
  - updates in regards to PleXus 3.
  

  Changes:	Modified:
  +12 -4	trunk/doc/IRCD (File Modified) 


jilles      2006/05/16 11:10:44 UTC	(20060516-5267)
  Log:
  - Mention commenting out mta to disable email
  - Warn that sending email may disclose services's IP
  

  Changes:	Modified:
  +3 -0		trunk/dist/example.conf (File Modified) 
  +3 -0		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/05/16 10:50:16 UTC	(20060516-5265)
  Log:
  Bahamut: tell people not to use "services hub" server type.
  

  Changes:	Modified:
  +2 -0		trunk/doc/IRCD (File Modified) 


nenolod     2006/05/16 04:22:14 UTC	(20060516-5263)
  Log:
  - update plexus support to version 3
  

  Changes:	Modified:
  +43 -21	trunk/protocol/plexus.c (File Modified) 


jilles      2006/05/07 21:47:38 UTC	(20060507-5261)
  Log:
  If a service is killed while alone in a permanent channel
  (e.g. +P in charybdis), the channel will not have been
  destroyed.
  

  Changes:	Modified:
  +1 -1		trunk/src/services.c (File Modified) 


jilles      2006/05/05 21:25:40 UTC	(20060505-5259)
  Log:
  Add better descriptions to sasl modules. Bring
  example.userserv.conf up to date also.
  

  Changes:	Modified:
  +6 -1		trunk/dist/example.conf (File Modified) 
  +7 -1		trunk/dist/example.userserv.conf (File Modified) 


gxti        2006/05/05 21:20:49 UTC	(20060505-5257)
  Log:
  Remove crypt module from example conf and add warning to source pertaining to vulnerability.
  

  Changes:	Modified:
  +0 -1		trunk/dist/example.conf (File Modified) 
  +7 -0		trunk/modules/saslserv/crypt.c (File Modified) 


nenolod     2006/05/05 02:05:07 UTC	(20060505-5255)
  Log:
  - alignment changes: 16 characters becomes 15 characters to align with 'Other commands: <XXX>'
  

  Changes:	Modified:
  +2 -2		trunk/src/commandtree.c (File Modified) 


nenolod     2006/05/05 01:52:28 UTC	(20060505-5253)
  Log:
  - add SASL option and ability to append extra options to configure to setup script
  

  Changes:	Modified:
  +48 -0	trunk/setup (File Modified) 


nenolod     2006/05/05 01:43:39 UTC	(20060505-5251)
  Log:
  - durrrr
  

  Changes:	Modified:
  +0 -4		trunk/modules/saslserv/plain.c (File Modified) 


nenolod     2006/05/05 01:43:04 UTC	(20060505-5249)
  Log:
  - no, put that back
  

  Changes:	Modified:
  +4 -0		trunk/modules/saslserv/plain.c (File Modified) 


nenolod     2006/05/05 01:41:08 UTC	(20060505-5247)
  Log:
  - revert?
  

  Changes:	Modified:
  +0 -3		trunk/modules/saslserv/plain.c (File Modified) 


nenolod     2006/05/05 01:40:30 UTC	(20060505-5245)
  Log:
  - return ASASL_FAIL if the account is frozen
  

  Changes:	Modified:
  +3 -0		trunk/modules/saslserv/plain.c (File Modified) 


jilles      2006/05/04 00:31:41 UTC	(20060504-5243)
  Log:
  Comment change: fantasy commands are now (since r4557) indeed checked separately.
  

  Changes:	Modified:
  +1 -4		trunk/src/ptasks.c (File Modified) 


jilles      2006/05/03 15:42:14 UTC	(20060503-5221)
  Log:
  Don't show (H) in the description for hidden servers (/whois etc).
  

  Changes:	Modified:
  +9 -4		trunk/src/node.c (File Modified) 


jilles      2006/05/03 15:02:49 UTC	(20060503-5207)
  Log:
  Update to new definition of atheme.channel.access.get.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/xmlrpc_explorer.php (File Modified) 


jilles      2006/05/03 14:51:14 UTC	(20060503-5203)
  Log:
  Comment changes to CRYPT mechanism:
  - add warning that this allows logging in given just the
    encrypted password
  - $1$ MD5 based password encryption is originally from
    FreeBSD (phk), not GNU
  

  Changes:	Modified:
  +3 -1		trunk/modules/saslserv/crypt.c (File Modified) 


jilles      2006/05/03 14:43:23 UTC	(20060503-5199)
  Log:
  Remove cs_repair.c, it probably wasn't meant to be committed.
  (For broken anope conversions, change anope_convert.c instead
  to output the proper levels.)
  

  Changes:	Modified:
  +0 -121	trunk/contrib/cs_repair.c (File Deleted) 


jilles      2006/05/03 14:31:53 UTC	(20060503-5193)
  Log:
  Reserve space for the '\0' if we initialize a char array
  with a string constant (even if we never use it as a
  string).
  
  From nenolod's C++ cleanups.
  

  Changes:	Modified:
  +1 -1		trunk/src/base64.c (File Modified) 
  +1 -1		trunk/src/function.c (File Modified) 
  +1 -1		trunk/src/ubase64.c (File Modified) 


jilles      2006/05/01 17:09:39 UTC	(20060501-5161)
  Log:
  Change atheme.channel.access.get procedure to apply to the
  origin user always and not require +A.
  

  Changes:	Modified:
  +6 -24	trunk/modules/xmlrpc/channel.c (File Modified) 


jilles      2006/05/01 17:01:48 UTC	(20060501-5159)
  Log:
  Skeletal SASL documentation file, only links for now.
  Probably want to extend this for 1.1.0.
  

  Changes:	Modified:
  +7 -0		trunk/doc/SASL (File Added) 


jilles      2006/05/01 16:59:38 UTC	(20060501-5157)
  Log:
  Release notes for 1.1.
  

  Changes:	Modified:
  +39 -0	trunk/doc/RELEASE (File Modified) 


jilles      2006/05/01 15:32:34 UTC	(20060501-5155)
  Log:
  base64_decode_alloc():
  - Fix bug where it would return true if malloc failed
  - Null-terminate the result
  

  Changes:	Modified:
  +3 -2		trunk/src/base64.c (File Modified) 


nenolod     2006/05/01 14:58:35 UTC	(20060501-5153)
  Log:
  add some debugging code

  Changes:	Modified:
  +121 -0	trunk/contrib/cs_repair.c (File Added) 
  +2 -0		trunk/modules/saslserv/sasl.c (File Modified) 


nenolod     2006/05/01 14:31:59 UTC	(20060501-5151)
  Log:
  - version bump: 1.1.0
  

  Changes:	Modified:
  +14 -14	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/05/01 14:19:49 UTC	(20060501-5149)
  Log:
  Use the new shorter help display in userserv, verbosely shown commands are
  REGISTER LOGIN INFO LISTCHANS SET HOLD MARK FREEZE
  

  Changes:	Modified:
  +9 -1		trunk/modules/userserv/help.c (File Modified) 


nenolod     2006/05/01 14:19:40 UTC	(20060501-5147)
  Log:
  - add SET to the shortened command list
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/help.c (File Modified) 


jilles      2006/05/01 14:17:57 UTC	(20060501-5145)
  Log:
  Use the new shorter help display in nickserv, verbosely shown commands are
  REGISTER IDENTIFY GHOST INFO LISTCHANS SET HOLD MARK FREEZE
  (as before only commands the user has access to are shown)
  

  Changes:	Modified:
  +9 -1		trunk/modules/nickserv/help.c (File Modified) 


nenolod     2006/05/01 14:15:35 UTC	(20060501-5143)
  Log:
  - add a pointer to help commands here
  

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/help.c (File Modified) 


jilles      2006/05/01 14:10:38 UTC	(20060501-5141)
  Log:
  Use the new shorter help display in chanserv, verbosely shown commands are
  REGISTER OP INVITE UNBAN FLAGS RECOVER
  

  Changes:	Modified:
  +9 -1		trunk/modules/chanserv/help.c (File Modified) 


jilles      2006/05/01 14:08:00 UTC	(20060501-5139)
  Log:
  Make this look a bit nicer.
  

  Changes:	Modified:
  +16 -12	trunk/src/commandtree.c (File Modified) 


jilles      2006/05/01 13:40:56 UTC	(20060501-5137)
  Log:
  Add void command_help_short(char *mynick, char *origin,
  list_t *commandtree, char *maincmds), like command_help()
  but lists only the commands in maincmds
  ("command1 command2...") verbosely and just shows the
  other command names.
  

  Changes:	Modified:
  +1 -0		trunk/include/commandtree.h (File Modified) 
  +82 -0	trunk/src/commandtree.c (File Modified) 


gxti        2006/05/01 01:03:52 UTC	(20060501-5135)
  Log:
  Remove need for user to be online (especially as their account name) in XMLRPC atheme.channel.topic.set/append
  

  Changes:	Modified:
  +4 -6		trunk/modules/xmlrpc/channel.c (File Modified) 


gxti        2006/05/01 00:55:48 UTC	(20060501-5133)
  Log:
  New XMLRPC method atheme.channel.access.get
  

  Changes:	Modified:
  +1 -0		trunk/contrib/xmlrpc_explorer.php (File Modified) 
  +77 -0	trunk/modules/xmlrpc/channel.c (File Modified) 


jilles      2006/04/29 19:09:24 UTC	(20060429-5131)
  Log:
  Remove unused variable kline_t *k from protocol modules.
  

  Changes:	Modified:
  +0 -1		trunk/protocol/asuka.c (File Modified) 
  +0 -1		trunk/protocol/bahamut.c (File Modified) 
  +0 -1		trunk/protocol/bircd.c (File Modified) 
  +0 -2		trunk/protocol/charybdis.c (File Modified) 
  +0 -1		trunk/protocol/dreamforge.c (File Modified) 
  +0 -2		trunk/protocol/hybrid.c (File Modified) 
  +0 -1		trunk/protocol/hyperion.c (File Modified) 
  +0 -1		trunk/protocol/inspircd.c (File Modified) 
  +0 -1		trunk/protocol/ircnet.c (File Modified) 
  +0 -1		trunk/protocol/monkey.c (File Modified) 
  +0 -1		trunk/protocol/nefarious.c (File Modified) 
  +0 -1		trunk/protocol/plexus.c (File Modified) 
  +0 -1		trunk/protocol/ptlink.c (File Modified) 
  +0 -2		trunk/protocol/ratbox.c (File Modified) 
  +0 -1		trunk/protocol/shadowircd.c (File Modified) 
  +0 -1		trunk/protocol/solidircd.c (File Modified) 
  +0 -1		trunk/protocol/sorcery.c (File Modified) 
  +0 -1		trunk/protocol/ultimate3.c (File Modified) 
  +0 -1		trunk/protocol/undernet.c (File Modified) 
  +0 -1		trunk/protocol/unreal.c (File Modified) 


jilles      2006/04/27 00:36:50 UTC	(20060427-5129)
  Log:
  asuka/bircd/nefarious/undernet: add /motd support
  

  Changes:	Modified:
  +6 -0		trunk/protocol/asuka.c (File Modified) 
  +6 -0		trunk/protocol/bircd.c (File Modified) 
  +6 -0		trunk/protocol/nefarious.c (File Modified) 
  +6 -0		trunk/protocol/undernet.c (File Modified) 


jilles      2006/04/26 23:55:34 UTC	(20060426-5127)
  Log:
  Avoid a ban desync if a service is killed while alone in a channel,
  by clearing all bans in the channel. Formerly, ircd lost the bans
  but atheme kept them. A possible enhancement could be to resend the
  bans.
  

  Changes:	Modified:
  +2 -1		trunk/src/services.c (File Modified) 


jilles      2006/04/25 21:34:44 UTC	(20060425-5125)
  Log:
  Mention /motd.
  

  Changes:	Modified:
  +2 -0		trunk/doc/PCOMMANDS (File Modified) 


gxti        2006/04/23 03:10:00 UTC	(20060423-5123)
  Log:
  Update example config to include saslserv/crypt.
  Disable mechanism-listing and replace with a simple session abort, since chary doesn't support this.
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.conf (File Modified) 
  +5 -1		trunk/modules/saslserv/sasl.c (File Modified) 


jilles      2006/04/22 19:26:16 UTC	(20060422-5121)
  Log:
  origin is a nick in chanserv(), so use user_find_named().
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/04/22 19:10:00 UTC	(20060422-5119)
  Log:
  asuka/bircd/nefarious/undernet: change services client fake ip
  from 'A' (invalid) to ']]]]]]' (255.255.255.255). This broke
  on ircu 2.10.12 with ipv6 support.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/nefarious.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/04/19 12:01:42 UTC	(20060419-5115)
  Log:
  XMLRPC: Add XXX comment about further vhost validation here as well.
  

  Changes:	Modified:
  +1 -0		trunk/modules/xmlrpc/account.c (File Modified) 


jilles      2006/04/19 11:58:25 UTC	(20060419-5113)
  Log:
  NickServ/UserServ VHOST: deny setting too long vhosts, use
  truncated form when doing a sethost_sts().
  

  Changes:	Modified:
  +12 -6	trunk/modules/nickserv/vhost.c (File Modified) 
  +12 -6	trunk/modules/userserv/vhost.c (File Modified) 


jilles      2006/04/19 11:48:27 UTC	(20060419-5111)
  Log:
  XMLRPC: reject vhosts which contain @!*? or are too long.
  

  Changes:	Modified:
  +9 -0		trunk/modules/xmlrpc/account.c (File Modified) 


jilles      2006/04/18 00:10:31 UTC	(20060418-5109)
  Log:
  NickServ/UserServ vhost: Never ever allow @!?* in vhosts as
  they have special meaning in all ircds (@ was already
  disallowed).
  

  Changes:	Modified:
  +3 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +3 -1		trunk/modules/userserv/vhost.c (File Modified) 


gxti        2006/04/17 17:48:00 UTC	(20060417-5107)
  Log:
  Move MD5 code from crypto/ircservices.c and saslserv/crypt.c into a common md5.c
  

  Changes:	Modified:
  +0 -306	trunk/crypto/ircservices.c (File Modified) 
  +1 -0		trunk/include/atheme.h (File Modified) 
  +26 -0	trunk/include/md5.h (File Added) 
  +2 -309	trunk/modules/saslserv/crypt.c (File Modified) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +290 -0	trunk/src/md5.c (File Added) 


gxti        2006/04/17 08:18:44 UTC	(20060417-5105)
  Log:
  Autotools fix (cleanup from r5083)
  New SASL mechanism CRYPT for posix crypt module friendly authentication.
  Remove some debugging cruft.
  

  Changes:	Modified:
  +4 -4		trunk/configure (File Modified) 
  +1 -2		trunk/configure.ac (File Modified) 
  +465 -0	trunk/modules/saslserv/crypt.c (File Added) 
  +0 -2		trunk/modules/saslserv/plain.c (File Modified) 
  +0 -6		trunk/modules/saslserv/sasl.c (File Modified) 


gxti        2006/04/17 05:24:24 UTC	(20060417-5103)
  Log:
  Remove base64 code completely from XMLRPC until someone can implement it properly.
  

  Changes:	Modified:
  +0 -2		trunk/include/xmlrpc.h (File Modified) 
  +0 -22	trunk/src/xmlrpc.c (File Modified) 


gxti        2006/04/17 05:22:23 UTC	(20060417-5101)
  Log:
  Replaced old gsasl backend with a shiny new modular system.
  

  Changes:	Modified:
  +19 -235	trunk/configure (File Modified) 
  +10 -15	trunk/configure.ac (File Modified) 
  +1 -0		trunk/dist/example.conf (File Modified) 
  +16 -4	trunk/include/sasl.h (File Modified) 
  +1 -5		trunk/modules/saslserv/Makefile.in (File Modified) 
  +4 -2		trunk/modules/saslserv/main.c (File Modified) (Property Modified)
  +84 -0	trunk/modules/saslserv/plain.c (File Added) 
  +90 -79	trunk/modules/saslserv/sasl.c (File Modified) (Property Modified)


gxti        2006/04/17 04:26:48 UTC	(20060417-5099)
  Log:
  Toss old base64 code and replace with stolen gsasl code. Emptied XMLRPC base64 handlers because they were already broken.
  

  Changes:	Modified:
  +1 -0		trunk/include/atheme.h (File Modified) 
  +47 -0	trunk/include/base64.h (File Added) 
  +0 -14	trunk/include/xmlrpc.h (File Modified) 
  +365 -145	trunk/src/base64.c (File Modified) 
  +2 -12	trunk/src/xmlrpc.c (File Modified) 


w00t        2006/04/16 02:45:02 UTC	(20060416-5097)
  Log:
  Added src/email.c and email_t -- the start of a proper email API. Per nenolod.

  Changes:	Modified:
  +13 -0	trunk/include/atheme.h (File Modified) 
  +37 -0	trunk/src/email.c (File Added) 


w00t        2006/04/16 01:18:03 UTC	(20060416-5095)
  Log:
  InspIRCd can now send numerics over server links - this should do it adequatly.

  Changes:	Modified:
  +1 -1		trunk/protocol/inspircd.c (File Modified) 


w00t        2006/04/16 01:04:24 UTC	(20060416-5093)
  Log:
  Fix: Send wallops under inspircd, except when no protocol modules are loaded - this cannot be fixed, as inspircd requires commands be sent by a valid nick, and not a server as the sender.

  Changes:	Modified:
  +30 -1	trunk/protocol/inspircd.c (File Modified) 


jilles      2006/04/15 22:43:28 UTC	(20060415-5091)
  Log:
  - operserv kline -> akill
  - user ipv6 addresses are supported on charybdis/ratbox/hyperion
  - clarify that user ipv6 addresses are not supported on ircu
  

  Changes:	Modified:
  +18 -5	trunk/doc/IRCD (File Modified) 


gxti        2006/04/15 05:07:54 UTC	(20060415-5089)
  Log:
  pingspam: Redirect blame to NeoStats, add two notices.
  

  Changes:	Modified:
  +4 -2		trunk/contrib/os_pingspam.c (File Modified) 


w00t        2006/04/14 14:59:46 UTC	(20060414-5087)
  Log:
  Rework of fixing of warnings, port fixes over to userserv instead of being naughty.

  Changes:	Modified:
  +1 -3		trunk/modules/nickserv/identify.c (File Modified) 
  +5 -9		trunk/modules/nickserv/info.c (File Modified) 
  +10 -15	trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/info.c (File Modified) 
  +1 -1		trunk/modules/userserv/resetpass.c (File Modified) 


jilles      2006/04/14 12:33:34 UTC	(20060414-5085)
  Log:
  Don't introduce a service with a UID if the ircd does
  not support UIDs when loading it at runtime.
  

  Changes:	Modified:
  +1 -1		trunk/src/servtree.c (File Modified) 


w00t        2006/04/14 12:02:39 UTC	(20060414-5083)
  Log:
  And from configure.

  Changes:	Modified:
  +1 -2		trunk/configure (File Modified) 


w00t        2006/04/14 11:59:47 UTC	(20060414-5081)
  Log:
  Don't attempt to build dbtool, either

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 
  +1 -5		trunk/Makefile.win32 (File Modified) 


w00t        2006/04/14 11:46:53 UTC	(20060414-5079)
  Log:
  dbtool is long not relevant, use the contrib module instead.

  Changes:	Modified:
  + -		trunk/dbtool/ (File Deleted) 


w00t        2006/04/14 11:45:22 UTC	(20060414-5077)
  Log:
  Strict fixes.

  Changes:	Modified:
  +0 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +0 -1		trunk/modules/nickserv/help.c (File Modified) 
  +3 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +8 -4		trunk/modules/nickserv/info.c (File Modified) 
  +14 -9	trunk/modules/nickserv/resetpass.c (File Modified) 


jilles      2006/04/14 11:44:03 UTC	(20060414-5075)
  Log:
  Declare environ.
  

  Changes:	Modified:
  +4 -0		trunk/src/atheme.c (File Modified) 


w00t        2006/04/14 11:16:18 UTC	(20060414-5073)
  Log:
  Strict fixes for chanserv.

  Changes:	Modified:
  +1 -7		trunk/modules/chanserv/close.c (File Modified) 
  +1 -4		trunk/modules/chanserv/drop.c (File Modified) 
  +0 -2		trunk/modules/chanserv/flags.c (File Modified) 
  +0 -1		trunk/modules/chanserv/info.c (File Modified) 
  +0 -1		trunk/modules/chanserv/register.c (File Modified) 
  +1 -3		trunk/modules/chanserv/template.c (File Modified) 
  +0 -2		trunk/modules/chanserv/why.c (File Modified) 
  +0 -5		trunk/modules/chanserv/xop.c (File Modified) 


w00t        2006/04/14 10:50:44 UTC	(20060414-5071)
  Log:
  More strict fixes, somehow I missed these yesterday. Onto modules.

  Changes:	Modified:
  +0 -1		trunk/src/help.c (File Modified) 
  +0 -1		trunk/src/servtree.c (File Modified) 


w00t        2006/04/14 09:03:55 UTC	(20060414-5069)
  Log:
  Let's redo regex again. Compiling the same regex every regex_match() for 4k users would be unacceptable, for example...

  Changes:	Modified:
  +3 -1		trunk/include/extern.h (File Modified) 
  +43 -18	trunk/src/function.c (File Modified) 


w00t        2006/04/14 08:44:09 UTC	(20060414-5067)
  Log:
  Change of my email address

  Changes:	Modified:
  +1 -1		trunk/src/version.sh (File Modified) 


w00t        2006/04/14 03:55:44 UTC	(20060414-5065)
  Log:
  Once again compile cleanly under strict cflags

  Changes:	Modified:
  +1 -2		trunk/src/atheme.c (File Modified) 
  +0 -1		trunk/src/conf.c (File Modified) 
  +0 -8		trunk/src/function.c (File Modified) 
  +4 -5		trunk/src/node.c (File Modified) 
  +0 -1		trunk/src/packet.c (File Modified) 
  +1 -1		trunk/src/send.c (File Modified) 
  +0 -1		trunk/src/services.c (File Modified) 
  +1 -1		trunk/src/xmlrpc.c (File Modified) 


w00t        2006/04/14 03:35:23 UTC	(20060414-5063)
  Log:
  Helps to have the true and false in the right place

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


w00t        2006/04/14 03:10:51 UTC	(20060414-5061)
  Log:
  ...

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +2 -2		trunk/src/function.c (File Modified) 


w00t        2006/04/14 02:46:38 UTC	(20060414-5059)
  Log:
  Perhaps fix the crash in regex_match? Who knows...

  Changes:	Modified:
  +7 -11	trunk/src/function.c (File Modified) 


w00t        2006/04/14 01:41:51 UTC	(20060414-5057)
  Log:
  regex_match(): bail on NULL arguments, don't crash. there's a good puppy.

  Changes:	Modified:
  +6 -0		trunk/src/function.c (File Modified) 


w00t        2006/04/14 01:15:06 UTC	(20060414-5055)
  Log:
  Rework of regex_match to not be so .. interesting. Needed for barafranca bits and pieces.

  Changes:	Modified:
  +1 -2		trunk/include/extern.h (File Modified) 
  +20 -8	trunk/src/function.c (File Modified) 


jilles      2006/04/13 10:59:42 UTC	(20060413-5053)
  Log:
  Disable modrestart, it cannot possibly work. Modrestart
  would require some stuff in core.
  

  Changes:	Modified:
  +7 -0		trunk/modules/operserv/modrestart.c (File Modified) 


jilles      2006/04/11 22:17:35 UTC	(20060411-5051)
  Log:
  Don't send a CHGHOST and associated notices if the host was unchanged,
  e.g. same cloak on auth{} block and services.
  

  Changes:	Modified:
  +9 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +8 -0		trunk/modules/userserv/vhost.c (File Modified) 


nenolod     2006/04/11 00:11:00 UTC	(20060411-5049)
  Log:
  oops that code needed to go

  Changes:	Modified:
  +0 -9		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 04:27:47 UTC	(20060410-5045)
  Log:
  - remove this. i didn't mean to commit it
  

  Changes:	Modified:
  +0 -142	trunk/contrib/os_fuckover.c (File Deleted) 


nenolod     2006/04/10 02:00:30 UTC	(20060410-5043)
  Log:
  - make things less confusing

  Changes:	Modified:
  +5 -10	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 01:51:52 UTC	(20060410-5041)
  Log:
  - refactor shoot_player(). per Aerdan.
  

  Changes:	Modified:
  +31 -19	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 01:37:02 UTC	(20060410-5039)
  Log:
  - make things harder
  

  Changes:	Modified:
  +3 -2		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 01:35:30 UTC	(20060410-5037)
  Log:
  - more sanity checking
  

  Changes:	Modified:
  +8 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 01:07:59 UTC	(20060410-5035)
  Log:
  - fix improper use of msg()
  

  Changes:	Modified:
  +1 -1		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 01:06:05 UTC	(20060410-5033)
  Log:
  - make the wumpus move when hit and reduce damage caused to it (per Aerdan)
  

  Changes:	Modified:
  +5 -4		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 00:53:03 UTC	(20060410-5031)
  Log:
  - allow for accuracy problems
  

  Changes:	Modified:
  +1 -1		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 00:52:30 UTC	(20060410-5029)
  Log:
  - improvements to HP patch
  

  Changes:	Modified:
  +2 -2		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 00:44:19 UTC	(20060410-5027)
  Log:
  - a few enhancements to the HP patch
  

  Changes:	Modified:
  +4 -3		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/10 00:40:50 UTC	(20060410-5025)
  Log:
  - HP patch. Copyright (c) 2006 Kiyoshi Aman <kiyoshi.aman -at- gmail.com>
  

  Changes:	Modified:
  +36 -16	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:59:58 UTC	(20060409-5023)
  Log:
  - more memory fixes sorry
  

  Changes:	Modified:
  +9 -9		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:40:48 UTC	(20060409-5021)
  Log:
  - acknowledge that the game has been won after the wumpus is killed
  

  Changes:	Modified:
  +1 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:29:49 UTC	(20060409-5019)
  Log:
  - don't blindly free our vector
  

  Changes:	Modified:
  +5 -1		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:15:45 UTC	(20060409-5017)
  Log:
  more sanity checking

  Changes:	Modified:
  +6 -3		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:11:23 UTC	(20060409-5015)
  Log:
  add declaration

  Changes:	Modified:
  + -		trunk/contrib/os_fuckover.c (File Added) 
  +1 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 21:08:55 UTC	(20060409-5013)
  Log:
  - reset game state when maze generation fails
  

  Changes:	Modified:
  +1 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 20:18:28 UTC	(20060409-5011)
  Log:
  - implement the ability to kill the wumpus:
    it takes 7 hits to kill him as his strength/speed gets divided by two each time:
     60 -> 30 -> 15 -> 7 -> 3 -> 1 -> 0 (0.5, but because speed is an int, it becomes 0).
  

  Changes:	Modified:
  +34 -10	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 20:07:59 UTC	(20060409-5009)
  Log:
  - arrow regeneration (via Aerdan)
  

  Changes:	Modified:
  +9 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 20:01:50 UTC	(20060409-5007)
  Log:
  - fix logic bug when reporting wumpus kills
  

  Changes:	Modified:
  +5 -4		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 19:54:24 UTC	(20060409-5005)
  Log:
  - remove the ability to have tunnels loopback to themselves
  

  Changes:	Modified:
  +5 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 19:35:24 UTC	(20060409-5003)
  Log:
  - balance adjustment: change the factor used to place arrows from 2 to 3.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 19:33:33 UTC	(20060409-5001)
  Log:
  - balance adjustment: only players who have no arrows can pick up more
  

  Changes:	Modified:
  +9 -4		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 19:21:01 UTC	(20060409-4999)
  Log:
  - add crystal ball powerup which exposes the current location of the wumpus
  

  Changes:	Modified:
  +18 -1	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 18:39:57 UTC	(20060409-4997)
  Log:
  - take care of a condition where everyone has been killed by the wumpus/fallen into a pit
  

  Changes:	Modified:
  +5 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 18:39:02 UTC	(20060409-4995)
  Log:
  - sanity checks keep the segfault away
  

  Changes:	Modified:
  +14 -2	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 18:28:56 UTC	(20060409-4993)
  Log:
  - increase starting arrows to 10
  

  Changes:	Modified:
  +1 -1		trunk/contrib/wumpus.c (File Modified) 


gxti        2006/04/09 08:19:53 UTC	(20060409-4991)
  Log:
  Added more notices to pingspam, fixed permenant module issue.
  

  Changes:	Modified:
  +5 -2		trunk/contrib/os_pingspam.c (File Modified) 


gxti        2006/04/09 07:03:08 UTC	(20060409-4989)
  Log:
  Add meta for previous (sorry jilles).
  

  Changes:	Modified:
  +2 -2		trunk/contrib/os_pingspam.c (File Modified) (Property Modified)


gxti        2006/04/09 06:56:31 UTC	(20060409-4987)
  Log:
  New contrib module: os_pingspam
  If you have to ask, you don't want to know.
  

  Changes:	Modified:
  +3 -1		trunk/contrib/Makefile.in (File Modified) 
  +142 -0	trunk/contrib/os_pingspam.c (File Added) 


nenolod     2006/04/09 06:17:18 UTC	(20060409-4985)
  Log:
  - double the amount of passes used to place arrows
  

  Changes:	Modified:
  +9 -6		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 06:06:32 UTC	(20060409-4983)
  Log:
  - add arrows powerup
  

  Changes:	Modified:
  +27 -2	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 06:00:26 UTC	(20060409-4981)
  Log:
  add who command to display the player list
  

  Changes:	Modified:
  +36 -17	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:59:40 UTC	(20060409-4979)
  Log:
  fixes

  Changes:	Modified:
  +3 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:58:44 UTC	(20060409-4977)
  Log:
  - sanity checking
  

  Changes:	Modified:
  +18 -0	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:51:16 UTC	(20060409-4975)
  Log:
  fixes

  Changes:	Modified:
  +4 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:43:40 UTC	(20060409-4973)
  Log:
  - updates
  

  Changes:	Modified:
  +2 -0		trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:43:14 UTC	(20060409-4971)
  Log:
  - wumpus 0.1.0
  

  Changes:	Modified:
  +24 -2	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:33:10 UTC	(20060409-4969)
  Log:
  - more stuff
  

  Changes:	Modified:
  +20 -1	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 04:28:04 UTC	(20060409-4967)
  Log:
  - more stuff
  

  Changes:	Modified:
  +119 -1	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 03:58:42 UTC	(20060409-4965)
  Log:
  - updates
  

  Changes:	Modified:
  +51 -6	trunk/contrib/wumpus.c (File Modified) 


nenolod     2006/04/09 03:12:38 UTC	(20060409-4963)
  Log:
  - wumpus for atheme (not yet complete)
  

  Changes:	Modified:
  +598 -0	trunk/contrib/wumpus.c (File Added) 


nenolod     2006/04/08 19:59:21 UTC	(20060408-4961)
  Log:
  - fix hook_cmessage_data_t, it was missing source var
  

  Changes:	Modified:
  +1 -0		trunk/include/atheme.h (File Modified) 
  +1 -0		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/04/08 00:02:39 UTC	(20060408-4959)
  Log:
  ChanServ FLAGS: Better error message for the case .flags +flags nick.
  Somewhat hackish.
  

  Changes:	Modified:
  +10 -2	trunk/modules/chanserv/flags.c (File Modified) 


jilles      2006/04/05 23:20:58 UTC	(20060405-4957)
  Log:
  Remove gratuitous differences between example.conf
  and example.userserv.conf.
  

  Changes:	Modified:
  +3 -3		trunk/dist/example.conf (File Modified) 
  +11 -11	trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/04/05 23:16:19 UTC	(20060405-4955)
  Log:
  Remove example.saslserv.conf and add the SASL stuff to
  example.conf and example.userserv.conf, commented.
  

  Changes:	Modified:
  +31 -0	trunk/dist/example.conf (File Modified) 
  +0 -868	trunk/dist/example.saslserv.conf (File Deleted) 
  +31 -0	trunk/dist/example.userserv.conf (File Modified) 


nenolod     2006/04/05 02:10:11 UTC	(20060405-4953)
  Log:
  - symbol conflict, change base64_encode/base64_decode to _atheme_base64_(.*)
  

  Changes:	Modified:
  +2 -2		trunk/include/xmlrpc.h (File Modified) 
  +2 -2		trunk/src/base64.c (File Modified) 
  +2 -2		trunk/src/xmlrpc.c (File Modified) 


nenolod     2006/04/05 01:42:55 UTC	(20060405-4951)
  Log:
  - do not overwrite *ce, use a different pointer instead for safety.
  

  Changes:	Modified:
  +5 -4		trunk/src/conf.c (File Modified) 


nenolod     2006/04/05 01:05:13 UTC	(20060405-4949)
  Log:
  - version bump: 1.1.0rc1
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/04/05 01:03:27 UTC	(20060405-4947)
  Log:
  - new parsing of operclass {} blocks. should be backwards compatible. I hope, anyway.
  

  Changes:	Modified:
  +75 -15	trunk/dist/example.conf (File Modified) 
  +75 -15	trunk/dist/example.saslserv.conf (File Modified) 
  +75 -15	trunk/dist/example.userserv.conf (File Modified) 
  +40 -9	trunk/src/conf.c (File Modified) 


gxti        2006/04/04 23:43:43 UTC	(20060404-4945)
  Log:
  Implement vhost-setting for SASL clients.
  

  Changes:	Modified:
  +9 -1		trunk/modules/saslserv/sasl.c (File Modified) 


gxti        2006/04/02 20:33:39 UTC	(20060402-4943)
  Log:
  New XMLRPC functions atheme.channel.topic.set and atheme.channel.topic.append
  

  Changes:	Modified:
  +2 -0		trunk/contrib/xmlrpc_explorer.php (File Modified) 
  +165 -0	trunk/modules/xmlrpc/channel.c (File Modified) 


gxti        2006/04/02 18:31:04 UTC	(20060402-4941)
  Log:
  Send SVSLOGIN before finishing a SASL session so the user is introduced to the net correctly.
  Suppress on-connect spam if a user seems to come from a SASL session.
  

  Changes:	Modified:
  +1 -0		trunk/include/account.h (File Modified) 
  +3 -1		trunk/modules/saslserv/sasl.c (File Modified) 
  +14 -0	trunk/src/services.c (File Modified) 


gxti        2006/04/02 08:48:03 UTC	(20060402-4939)
  Log:
  New example config for SASL-enabled networks.

  Changes:	Modified:
  +808 -0	trunk/dist/example.saslserv.conf (File Added) 


jilles      2006/03/31 22:34:39 UTC	(20060331-4937)
  Log:
  chanserv set url help file: mention that the url is
  shown to all users joining the channel
  

  Changes:	Modified:
  +3 -2		trunk/help/cservice/set_url (File Modified) 


nenolod     2006/03/30 16:13:33 UTC	(20060330-4935)
  Log:
  - merge GXTi's wacky atheme-sasl tree with trunk
  

  Changes:	Modified:
  +253 -4	trunk/configure (File Modified) 
  +28 -0	trunk/configure.ac (File Modified) 
  +4 -0		trunk/include/atheme.h (File Modified) 
  +5 -0		trunk/include/phandler.h (File Modified) 
  + -		trunk/include/sasl.h (File Added) 
  +13 -0	trunk/include/services.h (File Modified) 
  +3 -0		trunk/include/sysconf.h.in (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  + -		trunk/modules/saslserv/ (File Added) 
  +1 -5		trunk/modules/saslserv/sasl.c (File Modified) 
  +129 -5	trunk/protocol/charybdis.c (File Modified) 
  +1 -0		trunk/src/atheme.c (File Modified) 
  +62 -1	trunk/src/conf.c (File Modified) 
  +12 -0	trunk/src/phandler.c (File Modified) 
  +2 -0		trunk/src/services.c (File Modified) 


jilles      2006/03/29 00:14:26 UTC	(20060329-4931)
  Log:
  nickserv/userserv resetpass help files:
  - RECOVER -> RESETPASS
  - mark doesn't restrict as much anymore, don't mention
  

  Changes:	Modified:
  +2 -3		trunk/help/nickserv/resetpass (File Modified) 
  +3 -5		trunk/help/userserv/resetpass (File Modified) 


jilles      2006/03/28 23:59:23 UTC	(20060328-4929)
  Log:
  - Move handle_motd() definition and declaration to a more logical place
  - Change handle_motd() from char *origin to user_t *u
  - Add floodcheck on handle_motd()
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hybrid.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 
  +43 -37	trunk/src/ptasks.c (File Modified) 


nenolod     2006/03/28 23:57:39 UTC	(20060328-4927)
  Log:
  - document these keywords in the sample MOTD
  

  Changes:	Modified:
  +3 -0		trunk/dist/example.motd (File Modified) 


nenolod     2006/03/28 23:56:47 UTC	(20060328-4925)
  Log:
  non-invasive change adding some extra replaceable keywords -- &myusers&
  and &mychans&, amount of user records and channel records respectively.
  

  Changes:	Modified:
  +6 -0		trunk/src/ptasks.c (File Modified) 


nenolod     2006/03/28 23:43:14 UTC	(20060328-4923)
  Log:
  - add MOTD support to more protocol modules
  

  Changes:	Modified:
  +6 -0		trunk/protocol/bahamut.c (File Modified) 
  +6 -0		trunk/protocol/dreamforge.c (File Modified) 
  +6 -0		trunk/protocol/hyperion.c (File Modified) 
  +6 -0		trunk/protocol/ircnet.c (File Modified) 
  +6 -0		trunk/protocol/monkey.c (File Modified) 
  +6 -0		trunk/protocol/plexus.c (File Modified) 
  +6 -0		trunk/protocol/ptlink.c (File Modified) 
  +6 -0		trunk/protocol/shadowircd.c (File Modified) 
  +7 -0		trunk/protocol/unreal.c (File Modified) 


nenolod     2006/03/28 23:27:37 UTC	(20060328-4921)
  Log:
  - services MOTD support
  

  Changes:	Modified:
  +5 -0		trunk/dist/example.motd (File Added) 
  +1 -0		trunk/include/extern.h (File Modified) 
  +6 -0		trunk/protocol/charybdis.c (File Modified) 
  +6 -0		trunk/protocol/hybrid.c (File Modified) 
  +6 -0		trunk/protocol/ratbox.c (File Modified) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +31 -0	trunk/src/ptasks.c (File Modified) 


jilles      2006/03/27 13:29:00 UTC	(20060327-4915)
  Log:
  Interpret received CHGHOST, for umode +h etc.
  
  Tested by: acidic32@efnet
  

  Changes:	Modified:
  +11 -0	trunk/protocol/hybrid.c (File Modified) 


jilles      2006/03/27 13:16:56 UTC	(20060327-4913)
  Log:
  Interpret received ENCAP CHGHOST, for umode +h
  and other things that send it.
  

  Changes:	Modified:
  +11 -0	trunk/protocol/charybdis.c (File Modified) 


jilles      2006/03/27 12:28:18 UTC	(20060327-4911)
  Log:
  Don't complain about all channel messages if fantasy
  and secure are enabled at the same time.
  

  Changes:	Modified:
  +1 -1		trunk/src/ptasks.c (File Modified) 


jilles      2006/03/27 12:26:46 UTC	(20060327-4909)
  Log:
  Fix log message if target of cmode +o etc cannot be found.
  

  Changes:	Modified:
  +1 -1		trunk/src/cmode.c (File Modified) 


gxti        2006/03/20 02:40:44 UTC	(20060320-4907)
  Log:
  Allow users to GHOST other nicks which are logged into their account.
  

  Changes:	Modified:
  +11 -3	trunk/modules/nickserv/ghost.c (File Modified) 


nenolod     2006/03/18 05:40:51 UTC	(20060318-4905)
  Log:
  - i will not code when half awake again
  

  Changes:	Modified:
  +1 -1		trunk/src/services.c (File Modified) 


nenolod     2006/03/18 05:27:35 UTC	(20060318-4903)
  Log:
  - sanity checking
  

  Changes:	Modified:
  +3 -0		trunk/src/services.c (File Modified) 


nenolod     2006/03/14 02:36:14 UTC	(20060314-4899)
  Log:
  - add support for charybdis +halfops patch
  

  Changes:	Modified:
  +2 -0		trunk/include/protocol/charybdis.h (File Modified) 
  +8 -0		trunk/protocol/charybdis.c (File Modified) 


jilles      2006/03/11 20:59:53 UTC	(20060311-4897)
  Log:
  Make xmlrpc work with httpheader disabled.
  
  Pointed out by: Trystan
  

  Changes:	Modified:
  +3 -2		trunk/src/xmlrpc.c (File Modified) 


jilles      2006/03/09 17:39:13 UTC	(20060309-4895)
  Log:
  unreal: Introduce services with +S (network service,
  prevents kick/deop on channels etc).
  

  Changes:	Modified:
  +1 -1		trunk/protocol/unreal.c (File Modified) 


jilles      2006/03/08 17:03:41 UTC	(20060308-4893)
  Log:
  Make fantasy commands work again in the normal case with chanserv.
  

  Changes:	Modified:
  +6 -0		trunk/modules/chanserv/main.c (File Modified) 
  +5 -2		trunk/src/conf.c (File Modified) 


jilles      2006/03/03 17:34:10 UTC	(20060303-4889)
  Log:
  Allow specification of akill duration in hours (h), days (d) and weeks (w).
  Make the checks on durations more strict (no extraneous characters allowed,
  no permanent akills via !T).
  

  Changes:	Modified:
  +10 -5	trunk/help/oservice/akill (File Modified) 
  +20 -0	trunk/modules/operserv/akill.c (File Modified) 


jilles      2006/03/03 17:16:55 UTC	(20060303-4887)
  Log:
  Add /os akill sync, sends all akills to all servers.
  This can be useful in case services will be down or
  do not see a user as matching a certain akill.
  

  Changes:	Modified:
  +6 -0		trunk/help/oservice/akill (File Modified) 
  +24 -0	trunk/modules/operserv/akill.c (File Modified) 


jilles      2006/02/28 23:39:47 UTC	(20060228-4883)
  Log:
  Change "AKILL command" to "AKILL system" since akills
  are now completely disabled if operserv/akill is not
  loaded.
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/02/28 23:37:33 UTC	(20060228-4881)
  Log:
  - Move akill checking into a user_add hook function in
    modules/operserv/akill.c
  - Do not send klines for akills that have already expired
  - Match IP as well as host against akills (no CIDR currently)
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +25 -0	trunk/modules/operserv/akill.c (File Modified) 
  +0 -16	trunk/protocol/asuka.c (File Modified) 
  +0 -10	trunk/protocol/bahamut.c (File Modified) 
  +0 -16	trunk/protocol/bircd.c (File Modified) 
  +0 -20	trunk/protocol/charybdis.c (File Modified) 
  +0 -10	trunk/protocol/dreamforge.c (File Modified) 
  +0 -19	trunk/protocol/hybrid.c (File Modified) 
  +0 -10	trunk/protocol/hyperion.c (File Modified) 
  +0 -10	trunk/protocol/inspircd.c (File Modified) 
  +0 -14	trunk/protocol/ircnet.c (File Modified) 
  +0 -10	trunk/protocol/monkey.c (File Modified) 
  +0 -16	trunk/protocol/nefarious.c (File Modified) 
  +0 -10	trunk/protocol/plexus.c (File Modified) 
  +0 -10	trunk/protocol/ptlink.c (File Modified) 
  +0 -20	trunk/protocol/ratbox.c (File Modified) 
  +0 -10	trunk/protocol/shadowircd.c (File Modified) 
  +0 -10	trunk/protocol/solidircd.c (File Modified) 
  +0 -10	trunk/protocol/sorcery.c (File Modified) 
  +0 -11	trunk/protocol/ultimate3.c (File Modified) 
  +0 -16	trunk/protocol/undernet.c (File Modified) 
  +0 -10	trunk/protocol/unreal.c (File Modified) 
  +18 -0	trunk/src/node.c (File Modified) 


jilles      2006/02/28 01:47:09 UTC	(20060228-4873)
  Log:
  Document userserv vhost (from r4861 nickserv).
  

  Changes:	Modified:
  + -		trunk/help/userserv/vhost (File Added) 
  +4 -1		trunk/modules/userserv/vhost.c (File Modified) 


jilles      2006/02/28 01:10:05 UTC	(20060228-4871)
  Log:
  - Don't KILL akilled users, except on ircnet (where klines don't work
    properly). This ensures kline exempt exempts from akills too.
  - Fix server name the klines are sent to (was sometimes wrong and
    was needlessly different between protocol modules).
  

  Changes:	Modified:
  +1 -3		trunk/protocol/asuka.c (File Modified) 
  +2 -7		trunk/protocol/bahamut.c (File Modified) 
  +1 -3		trunk/protocol/bircd.c (File Modified) 
  +4 -14	trunk/protocol/charybdis.c (File Modified) 
  +2 -7		trunk/protocol/dreamforge.c (File Modified) 
  +4 -14	trunk/protocol/hybrid.c (File Modified) 
  +2 -7		trunk/protocol/hyperion.c (File Modified) 
  +2 -7		trunk/protocol/inspircd.c (File Modified) 
  +4 -5		trunk/protocol/ircnet.c (File Modified) 
  +2 -7		trunk/protocol/monkey.c (File Modified) 
  +1 -3		trunk/protocol/nefarious.c (File Modified) 
  +2 -7		trunk/protocol/plexus.c (File Modified) 
  +2 -7		trunk/protocol/ptlink.c (File Modified) 
  +4 -14	trunk/protocol/ratbox.c (File Modified) 
  +2 -7		trunk/protocol/shadowircd.c (File Modified) 
  +2 -7		trunk/protocol/solidircd.c (File Modified) 
  +2 -7		trunk/protocol/sorcery.c (File Modified) 
  +4 -9		trunk/protocol/ultimate3.c (File Modified) 
  +1 -3		trunk/protocol/undernet.c (File Modified) 
  +2 -7		trunk/protocol/unreal.c (File Modified) 


jilles      2006/02/27 21:09:09 UTC	(20060227-4869)
  Log:
  Bail out if configure, make or make install fail.
  

  Changes:	Modified:
  +18 -0	trunk/setup (File Modified) 


nenolod     2006/02/27 03:28:52 UTC	(20060227-4867)
  Log:
  - Allow services to override what normally processes fantasy commands.
  

  Changes:	Modified:
  +2 -0		trunk/include/services.h (File Modified) 
  +2 -0		trunk/src/conf.c (File Modified) 
  +2 -1		trunk/src/ptasks.c (File Modified) 
  +3 -1		trunk/src/servtree.c (File Modified) 


jilles      2006/02/26 22:59:20 UTC	(20060226-4865)
  Log:
  Add a plus sign before the umodes when introducing a service.
  
  Submitted by: eggy
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 


gxti        2006/02/23 02:42:42 UTC	(20060223-4863)
  Log:
  Hi, I work here.
  

  Changes:	Modified:
  +1 -0		trunk/src/version.sh (File Modified) 


gxti        2006/02/23 02:36:49 UTC	(20060223-4861)
  Log:
  Documented NS VHOST.
  

  Changes:	Modified:
  +12 -0	trunk/help/nickserv/vhost (File Added) 
  +4 -1		trunk/modules/nickserv/vhost.c (File Modified) 


nenolod     2006/02/19 02:26:48 UTC	(20060219-4845)
  Log:
  Do the stack as soon as we get back to io_loop().
  

  Changes:	Modified:
  +6 -1		trunk/src/cmode.c (File Modified) 


jilles      2006/02/19 01:04:19 UTC	(20060219-4843)
  Log:
  Correct clientinfo{} -> chanserv{} in error message.
  

  Changes:	Modified:
  +2 -2		trunk/src/conf.c (File Modified) 


jilles      2006/02/19 01:03:42 UTC	(20060219-4841)
  Log:
  Ultimate3: add +S to services umodes.
  
  Submitted by: eggy
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 


jilles      2006/02/17 23:37:21 UTC	(20060217-4839)
  Log:
  Correct kline_t.expires manually on load instead of
  keeping <load time> + duration.
  

  Changes:	Modified:
  +2 -0		trunk/backend/flatfile.c (File Modified) 
  +2 -0		trunk/backend/mysql.c (File Modified) 
  +2 -0		trunk/backend/postgresql.c (File Modified) 


jilles      2006/02/17 23:31:06 UTC	(20060217-4837)
  Log:
  Make this work with Anope 1.7.13.
  It will also still work with Anope 1.6.x.
  

  Changes:	Modified:
  +29 -0	trunk/contrib/anope_convert.c (File Modified) 


nenolod     2006/02/13 20:37:34 UTC	(20060213-4829)
  Log:
  - Document atheme.account.set_password.
  

  Changes:	Modified:
  +1 -0		trunk/contrib/xmlrpc_explorer.php (File Modified) 


nenolod     2006/02/13 20:18:28 UTC	(20060213-4827)
  Log:
  - Add atheme.account.set_password call.
  

  Changes:	Modified:
  +50 -0	trunk/modules/xmlrpc/account.c (File Modified) 


pfish       2006/02/13 10:35:10 UTC	(20060213-4825)
  Log:
  fix a crash
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/listchans.c (File Modified) 


pfish       2006/02/13 10:32:54 UTC	(20060213-4821)
  Log:
  outdated
  

  Changes:	Modified:
  +1 -1		trunk/SVN-Access (File Modified) 


pfish       2006/02/13 10:29:40 UTC	(20060213-4819)
  Log:
  PRIV_CHAN_AUSPEX will see when a channel is MC_INHABIT
  

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/info.c (File Modified) 


jilles      2006/02/10 17:49:03 UTC	(20060210-4817)
  Log:
  Send and parse nefarious 0.5.x topic setter information.
  Should be ignored by 0.4.x.
  Not tested.
  

  Changes:	Modified:
  +2 -2		trunk/protocol/nefarious.c (File Modified) 


jilles      2006/02/10 17:33:05 UTC	(20060210-4815)
  Log:
  Nefarious improvements, from reading the source code (not tested)
  - complete halfops support
  - ban exception support
  - oper only cmodes
  - apparently don't need to clear +N here (only applies to local clients)
  

  Changes:	Modified:
  +37 -26	trunk/protocol/nefarious.c (File Modified) 


nenolod     2006/02/10 15:02:54 UTC	(20060210-4813)
  Log:
  Add support for Nefarious IRCu 0.4.x or later
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.conf (File Modified) 
  +1 -0		trunk/dist/example.userserv.conf (File Modified) 
  +34 -0	trunk/include/pmodule.h (File Modified) 
  + -		trunk/include/protocol/nefarious.h (File Added) 
  +1131 -0	trunk/protocol/Makefile.in (File Modified) 
  + -		trunk/protocol/nefarious.c (File Added) 


nenolod     2006/02/10 03:13:29 UTC	(20060210-4811)
  Log:
  1.0.1 -> Marsupial
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/02/10 03:02:02 UTC	(20060210-4807)
  Log:
  Use ubase64toint() from ircu. It's public domain, as the same
  basic algorithm is used in our base64 stuff too.
  

  Changes:	Modified:
  +2 -11	trunk/src/ubase64.c (File Modified) 


nenolod     2006/02/09 20:33:19 UTC	(20060209-4805)
  Log:
  Improve m_fjoin() quite a bit.
  

  Changes:	Modified:
  +1 -28	trunk/protocol/inspircd.c (File Modified) 


jilles      2006/02/09 14:46:01 UTC	(20060209-4803)
  Log:
  - Make server names case insensitive
  - Make UIDs case sensitive (required for P10; TS6/IRCnet don't care)
  (nicks are case insensitive, SIDs are case sensitive)
  

  Changes:	Modified:
  +2 -2		trunk/src/node.c (File Modified) 


jilles      2006/02/09 14:11:53 UTC	(20060209-4801)
  Log:
  This should fix automatic login after a netsplit/services restart
  (not tested).
  

  Changes:	Modified:
  +1 -1		trunk/protocol/inspircd.c (File Modified) 


pfish       2006/02/09 04:10:20 UTC	(20060209-4799)
  Log:
  Atheme 1.0.1
  

  Changes:	Modified:
  +2 -2		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


pfish       2006/02/09 03:26:58 UTC	(20060209-4795)
  Log:
  config touchup
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.conf (File Modified) 
  +1 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2006/02/06 10:50:41 UTC	(20060206-4789)
  Log:
  Fix 2 crashes where nicksvs was used in UserServ code.
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/status.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 


nenolod     2006/02/05 04:22:25 UTC	(20060205-4785)
  Log:
  Update RELEASE to reflect the latest changes.
  

  Changes:	Modified:
  +6 -0		trunk/doc/RELEASE (File Modified) 


jilles      2006/02/05 00:38:13 UTC	(20060205-4783)
  Log:
  P10: if we send a single TS in a TOPIC message, asuka will
  interpret it as a topicts but ircu 2.10.12 will interpret
  it as a channelts (so the topic change is dropped). So
  always send both channelts and topicts.
  

  Changes:	Modified:
  +6 -1		trunk/protocol/asuka.c (File Modified) 
  +6 -1		trunk/protocol/bircd.c (File Modified) 
  +6 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/02/05 00:05:03 UTC	(20060205-4781)
  Log:
  ircu 2.12 has adopted asuka's cmode +D, so add it here as well.
  

  Changes:	Modified:
  +1 -0		trunk/include/protocol/undernet.h (File Modified) 
  +1 -0		trunk/protocol/undernet.c (File Modified) 


jilles      2006/02/05 00:04:15 UTC	(20060205-4779)
  Log:
  Don't reallocate me.name/me.numeric on rehash.
  This should fix issues where P10 uses an un-base64ed
  server numeric after a rehash.
  

  Changes:	Modified:
  +4 -2		trunk/src/conf.c (File Modified) 


jilles      2006/02/04 23:11:00 UTC	(20060204-4777)
  Log:
  undernet: we do not support ipv6 ips in P10; we do not support oplevels.
  

  Changes:	Modified:
  +5 -0		trunk/doc/IRCD (File Modified) 


nenolod     2006/02/04 21:15:19 UTC	(20060204-4775)
  Log:
  1.0 release
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


jilles      2006/02/04 21:12:58 UTC	(20060204-4773)
  Log:
  - Add the other changes since 1.0rc1.
  - These are 1.0 release notes, not 1.0rc2.
  

  Changes:	Modified:
  +8 -1		trunk/doc/RELEASE (File Modified) 


nenolod     2006/02/04 21:05:06 UTC	(20060204-4771)
  Log:
  Add =<nick> to release notes.
  

  Changes:	Modified:
  +5 -3		trunk/doc/RELEASE (File Modified) 


jilles      2006/02/04 21:01:03 UTC	(20060204-4769)
  Log:
  Consider a channel 'new' (do as if SECURE is set even if it isn't)
  if it's younger than 300 instead of 60 seconds.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/02/04 20:58:40 UTC	(20060204-4767)
  Log:
  Mention =<online nick> possibility.
  

  Changes:	Modified:
  +9 -0		trunk/help/nickserv/info (File Modified) 
  +9 -0		trunk/help/userserv/info (File Modified) 


nenolod     2006/02/04 20:52:34 UTC	(20060204-4765)
  Log:
  Add some paranoia checks to user_find(), myuser_find() and myuser_find_ext().
  

  Changes:	Modified:
  +9 -0		trunk/src/node.c (File Modified) 


nenolod     2006/02/04 17:15:15 UTC	(20060204-4763)
  Log:
  Don't just call myuser_find_ext() blindly! If you do /cs xop list, things crash :(
  

  Changes:	Modified:
  +4 -2		trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2006/02/04 02:57:30 UTC	(20060204-4761)
  Log:
  add 'atheme.account.vhost' to the example.
  

  Changes:	Modified:
  +1 -0		trunk/contrib/xmlrpc_explorer.php (File Modified) 


jilles      2006/02/01 23:47:43 UTC	(20060201-4759)
  Log:
  ircnet: hack: use an older faked TS for bursted channels,
  so we won't deop them.
  

  Changes:	Modified:
  +6 -2		trunk/protocol/ircnet.c (File Modified) 


nenolod     2006/02/01 20:02:16 UTC	(20060201-4757)
  Log:
  sstrdup(): if a NULL parameter is given, return NULL instead of crashing ;)
  

  Changes:	Modified:
  +6 -6		trunk/libatheme/memory.c (File Modified) 


jilles      2006/02/01 15:02:08 UTC	(20060201-4755)
  Log:
  Add a description of the letters in /version and ctcp version.
  

  Changes:	Modified:
  +17 -0	trunk/doc/VERSION_LETTERS (File Added) 


nenolod     2006/02/01 14:48:41 UTC	(20060201-4753)
  Log:
  remove minuses
  

  Changes:	Modified:
  +9 -9		trunk/src/ptasks.c (File Modified) 


nenolod     2006/02/01 14:47:45 UTC	(20060201-4751)
  Log:
  Add atheme.account.vhost for setting and removing vhosts. This command 
  only affects the account and not any logged in users.
  

  Changes:	Modified:
  +56 -0	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2006/02/01 14:35:58 UTC	(20060201-4749)
  Log:
  add the ircd name onto version output
  

  Changes:	Modified:
  +12 -7	trunk/src/ptasks.c (File Modified) 


nenolod     2006/02/01 14:22:48 UTC	(20060201-4747)
  Log:
  Add hybrid-specific IRCd module
  

  Changes:	Modified:
  +2 -1		trunk/dist/example.conf (File Modified) 
  +2 -1		trunk/dist/example.userserv.conf (File Modified) 
  + -		trunk/include/protocol/hybrid.h (File Added) 
  +1 -0		trunk/protocol/Makefile.in (File Modified) 
  +1169 -0	trunk/protocol/Makefile.win32 (File Modified) 
  + -		trunk/protocol/hybrid.c (File Added) 


nenolod     2006/01/31 02:26:19 UTC	(20060131-4745)
  Log:
  kill off some warnings for fun.
  

  Changes:	Modified:
  +2 -3		trunk/backend/flatfile.c (File Modified) 
  +10 -19	trunk/crypto/ircservices.c (File Modified) 
  +0 -1		trunk/modules/chanserv/clear_users.c (File Modified) 
  +2 -2		trunk/modules/chanserv/halfop.c (File Modified) 
  +2 -3		trunk/modules/chanserv/main.c (File Modified) 
  +2 -4		trunk/modules/chanserv/op.c (File Modified) 
  +0 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +2 -2		trunk/modules/chanserv/voice.c (File Modified) 


jilles      2006/01/31 02:22:42 UTC	(20060131-4743)
  Log:
  Allow =<nick> instead of <account> in most commands.
  This indicates the account the given nick is logged in to.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +4 -4		trunk/modules/chanserv/akick.c (File Modified) 
  +2 -2		trunk/modules/chanserv/flags.c (File Modified) 
  +1 -1		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/chanserv/xop.c (File Modified) 
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +1 -1		trunk/modules/nickserv/info.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/userserv/hold.c (File Modified) 
  +1 -1		trunk/modules/userserv/info.c (File Modified) 
  +1 -1		trunk/modules/userserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/userserv/mark.c (File Modified) 
  +1 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 
  +13 -0	trunk/src/node.c (File Modified) 


jilles      2006/01/31 02:14:11 UTC	(20060131-4741)
  Log:
  Try to avoid 'enforce channel access on initial creation'
  applying on netsplits. This assumes the ircd does TS and
  there is at most 60 seconds difference between the clocks
  and lag.
  

  Changes:	Modified:
  +3 -1		trunk/modules/chanserv/main.c (File Modified) 


nenolod     2006/01/31 02:02:59 UTC	(20060131-4739)
  Log:
  Enforce channel access on initial creation.
  

  Changes:	Modified:
  +8 -4		trunk/modules/chanserv/main.c (File Modified) 


nenolod     2006/01/31 01:56:22 UTC	(20060131-4737)
  Log:
  Add notes about PTLink IRCd.
  

  Changes:	Modified:
  +2 -0		trunk/doc/IRCD (File Modified) 


jilles      2006/01/27 15:45:40 UTC	(20060127-4735)
  Log:
  ircnet: add +R (reop list) ban-like cmode.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ircnet.c (File Modified) 


jilles      2006/01/25 19:03:01 UTC	(20060125-4733)
  Log:
  Note removal of nickname linking.
  

  Changes:	Modified:
  +5 -0		trunk/doc/RELEASE (File Modified) 


jilles      2006/01/25 13:03:22 UTC	(20060125-4729)
  Log:
  P10 account caveats.
  

  Changes:	Modified:
  +18 -0	trunk/doc/IRCD (File Modified) 


jilles      2006/01/25 12:58:31 UTC	(20060125-4727)
  Log:
  Move netsplit/drop/reregister discussion from doc/IRCD to DROP help files,
  as currently all protocol modules that recognize login state after
  netsplits/services restarts have this issue.
  

  Changes:	Modified:
  +3 -8		trunk/doc/IRCD (File Modified) 
  +4 -0		trunk/help/nickserv/drop (File Modified) 
  +4 -0		trunk/help/userserv/drop (File Modified) 


jilles      2006/01/25 12:52:19 UTC	(20060125-4725)
  Log:
  - These are 1.0rc1 release notes.
  - Add umode +r account hacking fix.
  

  Changes:	Modified:
  +5 -2		trunk/doc/RELEASE (File Modified) 


jilles      2006/01/25 12:44:18 UTC	(20060125-4723)
  Log:
  Dreamforge/sorcery: set +r/-r as in the unreal module; no svsid support for now.
  

  Changes:	Modified:
  +13 -4	trunk/protocol/dreamforge.c (File Modified) 
  +13 -4	trunk/protocol/sorcery.c (File Modified) 


jilles      2006/01/25 12:43:15 UTC	(20060125-4721)
  Log:
  Ultimate3: Disable the code that automatically logs in a user
  if they have umode +r. I don't know if it's cleared on nick
  change (if not, this would allow everyone to log in as
  everyone without password).
  

  Changes:	Modified:
  +6 -0		trunk/protocol/ultimate3.c (File Modified) 


jilles      2006/01/25 12:40:27 UTC	(20060125-4719)
  Log:
  Add comment that it's safe to rely on umode +e for identification
  (hyperion clears this on nick changes).
  

  Changes:	Modified:
  +1 -0		trunk/protocol/hyperion.c (File Modified) 


jilles      2006/01/24 23:40:42 UTC	(20060124-4717)
  Log:
  Explicitly specify that mode_sts() must also work if
  the sender is not on channel (/os mode!).
  

  Changes:	Modified:
  +1 -1		trunk/include/phandler.h (File Modified) 


jilles      2006/01/24 23:31:42 UTC	(20060124-4715)
  Log:
  Add some inspircd stuff.
  

  Changes:	Modified:
  +10 -0	trunk/doc/IRCD (File Modified) 


jilles      2006/01/24 23:26:04 UTC	(20060124-4713)
  Log:
  Add information about P10 host hiding.
  

  Changes:	Modified:
  +14 -0	trunk/doc/IRCD (File Modified) 


jilles      2006/01/24 23:17:40 UTC	(20060124-4711)
  Log:
  Asuka: add support for dynamic vhosts (/mode <nick> +h aka SETHOST).
  A vhosted ident cannot be restored on -h.
  

  Changes:	Modified:
  +29 -0	trunk/protocol/asuka.c (File Modified) 


jilles      2006/01/24 23:02:59 UTC	(20060124-4709)
  Log:
  Add support for P10 host hiding with umode +x (<account>.<suffix>).
  The suffix needs to be set in serverinfo::hidehostsuffix
  (the server does not tell us that information in time).
  Also another user_t flag is necessary because setting +x is also
  possible before logging in and it will then apply on login.
  

  Changes:	Modified:
  +7 -0		trunk/dist/example.conf (File Modified) 
  +7 -0		trunk/dist/example.userserv.conf (File Modified) 
  +2 -1		trunk/include/atheme.h (File Modified) 
  +1 -0		trunk/include/users.h (File Modified) 
  +53 -1	trunk/protocol/asuka.c (File Modified) 
  +53 -1	trunk/protocol/bircd.c (File Modified) 
  +53 -1	trunk/protocol/undernet.c (File Modified) 
  +17 -1	trunk/src/conf.c (File Modified) 


jilles      2006/01/24 20:48:45 UTC	(20060124-4707)
  Log:
  asuka/bircd: remove cmode +d, as this is a local-only cmode,
  automatically set when -D is set and there are still hidden
  users on that server. Asuka has some bugs where it sends out
  +D-d or +d-D to servers, but that's ok.
  

  Changes:	Modified:
  +0 -1		trunk/protocol/asuka.c (File Modified) 
  +0 -1		trunk/protocol/bircd.c (File Modified) 


jilles      2006/01/24 17:55:17 UTC	(20060124-4705)
  Log:
  inspircd:
  - Add cmode +eI back (no problem if the module isn't loaded, we only
    send these to remove them anyway)
  - Add cmode +fj (submitted by Brain)
  - Add cmode +L
  - Inspircd r2882 clears umode +r on nick change, so we can use this.
    Also fix it.
  

  Changes:	Modified:
  +8 -6		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/01/24 17:44:39 UTC	(20060124-4703)
  Log:
  Add a warning about possible feedback loops (FLOOD)
  with use_privmsg.
  

  Changes:	Modified:
  +4 -1		trunk/dist/example.conf (File Modified) 
  +4 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/01/24 17:31:20 UTC	(20060124-4701)
  Log:
  Unreal:
  - unset +r in services, as unreal doesn't do it automatically on nick
    changes
  - make it such that svsid == nickTS means identified to current nick
    (for sanity, only if nickTS > 100)
  
  Not tested other than that it compiles.
  

  Changes:	Modified:
  +20 -15	trunk/protocol/unreal.c (File Modified) 


nenolod     2006/01/24 17:22:41 UTC	(20060124-4699)
  Log:
  Add option to make services use PRIVMSG instead of NOTICE.
  

  Changes:	Modified:
  +12 -0	trunk/dist/example.conf (File Modified) 
  +12 -0	trunk/dist/example.userserv.conf (File Modified) 
  +1 -0		trunk/include/atheme.h (File Modified) 
  +8 -0		trunk/src/conf.c (File Modified) 
  +4 -1		trunk/src/services.c (File Modified) 


nenolod     2006/01/24 17:05:26 UTC	(20060124-4697)
  Log:
  - Add documentation concerning ShadowIRCd.
  - Add documentation concerning PleXusIRCd.
  

  Changes:	Modified:
  +20 -0	trunk/doc/IRCD (File Modified) 


jilles      2006/01/24 16:56:22 UTC	(20060124-4695)
  Log:
  ptlink:
  - remove remainder of netwide EOB code
  - reset +r if changing back to registered nick
  - add comment that it's ok to rely on +r for identification,
    since ptlink clears it on nick changes
  

  Changes:	Modified:
  +20 -16	trunk/protocol/ptlink.c (File Modified) 


jilles      2006/01/24 16:43:27 UTC	(20060124-4693)
  Log:
  Add comment that it's ok to rely on umode +r
  for identification on bahamut/solidircd.
  

  Changes:	Modified:
  +2 -0		trunk/protocol/bahamut.c (File Modified) 
  +2 -0		trunk/protocol/solidircd.c (File Modified) 


jilles      2006/01/24 16:14:11 UTC	(20060124-4691)
  Log:
  Remove handle_burstlogin() calls, umode +r is currently unusable for us.
  

  Changes:	Modified:
  +2 -0		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/01/23 00:54:35 UTC	(20060123-4689)
  Log:
  Unreal: SJOIN:
  - if the TS changed, only remove the old modes, not the ones in the SJOIN
  - add +e, +I support
  
  This is not tested other than that it compiles.
  

  Changes:	Modified:
  +36 -35	trunk/protocol/unreal.c (File Modified) 


jilles      2006/01/23 00:21:25 UTC	(20060123-4687)
  Log:
  P10: OK P10 still does JOIN 0 server-server as well :)
  

  Changes:	Modified:
  +19 -0	trunk/protocol/asuka.c (File Modified) 
  +19 -0	trunk/protocol/bircd.c (File Modified) 
  +19 -0	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/23 00:10:38 UTC	(20060123-4685)
  Log:
  P10: rewrite m_burst(), making it easier to understand
  and fixing many bugs and omissions.
  

  Changes:	Modified:
  +79 -199	trunk/protocol/asuka.c (File Modified) 
  +79 -199	trunk/protocol/bircd.c (File Modified) 
  +89 -46	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/22 22:40:23 UTC	(20060122-4683)
  Log:
  Send UID if possible when deopping (dehalfopping) a
  user because of a mode change and /cs set secure.
  

  Changes:	Modified:
  +2 -2		trunk/src/cmode.c (File Modified) 


jilles      2006/01/22 22:31:21 UTC	(20060122-4681)
  Log:
  ChanServ RECOVER: Use the new framework to set the ban exception.
  

  Changes:	Modified:
  +15 -5	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2006/01/22 22:28:16 UTC	(20060122-4679)
  Log:
  P10: for some strange reason, invite takes a nick and not a uid.
  

  Changes:	Modified:
  +2 -1		trunk/protocol/asuka.c (File Modified) 
  +2 -1		trunk/protocol/bircd.c (File Modified) 
  +2 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/22 22:06:16 UTC	(20060122-4677)
  Log:
  P10: only process IP addresses of the correct length
  (e.g. don't store some bogus IPv4 address if something
  sends IPv6 addresses like beware's document describes.)
  

  Changes:	Modified:
  +6 -3		trunk/protocol/asuka.c (File Modified) 
  +6 -3		trunk/protocol/bircd.c (File Modified) 
  +6 -3		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/22 20:28:32 UTC	(20060122-4675)
  Log:
  Add forgotten comma.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/solidircd.c (File Modified) 


jilles      2006/01/22 19:51:16 UTC	(20060122-4673)
  Log:
  solidircd and unreal can also do SVSHOLD
  

  Changes:	Modified:
  +2 -2		trunk/contrib/ns_enforce.c (File Modified) 


jilles      2006/01/22 19:48:38 UTC	(20060122-4671)
  Log:
  Incorporate changes to bahamut.c between the creation
  of solidircd.c and its inclusion in Atheme SVN:
  - don't send UNCONNECT in CAPAB
  - add invite_sts, wallchops, fnc_sts
  - don't set umode +r if nickserv is not enabled
  - store user IP addresses
  - rejoin all internal clients on kick, not just chanserv
  - a few style nits
  

  Changes:	Modified:
  +37 -12	trunk/protocol/solidircd.c (File Modified) 


jilles      2006/01/22 19:26:53 UTC	(20060122-4669)
  Log:
  More updates/fixes to release notes.
  

  Changes:	Modified:
  +3 -2		trunk/doc/RELEASE (File Modified) 


jilles      2006/01/22 19:24:10 UTC	(20060122-4667)
  Log:
  Don't give back dalnet-style +r on nick change
  if they are still MU_WAITAUTH.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/solidircd.c (File Modified) 
  +3 -7		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 


nenolod     2006/01/22 18:19:57 UTC	(20060122-4665)
  Log:
  s/1.0-RC1/1.0rc1/i
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2006/01/22 18:18:31 UTC	(20060122-4663)
  Log:
  Some minor cleanups here.
  

  Changes:	Modified:
  +1 -1		trunk/src/services.c (File Modified) 


nenolod     2006/01/22 18:14:34 UTC	(20060122-4661)
  Log:
  Updates to the release notes.
  

  Changes:	Modified:
  +2 -0		trunk/doc/RELEASE (File Modified) 


jilles      2006/01/22 17:42:46 UTC	(20060122-4659)
  Log:
  Add a return value for ban() indicating the
  number of bans added (not present yet).
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +5 -4		trunk/src/services.c (File Modified) 


jilles      2006/01/22 16:09:51 UTC	(20060122-4657)
  Log:
  Mention ban exception removal in some help files.
  

  Changes:	Modified:
  +2 -1		trunk/help/cservice/akick (File Modified) 
  +2 -0		trunk/help/cservice/kickban (File Modified) 
  +2 -1		trunk/help/cservice/set_staffonly (File Modified) 


jilles      2006/01/22 15:22:29 UTC	(20060122-4655)
  Log:
  Remove ban exceptions when an unauthorized user
  joins a staffonly channel.
  

  Changes:	Modified:
  +1 -0		trunk/modules/chanserv/main.c (File Modified) 


jilles      2006/01/22 15:06:48 UTC	(20060122-4653)
  Log:
  On /cs kickban <nick>, remove ban exceptions matching <nick>.
  

  Changes:	Modified:
  +8 -0		trunk/modules/chanserv/kick.c (File Modified) 


jilles      2006/01/21 23:37:16 UTC	(20060121-4651)
  Log:
  Add int remove_ban_exceptions(user_t *source, channel_t *chan, user_t *target);
  and use it to remove matching ban exceptions when
  activating an akick on a user.
  For now flag +r exempts from flag +b, adding flag +e later.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +2 -1		trunk/modules/chanserv/main.c (File Modified) 
  +2 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +2 -1		trunk/modules/userserv/login.c (File Modified) 
  +38 -0	trunk/src/services.c (File Modified) 


jilles      2006/01/21 23:10:43 UTC	(20060121-4649)
  Log:
  charybdis/hyperion: allow non-standard simple
  modes with parameters in /os mode.
  

  Changes:	Modified:
  +2 -0		trunk/protocol/charybdis.c (File Modified) 
  +3 -1		trunk/protocol/hyperion.c (File Modified) 
  +13 -14	trunk/src/cmode.c (File Modified) 


jilles      2006/01/21 22:50:57 UTC	(20060121-4647)
  Log:
  Properly unregister help entry on unload.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/clear_users.c (File Modified) 


jilles      2006/01/21 22:50:25 UTC	(20060121-4645)
  Log:
  Clear bans should require +R, not +f.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/clear_bans.c (File Modified) 


jilles      2006/01/21 22:47:09 UTC	(20060121-4643)
  Log:
  Extend /cs clear bans to all lists of a channel,
  e.g. /msg chanserv clear # bans beI
  

  Changes:	Modified:
  +3 -2		trunk/help/cservice/clear (File Modified) 
  +21 -2	trunk/help/cservice/clear_bans (File Modified) 
  +34 -4	trunk/modules/chanserv/clear_bans.c (File Modified) 


jilles      2006/01/21 22:10:57 UTC	(20060121-4641)
  Log:
  Hmm no +eI in inspircd, just +bg.
  

  Changes:	Modified:
  +3 -3		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/01/21 22:06:41 UTC	(20060121-4639)
  Log:
  Add support for ban-like modes other than +b (e.g. +e, +I).
  Add a type field to chanban_t; channel_t.bans now holds
  other ban-like modes as well.
  User-visible effects: these modes now work with /os mode
  This could be broken with some ircds (e.g. unreal).
  

  Changes:	Modified:
  +1 -0		trunk/include/channels.h (File Modified) 
  +2 -2		trunk/include/extern.h (File Modified) 
  +3 -0		trunk/include/phandler.h (File Modified) 
  +0 -3		trunk/include/protocol/asuka.h (File Modified) 
  +0 -3		trunk/include/protocol/bahamut.h (File Modified) 
  +0 -5		trunk/include/protocol/charybdis.h (File Modified) 
  +0 -3		trunk/include/protocol/dreamforge.h (File Modified) 
  +0 -5		trunk/include/protocol/hyperion.h (File Modified) 
  +0 -4		trunk/include/protocol/inspircd.h (File Modified) 
  +0 -3		trunk/include/protocol/ircnet.h (File Modified) 
  +0 -3		trunk/include/protocol/monkey.h (File Modified) 
  +0 -5		trunk/include/protocol/plexus.h (File Modified) 
  +0 -3		trunk/include/protocol/ptlink.h (File Modified) 
  +0 -3		trunk/include/protocol/ratbox.h (File Modified) 
  +0 -5		trunk/include/protocol/shadowircd.h (File Modified) 
  +0 -3		trunk/include/protocol/solidircd.h (File Modified) 
  +0 -3		trunk/include/protocol/sorcery.h (File Modified) 
  +0 -2		trunk/include/protocol/ultimate3.h (File Modified) 
  +0 -3		trunk/include/protocol/undernet.h (File Modified) 
  +0 -3		trunk/include/protocol/unreal.h (File Modified) 
  +10 -6	trunk/modules/chanserv/ban.c (File Modified) 
  +2 -0		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +5 -5		trunk/modules/chanserv/close.c (File Modified) 
  +2 -2		trunk/modules/chanserv/main.c (File Modified) 
  +2 -0		trunk/modules/chanserv/recover.c (File Modified) 
  +4 -3		trunk/protocol/asuka.c (File Modified) 
  +4 -3		trunk/protocol/bahamut.c (File Modified) 
  +4 -3		trunk/protocol/bircd.c (File Modified) 
  +13 -9	trunk/protocol/charybdis.c (File Modified) 
  +4 -3		trunk/protocol/dreamforge.c (File Modified) 
  +5 -6		trunk/protocol/hyperion.c (File Modified) 
  +4 -4		trunk/protocol/inspircd.c (File Modified) 
  +4 -3		trunk/protocol/ircnet.c (File Modified) 
  +4 -3		trunk/protocol/monkey.c (File Modified) 
  +5 -4		trunk/protocol/plexus.c (File Modified) 
  +4 -3		trunk/protocol/ptlink.c (File Modified) 
  +13 -8	trunk/protocol/ratbox.c (File Modified) 
  +5 -6		trunk/protocol/shadowircd.c (File Modified) 
  +4 -2		trunk/protocol/solidircd.c (File Modified) 
  +4 -3		trunk/protocol/sorcery.c (File Modified) 
  +4 -2		trunk/protocol/ultimate3.c (File Modified) 
  +4 -3		trunk/protocol/undernet.c (File Modified) 
  +6 -5		trunk/protocol/unreal.c (File Modified) 
  +66 -47	trunk/src/cmode.c (File Modified) 
  +6 -5		trunk/src/node.c (File Modified) 
  +2 -2		trunk/src/services.c (File Modified) 


jilles      2006/01/21 15:47:45 UTC	(20060121-4637)
  Log:
  Remove (redundant) shadowing redefinition of i.
  

  Changes:	Modified:
  +0 -1		trunk/protocol/asuka.c (File Modified) 


jilles      2006/01/21 15:24:14 UTC	(20060121-4635)
  Log:
  Asuka: add support for umode +h (SETHOST) on burst.
  This means F:SETHOST_AUTO:TRUE is supported;
  F:SETHOST:TRUE and F:SETHOST_USER:TRUE are not.
  Umode +x is not supported either.
  

  Changes:	Modified:
  +20 -1	trunk/protocol/asuka.c (File Modified) 


jilles      2006/01/21 14:44:45 UTC	(20060121-4633)
  Log:
  P10: only acknowledge END_OF_BURST from our uplink, not from other servers.
  

  Changes:	Modified:
  +5 -1		trunk/protocol/asuka.c (File Modified) 
  +5 -1		trunk/protocol/bircd.c (File Modified) 
  +5 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/20 16:38:15 UTC	(20060120-4631)
  Log:
  - allow me::mta unspecified, this disables email support
    (explicit error message, ns/us set emailmemos on denied;
    this used to crash on rehash)
  - return failure instead of success in sendemail() on windows
  

  Changes:	Modified:
  +5 -0		trunk/modules/nickserv/set.c (File Modified) 
  +5 -0		trunk/modules/userserv/set.c (File Modified) 
  +1 -1		trunk/src/conf.c (File Modified) 
  +8 -1		trunk/src/function.c (File Modified) 


jilles      2006/01/20 12:23:21 UTC	(20060120-4629)
  Log:
  P10: Process received CLEARMODE and OPMODE.
  

  Changes:	Modified:
  +71 -0	trunk/protocol/asuka.c (File Modified) 
  +71 -0	trunk/protocol/bircd.c (File Modified) 
  +71 -0	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/20 11:51:44 UTC	(20060120-4627)
  Log:
  P10: fix comment at start of file.
  

  Changes:	Modified:
  +3 -3		trunk/protocol/asuka.c (File Modified) 
  +3 -3		trunk/protocol/bircd.c (File Modified) 
  +3 -3		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/20 02:43:59 UTC	(20060120-4625)
  Log:
  Um, no such function myuser_find_named().
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 


jilles      2006/01/20 01:57:35 UTC	(20060120-4623)
  Log:
  P10: ircd_on_login() takes nick not uid.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/20 01:44:46 UTC	(20060120-4621)
  Log:
  P10: keep track of user IP addresses.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +7 -1		trunk/protocol/asuka.c (File Modified) 
  +7 -1		trunk/protocol/bircd.c (File Modified) 
  +7 -1		trunk/protocol/undernet.c (File Modified) 
  +33 -0	trunk/src/ubase64.c (File Modified) 


jilles      2006/01/20 00:27:51 UTC	(20060120-4619)
  Log:
  An U:line appears to be not enough for P10 to
  fully recognize us as services, we also need
  "+s" server flags.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/20 00:19:29 UTC	(20060120-4617)
  Log:
  Guess what? More user_find() to user_find_named().
  

  Changes:	Modified:
  +3 -3		trunk/contrib/ns_enforce.c (File Modified) 
  +3 -3		trunk/modules/chanserv/close.c (File Modified) 
  +1 -1		trunk/src/help.c (File Modified) 


jilles      2006/01/20 00:09:52 UTC	(20060120-4615)
  Log:
  No idea why chanacs_find_by_mask() bothered with user_t's at all.
  Anyway, doesn't abuse user_find() anymore.
  

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 


jilles      2006/01/19 23:52:30 UTC	(20060119-4613)
  Log:
  sed -i.bak -e 's/user_find(origin)/user_find_named(origin)/' modules/*/*.c contrib/*.c
  This should fix most of the user_find()s that should be user_find_named()s.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/cs_count.c (File Modified) 
  +1 -1		trunk/contrib/ns_enforce.c (File Modified) 
  +2 -2		trunk/modules/chanserv/akick.c (File Modified) 
  +4 -4		trunk/modules/chanserv/ban.c (File Modified) 
  +1 -1		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +1 -1		trunk/modules/chanserv/clear_users.c (File Modified) 
  +2 -2		trunk/modules/chanserv/close.c (File Modified) 
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 
  +2 -2		trunk/modules/chanserv/flags.c (File Modified) 
  +1 -1		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +4 -4		trunk/modules/chanserv/halfop.c (File Modified) 
  +1 -1		trunk/modules/chanserv/help.c (File Modified) 
  +2 -2		trunk/modules/chanserv/hold.c (File Modified) 
  +1 -1		trunk/modules/chanserv/info.c (File Modified) 
  +1 -1		trunk/modules/chanserv/invite.c (File Modified) 
  +6 -6		trunk/modules/chanserv/kick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/list.c (File Modified) 
  +2 -2		trunk/modules/chanserv/mark.c (File Modified) 
  +4 -4		trunk/modules/chanserv/op.c (File Modified) 
  +1 -1		trunk/modules/chanserv/recover.c (File Modified) 
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +13 -13	trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/chanserv/status.c (File Modified) 
  +1 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/chanserv/template.c (File Modified) 
  +4 -4		trunk/modules/chanserv/topic.c (File Modified) 
  +4 -4		trunk/modules/chanserv/voice.c (File Modified) 
  +1 -1		trunk/modules/chanserv/why.c (File Modified) 
  +10 -10	trunk/modules/chanserv/xop.c (File Modified) 
  +2 -2		trunk/modules/global/main.c (File Modified) 
  +1 -1		trunk/modules/helpserv/help.c (File Modified) 
  +1 -1		trunk/modules/memoserv/delete.c (File Modified) 
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/help.c (File Modified) 
  +5 -5		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/list.c (File Modified) 
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +1 -1		trunk/modules/nickserv/help.c (File Modified) 
  +1 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/info.c (File Modified) 
  +1 -1		trunk/modules/nickserv/list.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +2 -2		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/return.c (File Modified) 
  +1 -1		trunk/modules/nickserv/sendpass.c (File Modified) 
  +9 -9		trunk/modules/nickserv/set.c (File Modified) 
  +3 -3		trunk/modules/nickserv/status.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/verify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +7 -7		trunk/modules/operserv/akill.c (File Modified) 
  +1 -1		trunk/modules/operserv/help.c (File Modified) 
  +5 -5		trunk/modules/operserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/operserv/inject.c (File Modified) 
  +1 -1		trunk/modules/operserv/jupe.c (File Modified) 
  +1 -1		trunk/modules/operserv/mode.c (File Modified) 
  +1 -1		trunk/modules/operserv/modinspect.c (File Modified) 
  +1 -1		trunk/modules/operserv/modlist.c (File Modified) 
  +1 -1		trunk/modules/operserv/modload.c (File Modified) 
  +1 -1		trunk/modules/operserv/modrestart.c (File Modified) 
  +1 -1		trunk/modules/operserv/modunload.c (File Modified) 
  +6 -6		trunk/modules/operserv/noop.c (File Modified) 
  +1 -1		trunk/modules/operserv/raw.c (File Modified) 
  +1 -1		trunk/modules/operserv/rehash.c (File Modified) 
  +1 -1		trunk/modules/operserv/restart.c (File Modified) 
  +1 -1		trunk/modules/operserv/shutdown.c (File Modified) 
  +3 -3		trunk/modules/operserv/specs.c (File Modified) 
  +1 -1		trunk/modules/operserv/update.c (File Modified) 
  +2 -2		trunk/modules/operserv/uptime.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/userserv/help.c (File Modified) 
  +1 -1		trunk/modules/userserv/hold.c (File Modified) 
  +1 -1		trunk/modules/userserv/info.c (File Modified) 
  +1 -1		trunk/modules/userserv/list.c (File Modified) 
  +1 -1		trunk/modules/userserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/userserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +1 -1		trunk/modules/userserv/logout.c (File Modified) 
  +1 -1		trunk/modules/userserv/mark.c (File Modified) 
  +1 -1		trunk/modules/userserv/register.c (File Modified) 
  +1 -1		trunk/modules/userserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/return.c (File Modified) 
  +1 -1		trunk/modules/userserv/sendpass.c (File Modified) 
  +9 -9		trunk/modules/userserv/set.c (File Modified) 
  +3 -3		trunk/modules/userserv/status.c (File Modified) 
  +1 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/userserv/verify.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 


jilles      2006/01/19 23:41:14 UTC	(20060119-4611)
  Log:
  Change some frequently used user_find() to user_find_named().
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/main.c (File Modified) 
  +4 -4		trunk/src/commandtree.c (File Modified) 


jilles      2006/01/19 23:20:35 UTC	(20060119-4609)
  Log:
  Consistently call chanuser_add() with a UID (if known).
  

  Changes:	Modified:
  +1 -1		trunk/src/services.c (File Modified) 


jilles      2006/01/19 23:05:17 UTC	(20060119-4607)
  Log:
  Make join() consistently take a nick (not a uid).
  Fix wrong order of join() arguments somewhere in modules/chanserv/main.c.
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/solidircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 
  +1 -1		trunk/src/services.c (File Modified) 


jilles      2006/01/19 22:18:04 UTC	(20060119-4605)
  Log:
  For some mysterious reason, P10 user mode takes a nick as target, not a uid.
  

  Changes:	Modified:
  +5 -0		trunk/doc/IRCD (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 22:15:33 UTC	(20060119-4603)
  Log:
  Send wallops from the server instead of from chanserv.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 21:56:35 UTC	(20060119-4601)
  Log:
  Remove asuka's stupid +N mode before it blocks our notices
  and wallchops.
  

  Changes:	Modified:
  +19 -0	trunk/protocol/asuka.c (File Modified) 


jilles      2006/01/19 21:43:00 UTC	(20060119-4599)
  Log:
  Need to send mode changes from the server if the setter is
  not on channel (for /os mode &c).
  

  Changes:	Modified:
  +4 -1		trunk/protocol/asuka.c (File Modified) 
  +4 -1		trunk/protocol/bircd.c (File Modified) 
  +4 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 21:35:55 UTC	(20060119-4597)
  Log:
  Add cmode +N (no notices/wallchops).
  

  Changes:	Modified:
  +1 -0		trunk/include/protocol/asuka.h (File Modified) 
  +1 -0		trunk/protocol/asuka.c (File Modified) 


jilles      2006/01/19 21:17:40 UTC	(20060119-4595)
  Log:
  P10: Add topic_sts().
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 21:04:30 UTC	(20060119-4593)
  Log:
  P10: Improve the code to accept topics.
  

  Changes:	Modified:
  +23 -3	trunk/protocol/asuka.c (File Modified) 
  +23 -3	trunk/protocol/bircd.c (File Modified) 
  +23 -3	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 17:28:49 UTC	(20060119-4591)
  Log:
  If logging in as another user without logging out explicitly first,
  still do an ircd_on_logout(). (In P10, this will kill the user.)
  

  Changes:	Modified:
  +3 -0		trunk/modules/nickserv/identify.c (File Modified) 
  +3 -0		trunk/modules/userserv/login.c (File Modified) 


jilles      2006/01/19 17:22:13 UTC	(20060119-4589)
  Log:
  P10: Rewrote m_nick(), now copes with the extensibility
  better and recognizes logins.
  

  Changes:	Modified:
  +17 -65	trunk/protocol/asuka.c (File Modified) 
  +17 -65	trunk/protocol/bircd.c (File Modified) 
  +17 -65	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 16:38:34 UTC	(20060119-4587)
  Log:
  Go back to non-P10 mode on reconnect (so it reconnects
  properly after /squit services.).
  

  Changes:	Modified:
  +1 -0		trunk/protocol/asuka.c (File Modified) 
  +1 -0		trunk/protocol/bircd.c (File Modified) 
  +1 -0		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 16:25:49 UTC	(20060119-4585)
  Log:
  Add a return value to ircd_on_logout().
  If the return value is TRUE, the user was killed to force the logout (P10).
  Hmm, handle_burstlogin() does not reflect this in any kind of return value.
  

  Changes:	Modified:
  +5 -3		trunk/include/phandler.h (File Modified) 
  +9 -8		trunk/modules/nickserv/logout.c (File Modified) 
  +9 -8		trunk/modules/userserv/logout.c (File Modified) 
  +16 -4	trunk/protocol/asuka.c (File Modified) 
  +4 -3		trunk/protocol/bahamut.c (File Modified) 
  +16 -4	trunk/protocol/bircd.c (File Modified) 
  +3 -2		trunk/protocol/charybdis.c (File Modified) 
  +4 -3		trunk/protocol/dreamforge.c (File Modified) 
  +5 -4		trunk/protocol/hyperion.c (File Modified) 
  +4 -3		trunk/protocol/inspircd.c (File Modified) 
  +2 -2		trunk/protocol/ircnet.c (File Modified) 
  +4 -3		trunk/protocol/monkey.c (File Modified) 
  +4 -3		trunk/protocol/plexus.c (File Modified) 
  +4 -3		trunk/protocol/ptlink.c (File Modified) 
  +3 -2		trunk/protocol/ratbox.c (File Modified) 
  +4 -3		trunk/protocol/shadowircd.c (File Modified) 
  +4 -3		trunk/protocol/solidircd.c (File Modified) 
  +4 -3		trunk/protocol/sorcery.c (File Modified) 
  +4 -3		trunk/protocol/ultimate3.c (File Modified) 
  +16 -4	trunk/protocol/undernet.c (File Modified) 
  +4 -3		trunk/protocol/unreal.c (File Modified) 
  +6 -4		trunk/src/node.c (File Modified) 
  +3 -2		trunk/src/phandler.c (File Modified) 


jilles      2006/01/19 15:34:06 UTC	(20060119-4583)
  Log:
  Like kick(), msg(), etc, numeric_sts() takes a nick.
  

  Changes:	Modified:
  +43 -43	trunk/src/ptasks.c (File Modified) 


jilles      2006/01/19 15:18:35 UTC	(20060119-4581)
  Log:
  Change handle_version/admin/info/stats/trace() from char *nick
  to user_t *u.
  

  Changes:	Modified:
  +6 -6		trunk/include/extern.h (File Modified) 
  +6 -21	trunk/protocol/asuka.c (File Modified) 
  +6 -6		trunk/protocol/bahamut.c (File Modified) 
  +6 -21	trunk/protocol/bircd.c (File Modified) 
  +6 -6		trunk/protocol/charybdis.c (File Modified) 
  +6 -6		trunk/protocol/dreamforge.c (File Modified) 
  +6 -6		trunk/protocol/hyperion.c (File Modified) 
  +6 -6		trunk/protocol/ircnet.c (File Modified) 
  +6 -6		trunk/protocol/monkey.c (File Modified) 
  +6 -6		trunk/protocol/plexus.c (File Modified) 
  +6 -6		trunk/protocol/ptlink.c (File Modified) 
  +6 -6		trunk/protocol/ratbox.c (File Modified) 
  +6 -6		trunk/protocol/shadowircd.c (File Modified) 
  +6 -6		trunk/protocol/solidircd.c (File Modified) 
  +6 -6		trunk/protocol/sorcery.c (File Modified) 
  +6 -6		trunk/protocol/ultimate3.c (File Modified) 
  +6 -21	trunk/protocol/undernet.c (File Modified) 
  +6 -6		trunk/protocol/unreal.c (File Modified) 
  +6 -12	trunk/src/ptasks.c (File Modified) 


jilles      2006/01/19 14:58:34 UTC	(20060119-4579)
  Log:
  P10:
  - kick(), msg(), notice(), numeric_sts(), skill(), part(), mode_sts()
    take nicks not uids
  - skill() kills from server if source user not found
  

  Changes:	Modified:
  +13 -13	trunk/protocol/asuka.c (File Modified) 
  +13 -13	trunk/protocol/bircd.c (File Modified) 
  +13 -13	trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 14:40:44 UTC	(20060119-4577)
  Log:
  Debug scaffolding to find places where user_find() is used on nicks
  in P10.
  

  Changes:	Modified:
  +5 -0		trunk/src/node.c (File Modified) 


jilles      2006/01/19 14:35:04 UTC	(20060119-4575)
  Log:
  Um, P10 JOIN introduces the new user unopped...
  

  Changes:	Modified:
  +1 -6		trunk/protocol/asuka.c (File Modified) 
  +1 -6		trunk/protocol/bircd.c (File Modified) 
  +1 -6		trunk/protocol/undernet.c (File Modified) 


jilles      2006/01/19 13:44:42 UTC	(20060119-4573)
  Log:
  Change myuser_delete to take a myuser_t * instead
  of a name.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/register.c (File Modified) 
  +1 -1		trunk/modules/xmlrpc/account.c (File Modified) 
  +4 -4		trunk/src/node.c (File Modified) 


jilles      2006/01/19 13:37:54 UTC	(20060119-4571)
  Log:
  Change user_delete to take a user_t * instead of a nick.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +2 -2		trunk/modules/operserv/noop.c (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/solidircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 
  +3 -4		trunk/src/node.c (File Modified) 
  +1 -1		trunk/src/ptasks.c (File Modified) 
  +1 -1		trunk/src/servtree.c (File Modified) 


jilles      2006/01/19 00:29:25 UTC	(20060119-4565)
  Log:
  After discussion with Brain, improve this to avoid topics
  being bounced. Similar to ratbox/charybdis, use FTOPIC
  (ratbox: TB) from the server only to restore old topics
  and use TOPIC from chanserv to set new ones.
  

  Changes:	Modified:
  +6 -1		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/01/18 23:38:54 UTC	(20060118-4563)
  Log:
  Don't expire a channel if there's still a user with appropriate
  (CA_USEDUPDATE) flags in it.
  
  Helps if there are no joins/netsplits/services restarts for
  a long time.
  

  Changes:	Modified:
  +35 -6	trunk/src/node.c (File Modified) 


nenolod     2006/01/15 18:55:58 UTC	(20060115-4561)
  Log:
  Remove duplicate entry in specs.
  

  Changes:	Modified:
  +0 -1		trunk/modules/operserv/specs.c (File Modified) 


jilles      2006/01/10 12:04:41 UTC	(20060110-4559)
  Log:
  Clear out *svs.me on module unload.
  

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/main.c (File Modified) 
  +3 -0		trunk/modules/global/main.c (File Modified) 
  +3 -0		trunk/modules/helpserv/main.c (File Modified) 
  +3 -0		trunk/modules/memoserv/main.c (File Modified) 
  +3 -0		trunk/modules/nickserv/main.c (File Modified) 
  +3 -0		trunk/modules/operserv/main.c (File Modified) 
  +3 -0		trunk/modules/userserv/main.c (File Modified) 


jilles      2006/01/10 11:50:01 UTC	(20060110-4557)
  Log:
  Floodcheck only actual fantasy commands, not all channel
  messages to channels with fantasy enabled.
  Added a new function fcommand_exec_floodcheck() to do this,
  as the other uses of fcommand_exec() (e.g. /cs clear)
  should not floodcheck as that's already done.
  

  Changes:	Modified:
  +1 -0		trunk/include/commandtree.h (File Modified) 
  +1 -5		trunk/modules/chanserv/main.c (File Modified) 
  +36 -0	trunk/src/commandtree.c (File Modified) 


pfish       2006/01/10 09:54:29 UTC	(20060110-4555)
  Log:
  Run fantasy commands through floodcheck. Floodcheck runs it through svsignore.
  This resolves bug#111
  

  Changes:	Modified:
  +5 -0		trunk/modules/chanserv/main.c (File Modified) 


pfish       2006/01/10 09:32:01 UTC	(20060110-4553)
  Log:
  Use verbose_wallops() when removing an akill any way
  

  Changes:	Modified:
  +13 -0	trunk/modules/operserv/akill.c (File Modified) 


jilles      2006/01/09 23:34:17 UTC	(20060109-4551)
  Log:
  - Flood check info/admin/version/stats/whois/trace
  - Log /stats usage
  

  Changes:	Modified:
  +16 -0	trunk/src/ptasks.c (File Modified) 


jilles      2006/01/09 23:27:17 UTC	(20060109-4549)
  Log:
  Remove lots more snoops, the main ones left are usages
  of oper privs, registrations, drops, expiries, transfers.
  

  Changes:	Modified:
  +2 -18	trunk/modules/chanserv/set.c (File Modified) 
  +0 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +0 -3		trunk/modules/nickserv/ghost.c (File Modified) 
  +0 -3		trunk/modules/nickserv/identify.c (File Modified) 
  +0 -2		trunk/modules/nickserv/logout.c (File Modified) 
  +3 -12	trunk/modules/nickserv/set.c (File Modified) 
  +0 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +0 -2		trunk/modules/userserv/info.c (File Modified) 
  +0 -3		trunk/modules/userserv/login.c (File Modified) 
  +0 -2		trunk/modules/userserv/logout.c (File Modified) 
  +3 -12	trunk/modules/userserv/set.c (File Modified) 
  +0 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +1 -1		trunk/src/commandtree.c (File Modified) 
  +0 -2		trunk/src/ptasks.c (File Modified) 


nenolod     2006/01/09 20:29:47 UTC	(20060109-4547)
  Log:
  verbose_wallops() on AKILL ADD/DEL/EXPIRE.
  

  Changes:	Modified:
  +7 -0		trunk/modules/operserv/akill.c (File Modified) 
  +5 -1		trunk/src/node.c (File Modified) 


nenolod     2006/01/09 20:23:25 UTC	(20060109-4545)
  Log:
  New option: verbose_wallops. This option will (soon) cause services to provide more information on things like AKILL 
  expiry, AKILL add, AKILL delete, etcetera. YOU SHOULD TAKE GREAT CARE WITH ENABLING THIS OPTION AS IT MAY CREATE LARGE 
  AMOUNTS OF FEEDBACK LATER ON.
  

  Changes:	Modified:
  +9 -0		trunk/dist/example.conf (File Modified) 
  +9 -0		trunk/dist/example.userserv.conf (File Modified) 
  +2 -0		trunk/include/atheme.h (File Modified) 
  +2 -0		trunk/include/extern.h (File Modified) 
  +8 -0		trunk/src/conf.c (File Modified) 
  +15 -0	trunk/src/services.c (File Modified) 


jilles      2006/01/09 01:04:34 UTC	(20060109-4543)
  Log:
  Support inspircd's weird PING/PONG scheme, in such
  a way that remote pings will probably work with
  this code unchanged.
  

  Changes:	Modified:
  +3 -3		trunk/protocol/inspircd.c (File Modified) 


jilles      2006/01/09 00:23:52 UTC	(20060109-4541)
  Log:
  This one needs some extra effort to avoid "0" durations.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/hyperion.c (File Modified) 


jilles      2006/01/08 23:46:58 UTC	(20060108-4539)
  Log:
  - Reopen log file on SIGHUP (but not on /os rehash)
  - Don't silently exit if we can't open the log file.
    Warn to stderr at startup and in wallops (at most
    once per hour) and drop the log entries.
  

  Changes:	Modified:
  +4 -1		trunk/src/atheme.c (File Modified) 
  +12 -2	trunk/src/function.c (File Modified) 
  +6 -0		trunk/src/signal.c (File Modified) 


jilles      2006/01/08 23:42:05 UTC	(20060108-4537)
  Log:
  Fix simple syntax error.
  

  Changes:	Modified:
  +1 -1		trunk/modules/operserv/akill.c (File Modified) 


nenolod     2006/01/08 22:33:36 UTC	(20060108-4535)
  Log:
  Use *@host if given a nick, instead of user@host when AKILLing. It seems much more intutive this way...
  

  Changes:	Modified:
  +4 -4		trunk/modules/operserv/akill.c (File Modified) 


nenolod     2006/01/07 17:24:23 UTC	(20060107-4533)
  Log:
  Blank out the contents of helpentry_t before we plug it in with information.
  malloc() does not give us zero'ed out memory by default; however the block
  allocator does. Resolves crashes dealing with module-provided help.
  

  Changes:	Modified:
  +2 -0		trunk/src/help.c (File Modified) 


pfish       2006/01/07 10:05:23 UTC	(20060107-4531)
  Log:
  - Formatting change to match AKILL LIST
  - Show the settime in a nice way instead of using epoch time
  

  Changes:	Modified:
  +8 -3		trunk/modules/operserv/ignore.c (File Modified) 


nenolod     2006/01/07 02:17:39 UTC	(20060107-4529)
  Log:
  SolidIRCd protocol support, provided by sheik@solid-ircd.com.
  

  Changes:	Modified:
  +35 -2	trunk/include/pmodule.h (File Modified) 
  + -		trunk/include/protocol/solidircd.h (File Added) 
  +1 -0		trunk/protocol/Makefile.in (File Modified) 
  +828 -0	trunk/protocol/solidircd.c (File Added) 


pfish       2006/01/07 00:28:17 UTC	(20060107-4527)
  Log:
  - Grammar fix
  - Expand AKILL why to show what mask is matching.
  

  Changes:	Modified:
  +10 -26	trunk/modules/chanserv/why.c (File Modified) 


pfish       2006/01/06 11:31:57 UTC	(20060106-4525)
  Log:
  Wait, what was I thinking? Don't allow if channel is closed.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/why.c (File Modified) 


pfish       2006/01/06 11:30:36 UTC	(20060106-4523)
  Log:
  WHY now requires CA_ACLVIEW or PRIV_CHAN_AUSPEX for operoverride
  

  Changes:	Modified:
  +25 -7	trunk/modules/chanserv/why.c (File Modified) 


jilles      2006/01/06 11:22:48 UTC	(20060106-4521)
  Log:
  - Fix error message for invalid conf option in string{}.
  - Add handling for string{} without translation=.
  

  Changes:	Modified:
  +6 -3		trunk/src/conf.c (File Modified) 


pfish       2006/01/06 11:12:49 UTC	(20060106-4519)
  Log:
  fix some stuff
  

  Changes:	Modified:
  +2 -3		trunk/backend/flatfile.c (File Modified) 
  +1 -1		trunk/include/account.h (File Modified) 


pfish       2006/01/06 09:51:50 UTC	(20060106-4517)
  Log:
  Expand WHY to show which nickname the user is using to gain the access:
  -ChanServ- pfish2 was granted channel ops in # because they have identified to the nickname pfish which has the autoop privilege.
  

  Changes:	Modified:
  +6 -6		trunk/modules/chanserv/why.c (File Modified) 


pfish       2006/01/06 08:50:07 UTC	(20060106-4515)
  Log:
  Remove some debugging info from node.c and update help file
  

  Changes:	Modified:
  +1 -1		trunk/help/oservice/ignore (File Modified) 
  +0 -3		trunk/src/node.c (File Modified) 


pfish       2006/01/06 08:44:26 UTC	(20060106-4513)
  Log:
  update example configs
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2006/01/06 08:41:48 UTC	(20060106-4511)
  Log:
  Add help for OperServ IGNORE
  

  Changes:	Modified:
  +15 -0	trunk/help/oservice/ignore (File Added) 


pfish       2006/01/06 08:36:17 UTC	(20060106-4509)
  Log:
  Enable $Id$ tracking and fix IGNORE WIPE. We notice the origin of each ignore that was removed.
  

  Changes:	Modified:
  +8 -1		trunk/modules/operserv/ignore.c (File Modified) (Property Modified)


pfish       2006/01/06 08:31:28 UTC	(20060106-4507)
  Log:
  Improve services ignore:
  - Add reasons
  - Keep track of who set it and when
  - Display this info in the LIST.
  
  

  Changes:	Modified:
  +18 -9	trunk/backend/flatfile.c (File Modified) 
  +5 -0		trunk/include/account.h (File Modified) 
  +4 -1		trunk/include/extern.h (File Modified) 
  +19 -15	trunk/modules/operserv/ignore.c (File Modified) 
  +23 -2	trunk/src/node.c (File Modified) 


nenolod     2006/01/05 15:14:42 UTC	(20060105-4505)
  Log:
  Explain that Atheme is not based on IRCServices/EsperNet code, and 
  explain why this is.
  

  Changes:	Modified:
  +8 -0		trunk/README (File Modified) 


jilles      2006/01/05 12:46:25 UTC	(20060105-4503)
  Log:
  Add a description of commands like /stats.
  

  Changes:	Modified:
  +47 -0	trunk/doc/PCOMMANDS (File Added) 


pfish       2006/01/05 04:40:09 UTC	(20060105-4501)
  Log:
  Save services ignores to flatfile.
  

  Changes:	Modified:
  +27 -0	trunk/backend/flatfile.c (File Modified) 


pfish       2006/01/05 01:36:50 UTC	(20060105-4499)
  Log:
  Move placement of ignore checks from each module's main.c to ptasks.c in floodcheck()
  
  

  Changes:	Modified:
  +0 -8		trunk/modules/chanserv/main.c (File Modified) 
  +0 -7		trunk/modules/memoserv/main.c (File Modified) 
  +0 -6		trunk/modules/nickserv/main.c (File Modified) 
  +0 -8		trunk/modules/userserv/main.c (File Modified) 
  +5 -0		trunk/src/ptasks.c (File Modified) 


pfish       2006/01/05 01:24:10 UTC	(20060105-4497)
  Log:
  Remove some unused code from ignore and don't allow an invalid hostmask.
  

  Changes:	Modified:
  +6 -21	trunk/modules/operserv/ignore.c (File Modified) 


jilles      2006/01/05 00:36:09 UTC	(20060105-4495)
  Log:
  Two small message changes benefiting translations.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/info.c (File Modified) 
  +1 -1		trunk/modules/operserv/akill.c (File Modified) 


jilles      2006/01/05 00:27:26 UTC	(20060105-4493)
  Log:
  Add a simple script to extract message strings.
  

  Changes:	Modified:
  +21 -0	trunk/translations/extract_strings.sh (File Added) 


jilles      2006/01/05 00:06:26 UTC	(20060105-4491)
  Log:
  Make it such that "Insufficient parameters for \2<command>\2."
  and (former) variants only have to appear in language files
  once.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/cs_count.c (File Modified) 
  +2 -2		trunk/contrib/ns_enforce.c (File Modified) 
  +2 -2		trunk/contrib/ns_generatepass.c (File Modified) 
  +2 -2		trunk/contrib/us_generatepass.c (File Modified) 
  +4 -4		trunk/modules/chanserv/akick.c (File Modified) 
  +4 -4		trunk/modules/chanserv/ban.c (File Modified) 
  +1 -1		trunk/modules/chanserv/clear.c (File Modified) 
  +3 -3		trunk/modules/chanserv/close.c (File Modified) 
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 
  +2 -2		trunk/modules/chanserv/flags.c (File Modified) 
  +1 -1		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +2 -2		trunk/modules/chanserv/halfop.c (File Modified) 
  +1 -1		trunk/modules/chanserv/hold.c (File Modified) 
  +1 -1		trunk/modules/chanserv/info.c (File Modified) 
  +1 -1		trunk/modules/chanserv/invite.c (File Modified) 
  +4 -4		trunk/modules/chanserv/kick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/list.c (File Modified) 
  +2 -2		trunk/modules/chanserv/mark.c (File Modified) 
  +2 -2		trunk/modules/chanserv/op.c (File Modified) 
  +1 -1		trunk/modules/chanserv/recover.c (File Modified) 
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +2 -2		trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +4 -4		trunk/modules/chanserv/topic.c (File Modified) 
  +2 -2		trunk/modules/chanserv/voice.c (File Modified) 
  +1 -1		trunk/modules/chanserv/why.c (File Modified) 
  +3 -3		trunk/modules/chanserv/xop.c (File Modified) 
  +1 -1		trunk/modules/global/main.c (File Modified) 
  +2 -2		trunk/modules/helpserv/helper.c (File Modified) 
  +1 -1		trunk/modules/helpserv/override.c (File Modified) 
  +1 -1		trunk/modules/memoserv/delete.c (File Modified) 
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +3 -3		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +3 -3		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +1 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/info.c (File Modified) 
  +1 -1		trunk/modules/nickserv/list.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listmail.c (File Modified) 
  +2 -2		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/nickserv/return.c (File Modified) 
  +1 -1		trunk/modules/nickserv/sendpass.c (File Modified) 
  +2 -2		trunk/modules/nickserv/set.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/verify.c (File Modified) 
  +5 -5		trunk/modules/operserv/akill.c (File Modified) 
  +3 -3		trunk/modules/operserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/operserv/inject.c (File Modified) 
  +1 -1		trunk/modules/operserv/jupe.c (File Modified) 
  +1 -1		trunk/modules/operserv/mode.c (File Modified) 
  +1 -1		trunk/modules/operserv/modinspect.c (File Modified) 
  +7 -7		trunk/modules/operserv/noop.c (File Modified) 
  +1 -1		trunk/modules/operserv/raw.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +3 -3		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/userserv/hold.c (File Modified) 
  +1 -1		trunk/modules/userserv/info.c (File Modified) 
  +1 -1		trunk/modules/userserv/list.c (File Modified) 
  +1 -1		trunk/modules/userserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +2 -2		trunk/modules/userserv/mark.c (File Modified) 
  +1 -1		trunk/modules/userserv/register.c (File Modified) 
  +1 -1		trunk/modules/userserv/return.c (File Modified) 
  +1 -1		trunk/modules/userserv/sendpass.c (File Modified) 
  +2 -2		trunk/modules/userserv/set.c (File Modified) 
  +1 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/userserv/verify.c (File Modified) 


pfish       2006/01/04 23:57:22 UTC	(20060104-4489)
  Log:
  ignore updates
  

  Changes:	Modified:
  +1 -1		trunk/include/account.h (File Modified) 
  +3 -3		trunk/modules/operserv/ignore.c (File Modified) 


jilles      2006/01/04 23:40:23 UTC	(20060104-4487)
  Log:
  Make it such that "Invalid parameters specified for \2<command>\2."
  only has to appear in language files once.
  

  Changes:	Modified:
  +4 -0		trunk/include/atheme.h (File Modified) 
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 
  +2 -2		trunk/modules/chanserv/hold.c (File Modified) 
  +1 -1		trunk/modules/chanserv/info.c (File Modified) 
  +2 -2		trunk/modules/chanserv/mark.c (File Modified) 
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +16 -16	trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/chanserv/status.c (File Modified) 
  +1 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +7 -7		trunk/modules/nickserv/set.c (File Modified) 
  +1 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +1 -1		trunk/modules/operserv/mode.c (File Modified) 
  +1 -1		trunk/modules/userserv/hold.c (File Modified) 
  +1 -1		trunk/modules/userserv/mark.c (File Modified) 
  +1 -1		trunk/modules/userserv/register.c (File Modified) 
  +1 -1		trunk/modules/userserv/resetpass.c (File Modified) 
  +7 -7		trunk/modules/userserv/set.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 


jilles      2006/01/04 15:45:29 UTC	(20060104-4485)
  Log:
  Make channel_mode() work without chanserv loaded.
  

  Changes:	Modified:
  +5 -5		trunk/src/cmode.c (File Modified) 


jilles      2006/01/04 15:34:35 UTC	(20060104-4483)
  Log:
  Remove the Scylla protocol module.
  The Scylla project has long been abandoned.
  

  Changes:	Modified:
  +0 -1		trunk/dist/example.conf (File Modified) 
  +0 -1		trunk/dist/example.userserv.conf (File Modified) 
  +0 -3		trunk/doc/IRCD (File Modified) 
  +0 -1		trunk/protocol/Makefile.in (File Modified) 
  +0 -655	trunk/protocol/scylla.c (File Deleted) 


jilles      2006/01/04 15:24:07 UTC	(20060104-4481)
  Log:
  Extend rejoin on kick from chanserv to all internal clients.
  This also avoids crashes if chanserv is not loaded.
  

  Changes:	Modified:
  +2 -2		trunk/protocol/asuka.c (File Modified) 
  +2 -2		trunk/protocol/bahamut.c (File Modified) 
  +2 -2		trunk/protocol/bircd.c (File Modified) 
  +2 -2		trunk/protocol/charybdis.c (File Modified) 
  +2 -2		trunk/protocol/dreamforge.c (File Modified) 
  +2 -2		trunk/protocol/hyperion.c (File Modified) 
  +2 -2		trunk/protocol/inspircd.c (File Modified) 
  +2 -2		trunk/protocol/ircnet.c (File Modified) 
  +2 -2		trunk/protocol/monkey.c (File Modified) 
  +2 -2		trunk/protocol/plexus.c (File Modified) 
  +2 -2		trunk/protocol/ptlink.c (File Modified) 
  +2 -2		trunk/protocol/ratbox.c (File Modified) 
  +2 -2		trunk/protocol/scylla.c (File Modified) 
  +2 -2		trunk/protocol/shadowircd.c (File Modified) 
  +2 -2		trunk/protocol/sorcery.c (File Modified) 
  +3 -5		trunk/protocol/ultimate3.c (File Modified) 
  +2 -2		trunk/protocol/undernet.c (File Modified) 
  +2 -2		trunk/protocol/unreal.c (File Modified) 


jilles      2006/01/04 14:37:57 UTC	(20060104-4479)
  Log:
  Check each channel's founder has +f after loading
  (add +*-OHV if not).
  

  Changes:	Modified:
  +14 -0	trunk/src/node.c (File Modified) 


jilles      2006/01/04 14:35:38 UTC	(20060104-4477)
  Log:
  Remove the broken nickname linking system.
  
  Rationale:
  
  The implementation doesn't really work right, links basically only
  work for channel access and /ns ghost. Still it complicates things
  quite a lot.
  
  Considering we have identify as, and changing nicks does not log you
  out from services, the only use for nickname linking is allowing
  people to /ns ghost multiple nicks under one account. For that, they
  could also create multiple accounts instead (which requires keeping them
  all in use).
  
  Another argument is that, in practice, many people do not understand how
  linking works, so they don't use it.
  
  So I propose removing nickname linking.
  
  Multiple nicks per account might come back later with a
  ratbox-services-style nickserv (account name has no relationship to
  nicks, account has zero or more nicks associated with it).
  

  Changes:	Modified:
  +0 -11	trunk/contrib/anope_convert.c (File Modified) 
  +0 -2		trunk/contrib/ns_enforce.c (File Modified) 
  +0 -2		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/include/account.h (File Modified) 
  +2 -0		trunk/include/extern.h (File Modified) 
  +0 -20	trunk/modules/chanserv/flags.c (File Modified) 
  +0 -18	trunk/modules/chanserv/xop.c (File Modified) 
  +0 -1		trunk/modules/nickserv/Makefile.in (File Modified) 
  +0 -10	trunk/modules/nickserv/info.c (File Modified) 
  +0 -133	trunk/modules/nickserv/link.c (File Deleted) 
  +0 -3		trunk/modules/nickserv/list.c (File Modified) 
  +1 -0		trunk/src/atheme.c (File Modified) 
  +0 -14	trunk/src/function.c (File Modified) 
  +23 -57	trunk/src/node.c (File Modified) 
  +0 -3		trunk/src/services.c (File Modified) 


jilles      2006/01/04 13:08:16 UTC	(20060104-4475)
  Log:
  Whatever we do, we do not need nickname linking stuff in UserServ.
  

  Changes:	Modified:
  +0 -10	trunk/modules/userserv/info.c (File Modified) 
  +0 -5		trunk/modules/userserv/list.c (File Modified) 


jilles      2006/01/04 12:32:07 UTC	(20060104-4473)
  Log:
  Show a special message when listing templates on a
  channel that has none.
  

  Changes:	Modified:
  +22 -17	trunk/modules/chanserv/template.c (File Modified) 


pfish       2006/01/04 10:51:47 UTC	(20060104-4471)
  Log:
  remove debug wallops
  

  Changes:	Modified:
  +5 -6		trunk/src/node.c (File Modified) 


pfish       2006/01/04 10:29:31 UTC	(20060104-4469)
  Log:
  Initial import for services ignore support. It "works" but still needs improvement..
  

  Changes:	Modified:
  +6 -0		trunk/include/account.h (File Modified) 
  +1 -0		trunk/include/atheme.h (File Modified) 
  +2 -0		trunk/include/extern.h (File Modified) 
  +9 -2		trunk/modules/chanserv/main.c (File Modified) 
  +7 -0		trunk/modules/memoserv/main.c (File Modified) 
  +6 -0		trunk/modules/nickserv/main.c (File Modified) 
  +1 -0		trunk/modules/operserv/Makefile.in (File Modified) 
  +233 -0	trunk/modules/operserv/ignore.c (File Added) 
  +8 -0		trunk/modules/userserv/main.c (File Modified) 
  +33 -0	trunk/src/node.c (File Modified) 


pfish       2006/01/04 04:16:13 UTC	(20060104-4467)
  Log:
  consistent grammar with the rest of the help titles.
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/delete.c (File Modified) 
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/list.c (File Modified) 
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 


pfish       2006/01/04 03:28:00 UTC	(20060104-4465)
  Log:
  Remove flags info from CLEAR BANS helpfile.
  

  Changes:	Modified:
  +0 -1		trunk/help/cservice/clear_bans (File Modified) 


jilles      2006/01/04 01:33:02 UTC	(20060104-4463)
  Log:
  - Don't mention required flag (already done in /cs help flags)
  - Mention that the requester is not kicked
  - Mention that the channel is cycled iff the requester is not on it
  

  Changes:	Modified:
  +7 -3		trunk/help/cservice/clear_users (File Modified) 


jilles      2006/01/04 01:30:59 UTC	(20060104-4461)
  Log:
  - Use +l 1 instead of +b *!*@* to prevent users rejoining
    during the masskick. Escapes to +l are generally rarer
    than ban exceptions, also this avoids potential loss
    of the banlist on P10.
  - If the requester is not on channel, make sure the
    channel is fully cleared out (so it is destroyed
    if not marked with a permanent cmode).
  

  Changes:	Modified:
  +30 -12	trunk/modules/chanserv/clear_users.c (File Modified) 


pfish       2006/01/04 00:36:38 UTC	(20060104-4459)
  Log:
  update, don't need to tell people that we ban *@*
  

  Changes:	Modified:
  +1 -1		trunk/help/cservice/clear_users (File Modified) 


jilles      2006/01/04 00:35:11 UTC	(20060104-4457)
  Log:
  Only unban *!*@* at the end if it was not initially banned.
  

  Changes:	Modified:
  +7 -2		trunk/modules/chanserv/clear_users.c (File Modified) 


pfish       2006/01/04 00:18:37 UTC	(20060104-4455)
  Log:
  Add helpset for CLEAR commands.
  

  Changes:	Modified:
  +15 -0	trunk/help/cservice/clear (File Added) 
  +9 -0		trunk/help/cservice/clear_bans (File Added) 
  +9 -0		trunk/help/cservice/clear_users (File Added) 
  +5 -0		trunk/modules/chanserv/clear.c (File Modified) 
  +6 -0		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +6 -0		trunk/modules/chanserv/clear_users.c (File Modified) 


pfish       2006/01/03 23:59:20 UTC	(20060103-4453)
  Log:
  consistent grammar
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/xop.c (File Modified) 


jilles      2006/01/03 14:08:46 UTC	(20060103-4449)
  Log:
  Remove helpserv{} blocks.
  They are potentially confusing, and easy enough to
  put back if/when helpserv is revived.
  

  Changes:	Modified:
  +0 -22	trunk/dist/example.conf (File Modified) 
  +0 -22	trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/01/03 14:01:32 UTC	(20060103-4447)
  Log:
  Misc updates.
  

  Changes:	Modified:
  +2 -5		trunk/doc/IRCD (File Modified) 


jilles      2006/01/03 13:55:28 UTC	(20060103-4445)
  Log:
  Add channel_info hook to HOOKS file.
  

  Changes:	Modified:
  +1 -0		trunk/doc/HOOKS (File Modified) 


jilles      2006/01/03 13:25:30 UTC	(20060103-4443)
  Log:
  Mention /os specs command.
  

  Changes:	Modified:
  +5 -1		trunk/doc/PRIVILEGES (File Modified) 


jilles      2006/01/03 13:13:34 UTC	(20060103-4441)
  Log:
  Change numeric to a ratbox/charybdis-compatible 3-char one,
  as more people will be running this with ratbox or charybdis
  than with ircnet ircd.
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2006/01/02 15:51:51 UTC	(20060102-4439)
  Log:
  Add some 1.0 release notes.
  

  Changes:	Modified:
  +51 -2	trunk/doc/RELEASE (File Modified) 


jilles      2006/01/02 13:56:55 UTC	(20060102-4435)
  Log:
  Oops, forgot about some "0" in ENCAP RESV.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/ns_enforce.c (File Modified) 


jilles      2006/01/02 13:45:47 UTC	(20060102-4433)
  Log:
  Make /stats E a bit more like ircd-ratbox's,
  in particular show the time remaining for
  each event.
  

  Changes:	Modified:
  +2 -1		trunk/src/ptasks.c (File Modified) 


jilles      2006/01/02 13:34:52 UTC	(20060102-4431)
  Log:
  Dump out sendq before expire_check(). This makes it more
  likely that opers will get notification before instead
  of after possibly slow expire_check() plus db_save().
  

  Changes:	Modified:
  +4 -0		trunk/src/node.c (File Modified) 


jilles      2006/01/02 13:22:57 UTC	(20060102-4429)
  Log:
  Remove me.port, it is no longer used.
  

  Changes:	Modified:
  +0 -1		trunk/include/atheme.h (File Modified) 
  +0 -14	trunk/src/conf.c (File Modified) 


jilles      2006/01/02 13:14:54 UTC	(20060102-4427)
  Log:
  Restart delay is gone, don't mention it anymore.
  Also make shutdown log message more concise.
  

  Changes:	Modified:
  +2 -2		trunk/src/atheme.c (File Modified) 


jilles      2006/01/02 13:13:10 UTC	(20060102-4425)
  Log:
  Repair ns/cs set noop for setting modes on login/identify.
  

  Changes:	Modified:
  +6 -3		trunk/modules/nickserv/identify.c (File Modified) 
  +6 -3		trunk/modules/userserv/login.c (File Modified) 


jilles      2006/01/02 12:47:52 UTC	(20060102-4423)
  Log:
  Remove ugly Privs: display in ns/cs/us status.
  

  Changes:	Modified:
  +0 -11	trunk/modules/chanserv/status.c (File Modified) 
  +0 -11	trunk/modules/nickserv/status.c (File Modified) 
  +0 -11	trunk/modules/userserv/status.c (File Modified) 


jilles      2006/01/02 12:43:17 UTC	(20060102-4421)
  Log:
  Repair SPECS USER broken in r4417 and add SPECS OPERCLASS
  to query privileges associated with oper classes.
  

  Changes:	Modified:
  +2 -1		trunk/help/oservice/specs (File Modified) 
  +38 -18	trunk/modules/operserv/specs.c (File Modified) 


jilles      2006/01/02 12:41:30 UTC	(20060102-4419)
  Log:
  Add has_priv_operclass().
  

  Changes:	Modified:
  +2 -0		trunk/include/privs.h (File Modified) 
  +9 -0		trunk/src/privs.c (File Modified) 


jilles      2006/01/02 12:28:05 UTC	(20060102-4417)
  Log:
  Rework a bit to be more flexible. Should be no
  functional changes.
  

  Changes:	Modified:
  +68 -159	trunk/modules/operserv/specs.c (File Modified) 


jilles      2006/01/02 12:00:58 UTC	(20060102-4415)
  Log:
  ChanServ CLOSE: Use MC_INHABIT instead of rolling our own.
  

  Changes:	Modified:
  +10 -100	trunk/modules/chanserv/close.c (File Modified) 
  +2 -1		trunk/modules/chanserv/main.c (File Modified) 


pfish       2006/01/02 11:33:51 UTC	(20060102-4413)
  Log:
  OperServ SPECS: Show when a user can bypass registration limits (PRIV_REG_NOLIMIT)
  

  Changes:	Modified:
  +9 -1		trunk/modules/operserv/specs.c (File Modified) 


jilles      2006/01/02 11:28:01 UTC	(20060102-4411)
  Log:
  Change /ns link, now only allows the user's current nick
  to be linked (to the nick they are identified to).
  
  PRIV_REG_NOLIMIT now exempts from the per-email limit.
  

  Changes:	Modified:
  +7 -5		trunk/help/nickserv/link (File Modified) 
  +10 -27	trunk/modules/nickserv/link.c (File Modified) 


nenolod     2006/01/02 11:27:23 UTC	(20060102-4409)
  Log:
  Extend our copyrights to 2006.
  

  Changes:	Modified:
  +1 -1		trunk/COPYING (File Modified) 
  +1 -1		trunk/doc/LICENSE (File Modified) 


jilles      2006/01/02 11:00:37 UTC	(20060102-4407)
  Log:
  Send wallops and snoop notice if someone registers an account/nick
  matching an operator{} block (thereby gaining services operator
  privileges).
  

  Changes:	Modified:
  +5 -0		trunk/modules/nickserv/register.c (File Modified) 
  +5 -0		trunk/modules/userserv/register.c (File Modified) 


jilles      2006/01/01 22:23:09 UTC	(20060101-4405)
  Log:
  Make it compile most of this stuff with 'make all'.
  

  Changes:	Modified:
  +16 -0	trunk/contrib/Makefile.in (File Modified) 


jilles      2006/01/01 22:21:45 UTC	(20060101-4403)
  Log:
  Add nickserv enforcement to contrib. (Code is too ugly for base, also
  the general philosophy behind it is doubtful.)
  

  Changes:	Modified:
  +292 -0	trunk/contrib/ns_enforce.c (File Added) 


jilles      2006/01/01 22:15:06 UTC	(20060101-4401)
  Log:
  Make this work again.
  

  Changes:	Modified:
  +10 -18	trunk/contrib/cs_count.c (File Modified) 


jilles      2006/01/01 22:06:33 UTC	(20060101-4399)
  Log:
  Add UF_NICK_WARNED flag for the nickserv enforcement module.
  

  Changes:	Modified:
  +1 -0		trunk/include/users.h (File Modified) 


jilles      2006/01/01 20:38:27 UTC	(20060101-4397)
  Log:
  Eh, this is 1.0 now, not 0.3.
  (No idea if this file is really used for much, oh well.)
  

  Changes:	Modified:
  +1 -1		trunk/src/Manifest (File Modified) 


jilles      2006/01/01 20:37:51 UTC	(20060101-4395)
  Log:
  Update a few copyright years.
  

  Changes:	Modified:
  +1 -1		trunk/src/Manifest (File Modified) 
  +2 -2		trunk/src/atheme.c (File Modified) 
  +3 -3		trunk/src/version.sh (File Modified) 


jilles      2006/01/01 20:29:11 UTC	(20060101-4393)
  Log:
  Regardless of join_chans/leave_chans, join chanserv
  temporarily to channels which would otherwise be empty
  to enforce akick or staffonly. Every five minutes part
  all these (MC_INHABIT) channels.
  
  Tidbits:
  - don't do mode-on-identify if chanserv is not loaded
  - exit on-join hook if user is akicked
  
  Use of MC_INHABIT for /cs close in a later commit.
  

  Changes:	Modified:
  +3 -0		trunk/dist/example.conf (File Modified) 
  +3 -0		trunk/dist/example.userserv.conf (File Modified) 
  +3 -0		trunk/include/account.h (File Modified) 
  +63 -0	trunk/modules/chanserv/main.c (File Modified) 
  +8 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +8 -1		trunk/modules/userserv/login.c (File Modified) 


jilles      2006/01/01 20:20:47 UTC	(20060101-4391)
  Log:
  Add bahamut NICKIP support.
  

  Changes:	Modified:
  +0 -1		trunk/doc/IRCD (File Modified) 
  +8 -1		trunk/protocol/bahamut.c (File Modified) 


jilles      2005/12/31 18:09:25 UTC	(20051231-4389)
  Log:
  cs xop: change NEVEROP logic - allow all adds except if
  the target had no access or +b access
  cs flags: add NEVEROP logic - deny non-+b adds where the
  target had no access or +b access
  

  Changes:	Modified:
  +20 -0	trunk/modules/chanserv/flags.c (File Modified) 
  +8 -9		trunk/modules/chanserv/xop.c (File Modified) 


pfish       2005/12/31 11:13:03 UTC	(20051231-4387)
  Log:
  Update URLs in README
  

  Changes:	Modified:
  +2 -3		trunk/README (File Modified) 


w00t        2005/12/31 06:19:46 UTC	(20051231-4385)
  Log:
  Remove checking if a user has a mode -- this can help rectify desynch problems. [per nenolod]

  Changes:	Modified:
  +0 -24	trunk/modules/chanserv/halfop.c (File Modified) 
  +0 -24	trunk/modules/chanserv/op.c (File Modified) 
  +0 -24	trunk/modules/chanserv/voice.c (File Modified) 


jilles      2005/12/30 23:33:14 UTC	(20051230-4383)
  Log:
  Skip expire check completely if expire is set to 0.
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


jilles      2005/12/30 23:12:54 UTC	(20051230-4381)
  Log:
  flatfile backend: don't crash on MD lines referring to nonexistent stuff
  

  Changes:	Modified:
  +6 -3		trunk/backend/flatfile.c (File Modified) 


jilles      2005/12/30 16:38:56 UTC	(20051230-4379)
  Log:
  Also call channel_drop hook when deleting a channel
  because the founder dropped and there was no successor
  and when expiring a channel. Call it before parting
  chanserv.
  

  Changes:	Modified:
  +1 -2		trunk/modules/chanserv/drop.c (File Modified) 
  +2 -1		trunk/src/node.c (File Modified) 


jilles      2005/12/30 16:08:36 UTC	(20051230-4377)
  Log:
  Add RSFNC (services-induced forced nick change) support
  to the ratbox module. Use it if our uplink supports it
  (a bit nasty if our uplink supports it but some other
  servers do not).
  

  Changes:	Modified:
  +21 -0	trunk/protocol/ratbox.c (File Modified) 


jilles      2005/12/30 15:48:59 UTC	(20051230-4375)
  Log:
  Add help files for operserv modinspect/modrestart.
  
  Note that modrestart currently does not work.
  

  Changes:	Modified:
  +12 -0	trunk/help/oservice/modinspect (File Added) 
  +8 -0		trunk/help/oservice/modrestart (File Added) 
  +4 -0		trunk/modules/operserv/modinspect.c (File Modified) 
  +4 -0		trunk/modules/operserv/modrestart.c (File Modified) 


jilles      2005/12/30 15:22:48 UTC	(20051230-4373)
  Log:
  Add help files for operserv modload/modunload/modlist.
  

  Changes:	Modified:
  +6 -0		trunk/help/oservice/modlist (File Added) 
  +13 -0	trunk/help/oservice/modload (File Added) 
  +16 -0	trunk/help/oservice/modunload (File Added) 
  +4 -0		trunk/modules/operserv/modlist.c (File Modified) 
  +4 -0		trunk/modules/operserv/modload.c (File Modified) 
  +4 -0		trunk/modules/operserv/modunload.c (File Modified) 


jilles      2005/12/30 15:07:50 UTC	(20051230-4371)
  Log:
  Better one-line description.
  

  Changes:	Modified:
  +1 -1		trunk/modules/operserv/noop.c (File Modified) 


jilles      2005/12/30 14:45:24 UTC	(20051230-4369)
  Log:
  OperServ UPTIME:
  - add help file
  - remove snoop notice
  - don't count services in the user count
  

  Changes:	Modified:
  +6 -0		trunk/help/oservice/uptime (File Added) 
  +5 -2		trunk/modules/operserv/uptime.c (File Modified) 


jilles      2005/12/30 14:35:08 UTC	(20051230-4367)
  Log:
  Don't call hook_del_event(), it causes trouble if
  there are other functions attached to the event.
  

  Changes:	Modified:
  +0 -1		trunk/modules/operserv/noop.c (File Modified) 


jilles      2005/12/30 14:31:51 UTC	(20051230-4365)
  Log:
  Add operserv jupe help file.
  

  Changes:	Modified:
  +12 -0	trunk/help/oservice/jupe (File Added) 
  +4 -0		trunk/modules/operserv/jupe.c (File Modified) 


jilles      2005/12/30 14:24:03 UTC	(20051230-4363)
  Log:
  Remove UNCONNECT capab so squit on a jupe will destroy it in ircd.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/bahamut.c (File Modified) 


jilles      2005/12/30 14:21:19 UTC	(20051230-4361)
  Log:
  Add operserv noop help file.
  

  Changes:	Modified:
  +22 -0	trunk/help/oservice/noop (File Added) 
  +4 -0		trunk/modules/operserv/noop.c (File Modified) 


jilles      2005/12/30 14:09:05 UTC	(20051230-4359)
  Log:
  Add /os specs help file.
  

  Changes:	Modified:
  +13 -0	trunk/help/oservice/specs (File Added) 
  +1 -1		trunk/modules/operserv/specs.c (File Modified) 


jilles      2005/12/30 14:05:28 UTC	(20051230-4357)
  Log:
  Allow those with general:viewprivs to do /os specs on other users:
  /OS SPECS USER <nick>
  This only works on online users which is a little unfortunate.
  

  Changes:	Modified:
  +62 -24	trunk/modules/operserv/specs.c (File Modified) 


jilles      2005/12/30 13:47:17 UTC	(20051230-4355)
  Log:
  operserv specs:
  - general:admin does not give unrestricted access
  - add general:* stuff
  - remove snoop notice
  

  Changes:	Modified:
  +47 -14	trunk/modules/operserv/specs.c (File Modified) 


jilles      2005/12/30 13:15:03 UTC	(20051230-4353)
  Log:
  Update regarding privs.
  

  Changes:	Modified:
  +2 -2		trunk/help/cservice/set_staffonly (File Modified) 


pfish       2005/12/30 11:23:42 UTC	(20051230-4351)
  Log:
  Update example configs with OperServ SPECS
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2005/12/30 11:12:20 UTC	(20051230-4349)
  Log:
  Update.
  

  Changes:	Modified:
  +10 -6	trunk/modules/operserv/specs.c (File Modified) 


pfish       2005/12/30 08:45:01 UTC	(20051230-4347)
  Log:
  Import OperServ SPECS. This may not be finished yet. Will update configs when it works.
  

  Changes:	Modified:
  +1 -0		trunk/modules/operserv/Makefile.in (File Modified) 
  +180 -0	trunk/modules/operserv/specs.c (File Added) 


nenolod     2005/12/30 07:47:39 UTC	(20051230-4345)
  Log:
  - update gaelic.language.
  - version bump: 1.0-RC1 (in preparation for 1.0 branch freeze)
  

  Changes:	Modified:
  +9 -9		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 
  +2 -2		trunk/translations/gaelic.language (File Modified) 


jilles      2005/12/30 01:31:02 UTC	(20051230-4343)
  Log:
  - Various clarifications
  - Mention r4319 (notification of target)
  

  Changes:	Modified:
  +8 -6		trunk/help/cservice/op_voice (File Modified) 


jilles      2005/12/29 22:20:40 UTC	(20051229-4341)
  Log:
  ChanServ CLOSE:
  Use a single event to part from all closed channels we should leave.
  Put copies of the channel names on a list to keep track of those
  channels. Do not part a non-closed channel for this reason.
  Stop casting function pointers.
  

  Changes:	Modified:
  +107 -20	trunk/modules/chanserv/close.c (File Modified) 


jilles      2005/12/29 20:19:39 UTC	(20051229-4339)
  Log:
  Don't kick internal clients on initial /cs close on.
  

  Changes:	Modified:
  +2 -1		trunk/modules/chanserv/close.c (File Modified) 


jilles      2005/12/29 20:13:46 UTC	(20051229-4337)
  Log:
  ns/us/cs info: don't crash if close/freeze/mark metadata is inconsistent.
  
  Tracker #72
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/info.c (File Modified) 
  +4 -4		trunk/modules/nickserv/info.c (File Modified) 
  +4 -4		trunk/modules/userserv/info.c (File Modified) 


jilles      2005/12/29 18:18:48 UTC	(20051229-4335)
  Log:
  ChanServ TOPIC/TOPICAPPEND: only notice source of
  success if they are not on channel.
  

  Changes:	Modified:
  +4 -3		trunk/modules/chanserv/topic.c (File Modified) 


jilles      2005/12/29 18:10:37 UTC	(20051229-4333)
  Log:
  ChanServ BAN/UNBAN: only notice source of success if they
  are not on channel, except for unban <nick> (where the
  success message contains a little more information).
  

  Changes:	Modified:
  +6 -6		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/12/29 18:00:18 UTC	(20051229-4331)
  Log:
  ChanServ KICK/KICKBAN: Only confirm success in private
  notice if the source is not on channel.
  

  Changes:	Modified:
  +34 -34	trunk/modules/chanserv/kick.c (File Modified) 


jilles      2005/12/29 17:36:02 UTC	(20051229-4329)
  Log:
  Only confirm successful non-fantasy cs op/halfop/voice
  in private notice if the source is not on channel.
  

  Changes:	Modified:
  +4 -2		trunk/modules/chanserv/halfop.c (File Modified) 
  +4 -2		trunk/modules/chanserv/op.c (File Modified) 
  +4 -2		trunk/modules/chanserv/voice.c (File Modified) 


jilles      2005/12/29 17:27:54 UTC	(20051229-4327)
  Log:
  chanserv .flags (fantasy command only):
  - no need to confirm successful operation in private notice
    (unconditional channel notice)
  - fix up mistake in channel notice
  

  Changes:	Modified:
  +1 -2		trunk/modules/chanserv/flags.c (File Modified) 


jilles      2005/12/29 17:08:41 UTC	(20051229-4325)
  Log:
  ChanServ FLAGS: Mention the source of the command in VERBOSE notices
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/flags.c (File Modified) 


jilles      2005/12/29 16:45:59 UTC	(20051229-4323)
  Log:
  Add /cs set verbose ops, verbose_ops flag.
  Works like set verbose on but only notifies chanops.
  

  Changes:	Modified:
  +2 -1		trunk/dist/example.conf (File Modified) 
  +2 -1		trunk/dist/example.userserv.conf (File Modified) 
  +5 -2		trunk/help/cservice/set_verbose (File Modified) 
  +1 -0		trunk/include/account.h (File Modified) 
  +7 -0		trunk/modules/chanserv/info.c (File Modified) 
  +35 -4	trunk/modules/chanserv/set.c (File Modified) 
  +6 -5		trunk/src/conf.c (File Modified) 
  +3 -1		trunk/src/services.c (File Modified) 


jilles      2005/12/29 16:14:18 UTC	(20051229-4321)
  Log:
  No need to verbose() on /cs set fantasy.
  

  Changes:	Modified:
  +0 -2		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/12/29 16:06:36 UTC	(20051229-4319)
  Log:
  ChanServ voice/halfop/op: for non-fantasy applied to another user, notify
  the target user who gave the command
  
  Submitted by: praetorian
  

  Changes:	Modified:
  +10 -0	trunk/modules/chanserv/halfop.c (File Modified) 
  +10 -0	trunk/modules/chanserv/op.c (File Modified) 
  +10 -0	trunk/modules/chanserv/voice.c (File Modified) 


jilles      2005/12/29 15:56:37 UTC	(20051229-4317)
  Log:
  Improve documentation of the oper privileges system.
  

  Changes:	Modified:
  +3 -1		trunk/dist/example.conf (File Modified) 
  +7 -2		trunk/dist/example.userserv.conf (File Modified) 
  +16 -2	trunk/doc/PRIVILEGES (File Modified) 


jilles      2005/12/29 15:06:25 UTC	(20051229-4315)
  Log:
  Show exact privs in ns/us/cs status.
  

  Changes:	Modified:
  +11 -0	trunk/modules/chanserv/status.c (File Modified) 
  +11 -0	trunk/modules/nickserv/status.c (File Modified) 
  +11 -0	trunk/modules/userserv/status.c (File Modified) 


jilles      2005/12/29 14:42:37 UTC	(20051229-4313)
  Log:
  Show operclass in ns/us info to user themselves and those
  with general:viewprivs.
  

  Changes:	Modified:
  +5 -0		trunk/modules/nickserv/info.c (File Modified) 
  +5 -0		trunk/modules/userserv/info.c (File Modified) 


jilles      2005/12/29 14:38:12 UTC	(20051229-4311)
  Log:
  Port r4301 and part of r4255 ("Last address") to userserv.
  

  Changes:	Modified:
  +7 -7		trunk/modules/userserv/info.c (File Modified) 


jilles      2005/12/29 14:24:15 UTC	(20051229-4309)
  Log:
  Add /stats o, shows operator{} blocks to those with
  general:viewprivs privilege.
  

  Changes:	Modified:
  +16 -0	trunk/src/ptasks.c (File Modified) 


jilles      2005/12/29 14:16:39 UTC	(20051229-4307)
  Log:
  Add PRIV_VIEWPRIVS, general:viewprivs. Does not do anything yet.
  

  Changes:	Modified:
  +2 -2		trunk/dist/example.conf (File Modified) 
  +2 -2		trunk/dist/example.userserv.conf (File Modified) 
  +2 -0		trunk/doc/PRIVILEGES (File Modified) 
  +1 -0		trunk/include/privs.h (File Modified) 


jilles      2005/12/29 14:12:51 UTC	(20051229-4305)
  Log:
  Cosmetic fix.
  

  Changes:	Modified:
  +1 -1		trunk/src/Makefile.in (File Modified) 


jilles      2005/12/29 13:41:46 UTC	(20051229-4303)
  Log:
  Change SRA/services root operator to SOPER/services operator in messages.
  Show operclass in ns/us/cs status.
  

  Changes:	Modified:
  +9 -1		trunk/modules/chanserv/status.c (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -2		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +2 -2		trunk/modules/nickserv/resetpass.c (File Modified) 
  +2 -2		trunk/modules/nickserv/return.c (File Modified) 
  +2 -2		trunk/modules/nickserv/sendpass.c (File Modified) 
  +9 -1		trunk/modules/nickserv/status.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -2		trunk/modules/userserv/login.c (File Modified) 
  +1 -1		trunk/modules/userserv/logout.c (File Modified) 
  +2 -2		trunk/modules/userserv/resetpass.c (File Modified) 
  +2 -2		trunk/modules/userserv/return.c (File Modified) 
  +2 -2		trunk/modules/userserv/sendpass.c (File Modified) 
  +9 -1		trunk/modules/userserv/status.c (File Modified) 


w00t        2005/12/29 10:33:17 UTC	(20051229-4301)
  Log:
  Minor cosmetic alterations.

  Changes:	Modified:
  +5 -5		trunk/modules/nickserv/info.c (File Modified) 


nenolod     2005/12/29 03:04:46 UTC	(20051229-4299)
  Log:
  proper hashtable lookups for translation_create().
  

  Changes:	Modified:
  +3 -0		trunk/src/atheme.c (File Modified) 
  +1 -1		trunk/src/culture.c (File Modified) 


jilles      2005/12/29 03:04:09 UTC	(20051229-4297)
  Log:
  DEFAULT_IRCOP_PRIVS is no longer necessary, remove it.
  

  Changes:	Modified:
  +0 -3		trunk/include/privs.h (File Modified) 


jilles      2005/12/29 03:01:47 UTC	(20051229-4295)
  Log:
  Remove UF_SRA, MU_IRCOP and MU_SRA, they are not used.
  

  Changes:	Modified:
  +0 -3		trunk/include/account.h (File Modified) 
  +0 -1		trunk/include/users.h (File Modified) 


jilles      2005/12/29 02:57:23 UTC	(20051229-4293)
  Log:
  Change 'sra' in sra_t, myuser_t.sra, sra_add(), etc to 'soper'.
  

  Changes:	Modified:
  +1 -1		trunk/include/.indent.pro (File Modified) 
  +4 -4		trunk/include/account.h (File Modified) 
  +2 -2		trunk/include/atheme.h (File Modified) 
  +5 -5		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/protocol/.indent.pro (File Modified) 
  +1 -1		trunk/src/.indent.pro (File Modified) 
  +2 -2		trunk/src/conf.c (File Modified) 
  +1 -1		trunk/src/function.c (File Modified) 
  +59 -59	trunk/src/node.c (File Modified) 
  +2 -2		trunk/src/privs.c (File Modified) 
  +1 -1		trunk/src/ptasks.c (File Modified) 


nenolod     2005/12/29 02:52:45 UTC	(20051229-4291)
  Log:
  Add initial gaelic translation. (Only 1 message is translated for now.)
  

  Changes:	Modified:
  +10 -0	trunk/translations/gaelic.language (File Added) 


nenolod     2005/12/29 02:43:13 UTC	(20051229-4289)
  Log:
  load in the language file if one is specified.
  

  Changes:	Modified:
  +3 -0		trunk/src/atheme.c (File Modified) 


nenolod     2005/12/29 02:42:17 UTC	(20051229-4287)
  Log:
  - add constructs for language::name, language::translator.
  

  Changes:	Modified:
  +4 -0		trunk/include/atheme.h (File Modified) 
  +28 -0	trunk/src/conf.c (File Modified) 


nenolod     2005/12/29 02:37:23 UTC	(20051229-4285)
  Log:
  - Add constructs for: language, language::, string::, string::translation.
  - Translate for \2 (bold control code).
  

  Changes:	Modified:
  +69 -2	trunk/src/conf.c (File Modified) 
  +10 -2	trunk/src/culture.c (File Modified) 


jilles      2005/12/29 02:34:51 UTC	(20051229-4283)
  Log:
  Change is_sra() to is_soper() (has an operator{} block in atheme.conf).
  Compatibility macro is_sra(mu) (has_priv_myuser(mu, PRIV_ADMIN)).
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +2 -0		trunk/include/privs.h (File Modified) 
  +1 -1		trunk/modules/chanserv/status.c (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/nickserv/help.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +1 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/return.c (File Modified) 
  +1 -1		trunk/modules/nickserv/sendpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/status.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/userserv/help.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +1 -1		trunk/modules/userserv/logout.c (File Modified) 
  +1 -1		trunk/modules/userserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/return.c (File Modified) 
  +1 -1		trunk/modules/userserv/sendpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/status.c (File Modified) 
  +1 -1		trunk/src/function.c (File Modified) 
  +1 -1		trunk/src/node.c (File Modified) 
  +3 -3		trunk/src/privs.c (File Modified) 


jilles      2005/12/29 02:21:27 UTC	(20051229-4281)
  Log:
  Add some forgotten code in translation_destroy().
  

  Changes:	Modified:
  +2 -0		trunk/src/culture.c (File Modified) 


jilles      2005/12/29 02:14:45 UTC	(20051229-4279)
  Log:
  Don't shadow global "msg" declaration.
  

  Changes:	Modified:
  +3 -3		trunk/src/services.c (File Modified) 


jilles      2005/12/29 02:05:02 UTC	(20051229-4277)
  Log:
  Avoid format string attack.
  

  Changes:	Modified:
  +1 -1		trunk/src/services.c (File Modified) 


jilles      2005/12/29 01:50:12 UTC	(20051229-4275)
  Log:
  Explain what's granted to to all IRCops and users with operator{} blocks.
  

  Changes:	Modified:
  +12 -1	trunk/doc/PRIVILEGES (File Modified) 


nenolod     2005/12/29 01:48:47 UTC	(20051229-4273)
  Log:
  conf_parse() -- make conf_parse take a variable for a config file to parse.
  (this way we can use the same framework for parsing other config-like files)
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/src/atheme.c (File Modified) 
  +3 -3		trunk/src/conf.c (File Modified) 


jilles      2005/12/29 01:44:00 UTC	(20051229-4271)
  Log:
  - Add general:flood priv (exempt from services flood control); moved
    check for it down a bit to only check this when they're actually
    flooding.
  - Add chan:cmodes priv (allow mlocking oper-only cmodes), previously
    under chan:admin
  

  Changes:	Modified:
  +4 -4		trunk/dist/example.conf (File Modified) 
  +4 -4		trunk/dist/example.userserv.conf (File Modified) 
  +4 -0		trunk/doc/PRIVILEGES (File Modified) 
  +2 -0		trunk/include/privs.h (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +7 -1		trunk/src/ptasks.c (File Modified) 


nenolod     2005/12/29 01:39:38 UTC	(20051229-4269)
  Log:
  strings passed to notice are now ran through the new translation cache.
  if you want to bypass the translation cache, you must now use notice_sts().
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/include/phandler.h (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/scylla.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 
  +1 -1		trunk/src/phandler.c (File Modified) 
  +14 -0	trunk/src/services.c (File Modified) 


nenolod     2005/12/29 01:26:21 UTC	(20051229-4267)
  Log:
  add missing prototypes
  

  Changes:	Modified:
  +3 -1		trunk/include/culture.h (File Modified) 


nenolod     2005/12/29 01:15:10 UTC	(20051229-4265)
  Log:
  Remove dead code -- `cmd_find()'.
  

  Changes:	Modified:
  +0 -4		trunk/include/extern.h (File Modified) 
  +0 -30	trunk/src/services.c (File Modified) 


nenolod     2005/12/28 22:56:31 UTC	(20051228-4263)
  Log:
  hook it into the build system
  

  Changes:	Modified:
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +5 -5		trunk/src/culture.c (File Modified) 


nenolod     2005/12/28 22:51:48 UTC	(20051228-4261)
  Log:
  add culture.c

  Changes:	Modified:
  +92 -0	trunk/src/culture.c (File Added) 


nenolod     2005/12/28 22:32:35 UTC	(20051228-4259)
  Log:
  update the culture.h header. :)
  

  Changes:	Modified:
  +1 -3		trunk/include/culture.h (File Modified) 


nenolod     2005/12/28 22:20:41 UTC	(20051228-4257)
  Log:
  new translation format proposal
  

  Changes:	Modified:
  +7 -6		trunk/translations/sample.language (File Modified) 


jilles      2005/12/28 22:08:06 UTC	(20051228-4255)
  Log:
  ns/us info:
  - Change "Last login from:" to "Last address:"
  - Move "Logins from:" up a bit
  - Don't show "Last seen" if the user is currently online
  

  Changes:	Modified:
  +25 -26	trunk/modules/nickserv/info.c (File Modified) 
  +23 -24	trunk/modules/userserv/info.c (File Modified) 


jilles      2005/12/28 21:16:23 UTC	(20051228-4253)
  Log:
  HelpServ has been nonfunctional for a long time,
  remove it from the example confs.
  

  Changes:	Modified:
  +0 -15	trunk/dist/example.conf (File Modified) 
  +0 -15	trunk/dist/example.userserv.conf (File Modified) 


jilles      2005/12/28 21:02:02 UTC	(20051228-4251)
  Log:
  Mention crypto/ircservices module.
  

  Changes:	Modified:
  +5 -0		trunk/dist/example.conf (File Modified) 
  +5 -0		trunk/dist/example.userserv.conf (File Modified) 


jilles      2005/12/28 19:43:11 UTC	(20051228-4249)
  Log:
  Correct fprintf() types for memos (ME lines)
  

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2005/12/28 18:03:12 UTC	(20051228-4247)
  Log:
  Always return a value in sra_add().
  

  Changes:	Modified:
  +1 -1		trunk/src/node.c (File Modified) 


jilles      2005/12/28 02:03:12 UTC	(20051228-4245)
  Log:
  Don't expire accounts with privs on them, otherwise
  someone can reregister them and take the privs.
  

  Changes:	Modified:
  +6 -0		trunk/src/node.c (File Modified) 


jilles      2005/12/28 01:27:40 UTC	(20051228-4243)
  Log:
  Enable $Id$ substitution.
  

  Changes:	Modified:
  + -		trunk/include/privs.h  (Property Modified)
  + -		trunk/src/privs.c  (Property Modified)


jilles      2005/12/28 01:26:38 UTC	(20051228-4241)
  Log:
  Add description of oper privileges.
  

  Changes:	Modified:
  +54 -0	trunk/doc/PRIVILEGES (File Added) 


jilles      2005/12/28 01:10:58 UTC	(20051228-4239)
  Log:
  Add operator "<account>" { operclass = "<operclass>"; };
  Creates an sra_t with the given operclass (and thus
  restrictions).
  general::sras still works and creates god-like opers.
  All operator{} opers are still called SRAs.
  

  Changes:	Modified:
  +10 -8	trunk/dist/example.conf (File Modified) 
  +6 -7		trunk/dist/example.userserv.conf (File Modified) 
  +1 -0		trunk/include/account.h (File Modified) 
  +1 -1		trunk/include/extern.h (File Modified) 
  +42 -1	trunk/src/conf.c (File Modified) 
  +10 -3	trunk/src/node.c (File Modified) 
  +19 -2	trunk/src/privs.c (File Modified) 


jilles      2005/12/28 00:50:10 UTC	(20051228-4237)
  Log:
  Correct "Invalid configuration option uplink::" error message
  for operclass block.
  

  Changes:	Modified:
  +1 -1		trunk/src/conf.c (File Modified) 


jilles      2005/12/27 23:42:54 UTC	(20051227-4235)
  Log:
  Move SRA deletion to mark_all_illegal().
  Delete operclasses there as well.
  Rehashing SRAs and operclasses should now work fully.
  

  Changes:	Modified:
  +0 -9		trunk/src/conf.c (File Modified) 
  +18 -4	trunk/src/node.c (File Modified) 


jilles      2005/12/27 23:06:18 UTC	(20051227-4233)
  Log:
  Change sra_delete() argument from myuser_t * to sra_t *.
  This way we can delete SRAs without registered account
  as well.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/src/conf.c (File Modified) 
  +3 -4		trunk/src/node.c (File Modified) 


jilles      2005/12/27 22:36:56 UTC	(20051227-4231)
  Log:
  Change uplink configuration handling a bit.
  Before rehashing, mark everything "illegal".
  If the rehash fails, remove the "illegal" marks and continue.
  When adding uplinks, allow replacing an "illegal" one.
  If the rehash succeeds, remove all uplinks marked "illegal"
  except the current uplink.
  When losing connection to the current uplink, if it is
  marked "illegal", delete it. If that was the last uplink,
  exit.
  
  Tracker #85
  

  Changes:	Modified:
  +4 -0		trunk/include/extern.h (File Modified) 
  +4 -0		trunk/include/servers.h (File Modified) 
  +7 -0		trunk/src/conf.c (File Modified) 
  +62 -13	trunk/src/node.c (File Modified) 
  +16 -2	trunk/src/uplink.c (File Modified) 


jilles      2005/12/27 22:15:57 UTC	(20051227-4229)
  Log:
  If there are no uplinks configured, complain and exit instead of crashing.
  

  Changes:	Modified:
  +5 -0		trunk/src/uplink.c (File Modified) 


jilles      2005/12/27 19:45:10 UTC	(20051227-4227)
  Log:
  Require general:auspex instead of ircop to see server line in /trace.
  

  Changes:	Modified:
  +1 -1		trunk/src/ptasks.c (File Modified) 


jilles      2005/12/27 19:35:24 UTC	(20051227-4225)
  Log:
  ns/us hold help: note that this also prevents registered
  channels from expiring.
  

  Changes:	Modified:
  +2 -1		trunk/help/nickserv/hold (File Modified) 
  +2 -1		trunk/help/userserv/hold (File Modified) 


jilles      2005/12/27 19:30:05 UTC	(20051227-4223)
  Log:
  Remove some is_sra() for privilege.
  ns/us drop: require just user:admin
  ns/us resetpass/sendpass: require general:admin for operation on SRA
  ns/us resetpass: require user:mark for operation on marked account
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +4 -4		trunk/modules/nickserv/resetpass.c (File Modified) 
  +2 -2		trunk/modules/nickserv/sendpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +4 -4		trunk/modules/userserv/resetpass.c (File Modified) 
  +2 -2		trunk/modules/userserv/sendpass.c (File Modified) 


jilles      2005/12/27 19:06:48 UTC	(20051227-4221)
  Log:
  Add oper classes, operclass "name" { privs = "<privs>"; } in atheme.conf.
  The "ircop" operclass determines what privileges all ircops get.
  sras are still almighty.
  

  Changes:	Modified:
  +21 -0	trunk/dist/example.conf (File Modified) 
  +21 -0	trunk/dist/example.userserv.conf (File Modified) 
  +6 -0		trunk/include/account.h (File Modified) 
  +1 -0		trunk/include/atheme.h (File Modified) 
  +4 -0		trunk/include/extern.h (File Modified) 
  +43 -0	trunk/src/conf.c (File Modified) 
  +59 -0	trunk/src/node.c (File Modified) 
  +10 -2	trunk/src/privs.c (File Modified) 
  +1 -0		trunk/src/ptasks.c (File Modified) 


jilles      2005/12/27 17:41:18 UTC	(20051227-4219)
  Log:
  Add code for fine grained services operator privileges.
  From the outside, there is still only IRCop and SRA.
  IRCops can probably do a bit more than before.
  There's still a little is_sra() for privs left.
  

  Changes:	Modified:
  +4 -8		trunk/include/atheme.h (File Modified) 
  +2 -2		trunk/include/commandtree.h (File Modified) 
  +56 -0	trunk/include/privs.h (File Added) 
  +2 -2		trunk/modules/chanserv/akick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/close.c (File Modified) 
  +3 -3		trunk/modules/chanserv/drop.c (File Modified) 
  +2 -2		trunk/modules/chanserv/flags.c (File Modified) 
  +1 -1		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +2 -2		trunk/modules/chanserv/help.c (File Modified) 
  +1 -1		trunk/modules/chanserv/hold.c (File Modified) 
  +3 -3		trunk/modules/chanserv/info.c (File Modified) 
  +1 -1		trunk/modules/chanserv/list.c (File Modified) 
  +1 -1		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/modules/chanserv/mark.c (File Modified) 
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +10 -15	trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +2 -2		trunk/modules/chanserv/template.c (File Modified) 
  +3 -3		trunk/modules/chanserv/xop.c (File Modified) 
  +2 -2		trunk/modules/global/main.c (File Modified) 
  +3 -3		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +6 -6		trunk/modules/nickserv/info.c (File Modified) 
  +1 -7		trunk/modules/nickserv/link.c (File Modified) 
  +1 -1		trunk/modules/nickserv/list.c (File Modified) 
  +2 -2		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -6		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/return.c (File Modified) 
  +1 -1		trunk/modules/nickserv/sendpass.c (File Modified) 
  +6 -12	trunk/modules/nickserv/set.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +5 -5		trunk/modules/operserv/akill.c (File Modified) 
  +7 -1		trunk/modules/operserv/help.c (File Modified) 
  +1 -1		trunk/modules/operserv/inject.c (File Modified) 
  +1 -1		trunk/modules/operserv/jupe.c (File Modified) 
  +1 -1		trunk/modules/operserv/mode.c (File Modified) 
  +1 -1		trunk/modules/operserv/modinspect.c (File Modified) 
  +1 -1		trunk/modules/operserv/modlist.c (File Modified) 
  +1 -1		trunk/modules/operserv/modload.c (File Modified) 
  +1 -1		trunk/modules/operserv/modrestart.c (File Modified) 
  +1 -1		trunk/modules/operserv/modunload.c (File Modified) 
  +1 -1		trunk/modules/operserv/noop.c (File Modified) 
  +1 -1		trunk/modules/operserv/raw.c (File Modified) 
  +1 -1		trunk/modules/operserv/rehash.c (File Modified) 
  +1 -1		trunk/modules/operserv/restart.c (File Modified) 
  +1 -1		trunk/modules/operserv/shutdown.c (File Modified) 
  +1 -1		trunk/modules/operserv/update.c (File Modified) 
  +1 -1		trunk/modules/operserv/uptime.c (File Modified) 
  +3 -3		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +1 -1		trunk/modules/userserv/hold.c (File Modified) 
  +6 -6		trunk/modules/userserv/info.c (File Modified) 
  +1 -1		trunk/modules/userserv/list.c (File Modified) 
  +2 -2		trunk/modules/userserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/userserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/userserv/mark.c (File Modified) 
  +1 -6		trunk/modules/userserv/register.c (File Modified) 
  +1 -1		trunk/modules/userserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/return.c (File Modified) 
  +1 -1		trunk/modules/userserv/sendpass.c (File Modified) 
  +6 -12	trunk/modules/userserv/set.c (File Modified) 
  +7 -2		trunk/modules/userserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +11 -30	trunk/src/commandtree.c (File Modified) 
  +1 -1		trunk/src/node.c (File Modified) 
  +60 -0	trunk/src/privs.c (File Added) 
  +6 -6		trunk/src/ptasks.c (File Modified) 
  +5 -11	trunk/src/services.c (File Modified) 


nenolod     2005/12/27 03:36:36 UTC	(20051227-4217)
  Log:
  Module dependency tracking. (I offered a bounty for this, because I was too lazy to do it myself. :P)
  

  Changes:	Modified:
  +3 -0		trunk/include/module.h (File Modified) 
  +31 -1	trunk/src/module.c (File Modified) 


nenolod     2005/12/27 03:10:48 UTC	(20051227-4215)
  Log:
  remove dead win32 posix-emulation code that hasn't been used in a long time
  

  Changes:	Modified:
  +0 -79	trunk/src/module.c (File Modified) 


jilles      2005/12/27 02:27:31 UTC	(20051227-4213)
  Log:
  Remove /ns link <nick> <password> which *destroyed* the
  given nick before linking it.
  

  Changes:	Modified:
  +3 -8		trunk/help/nickserv/link (File Modified) 
  +2 -5		trunk/modules/nickserv/link.c (File Modified) 


jilles      2005/12/26 23:05:34 UTC	(20051226-4211)
  Log:
  Refuse to add an akill with '!' in its mask.
  

  Changes:	Modified:
  +6 -0		trunk/modules/operserv/akill.c (File Modified) 


jilles      2005/12/26 15:46:53 UTC	(20051226-4209)
  Log:
  ChanServ UNBAN: check for nick!user@ip bans as well;
  CIDR bans (as supported by charybdis and ratbox at least)
  are not recognized.
  

  Changes:	Modified:
  +10 -4	trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/12/26 15:37:20 UTC	(20051226-4207)
  Log:
  - Add charybdis section
  - Update inspircd section
  

  Changes:	Modified:
  +10 -4	trunk/doc/IRCD (File Modified) 


jilles      2005/12/26 15:31:34 UTC	(20051226-4205)
  Log:
  ChanServ UNBAN: use LIST_FOREACH_SAFE -- we're removing nodes from the list
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/12/26 15:27:43 UTC	(20051226-4203)
  Log:
  ChanServ UNBAN: default to user giving the command
  

  Changes:	Modified:
  +3 -2		trunk/help/cservice/unban (File Modified) 
  +11 -5	trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/12/26 15:06:58 UTC	(20051226-4201)
  Log:
  - Move some signal handler setting down to a point where
    we are sufficiently started to handle the signal
  - When detaching replace stdin/stdout/stderr with /dev/null
    and create a new session instead of just a new
    process group
  

  Changes:	Modified:
  +21 -7	trunk/src/atheme.c (File Modified) 


jilles      2005/12/26 14:59:33 UTC	(20051226-4199)
  Log:
  Set close-on-exec flag for the log file, to avoid
  log file descriptors accumulating on restarts.
  

  Changes:	Modified:
  +3 -0		trunk/src/function.c (File Modified) 


jilles      2005/12/26 14:01:51 UTC	(20051226-4197)
  Log:
  - Install doc/help with proper permissions
  - Don't copy over .svn stuff
  - Only install files under doc/, files under help/ and files
    under subdirectories of help/
  

  Changes:	Modified:
  +12 -2	trunk/src/Makefile.in (File Modified) 


jilles      2005/12/26 13:48:39 UTC	(20051226-4195)
  Log:
  Allow specifying the pid file with -p <file>.
  Default is var/atheme.pid (relative to prefix) as before.
  

  Changes:	Modified:
  +12 -6	trunk/dist/atheme.chk (File Modified) 
  +11 -6	trunk/src/atheme.c (File Modified) 


w00t        2005/12/26 08:41:30 UTC	(20051226-4193)
  Log:
  Actually, InspIRCd support is b6 and later

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2005/12/26 00:04:17 UTC	(20051226-4191)
  Log:
  Regenerate configure.
  

  Changes:	Modified:
  +12 -4	trunk/configure (File Modified) 


jilles      2005/12/26 00:02:24 UTC	(20051226-4189)
  Log:
  - Use ${prefix}/share/doc/atheme and ${prefix}/share/atheme/help for
    documentation and help files respectively for --enable-fhs-paths
  - Don't delete old help/doc stuff
  - Install atheme.chk file to atheme.chk.sample instead.
  

  Changes:	Modified:
  +6 -0		trunk/Makefile.in (File Modified) 
  +6 -0		trunk/backend/Makefile.in (File Modified) 
  +7 -1		trunk/configure.ac (File Modified) 
  +6 -0		trunk/contrib/Makefile.in (File Modified) 
  +6 -0		trunk/crypto/Makefile.in (File Modified) 
  +6 -0		trunk/dbtool/Makefile.in (File Modified) 
  +6 -0		trunk/libatheme/Makefile.in (File Modified) 
  +6 -0		trunk/modules/Makefile.in (File Modified) 
  +6 -0		trunk/modules/chanserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/global/Makefile.in (File Modified) 
  +6 -0		trunk/modules/helpserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/memoserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/nickserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/operserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/userserv/Makefile.in (File Modified) 
  +6 -0		trunk/modules/xmlrpc/Makefile.in (File Modified) 
  +6 -0		trunk/protocol/Makefile.in (File Modified) 
  +11 -14	trunk/src/Makefile.in (File Modified) 
  +7 -1		trunk/src/help.c (File Modified) 


jilles      2005/12/25 21:41:36 UTC	(20051225-4187)
  Log:
  Move a lot of the help displaying stuff to a new function
  help_display() in src/help.c.
  Help files that cannot be opened now give a different
  message than help topics that do not exist at all.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +1 -39	trunk/modules/chanserv/help.c (File Modified) 
  +1 -31	trunk/modules/global/main.c (File Modified) 
  +3 -41	trunk/modules/helpserv/help.c (File Modified) 
  +1 -38	trunk/modules/memoserv/help.c (File Modified) 
  +1 -36	trunk/modules/nickserv/help.c (File Modified) 
  +1 -36	trunk/modules/operserv/help.c (File Modified) 
  +1 -36	trunk/modules/userserv/help.c (File Modified) 
  +44 -0	trunk/src/help.c (File Modified) 


jilles      2005/12/25 21:04:04 UTC	(20051225-4185)
  Log:
  Regenerate configure (with correct Id string).
  

  Changes:	Modified:
  +33 -9	trunk/configure (File Modified) 


jilles      2005/12/25 21:01:34 UTC	(20051225-4183)
  Log:
  Add support to install all modules under lib/atheme
  instead of directly under prefix, via
  --enable-fhs-paths.
  

  Changes:	Modified:
  +4 -1		trunk/Makefile.in (File Modified) 
  +6 -3		trunk/backend/Makefile.in (File Modified) 
  +28 -2	trunk/configure.ac (File Modified) 
  +6 -3		trunk/contrib/Makefile.in (File Modified) 
  +6 -3		trunk/crypto/Makefile.in (File Modified) 
  +4 -1		trunk/dbtool/Makefile.in (File Modified) 
  +0 -3		trunk/include/sysconf.h.in (File Modified) 
  +5 -0		trunk/libatheme/Makefile.in (File Modified) 
  +4 -1		trunk/modules/Makefile.in (File Modified) 
  +6 -3		trunk/modules/chanserv/Makefile.in (File Modified) 
  +6 -3		trunk/modules/global/Makefile.in (File Modified) 
  +6 -3		trunk/modules/helpserv/Makefile.in (File Modified) 
  +6 -3		trunk/modules/memoserv/Makefile.in (File Modified) 
  +6 -3		trunk/modules/nickserv/Makefile.in (File Modified) 
  +6 -3		trunk/modules/operserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/operserv/modload.c (File Modified) 
  +1 -1		trunk/modules/operserv/modrestart.c (File Modified) 
  +6 -3		trunk/modules/userserv/Makefile.in (File Modified) 
  +6 -3		trunk/modules/xmlrpc/Makefile.in (File Modified) 
  +6 -3		trunk/protocol/Makefile.in (File Modified) 
  +26 -23	trunk/src/Makefile.in (File Modified) 
  +1 -1		trunk/src/conf.c (File Modified) 
  +1 -1		trunk/src/module.c (File Modified) 


jilles      2005/12/25 00:26:15 UTC	(20051225-4181)
  Log:
  Add support for permanent channels in charybdis/hyperion/shadowircd.
  Channels with +P do not disappear when empty; chanserv will still
  leave.
  

  Changes:	Modified:
  +1 -0		trunk/include/phandler.h (File Modified) 
  +2 -1		trunk/protocol/asuka.c (File Modified) 
  +2 -1		trunk/protocol/bahamut.c (File Modified) 
  +2 -1		trunk/protocol/bircd.c (File Modified) 
  +2 -1		trunk/protocol/charybdis.c (File Modified) 
  +2 -1		trunk/protocol/dreamforge.c (File Modified) 
  +2 -1		trunk/protocol/hyperion.c (File Modified) 
  +2 -1		trunk/protocol/inspircd.c (File Modified) 
  +2 -1		trunk/protocol/ircnet.c (File Modified) 
  +2 -1		trunk/protocol/monkey.c (File Modified) 
  +2 -1		trunk/protocol/plexus.c (File Modified) 
  +2 -1		trunk/protocol/ptlink.c (File Modified) 
  +2 -1		trunk/protocol/ratbox.c (File Modified) 
  +2 -1		trunk/protocol/scylla.c (File Modified) 
  +2 -1		trunk/protocol/shadowircd.c (File Modified) 
  +2 -1		trunk/protocol/sorcery.c (File Modified) 
  +2 -1		trunk/protocol/ultimate3.c (File Modified) 
  +2 -1		trunk/protocol/undernet.c (File Modified) 
  +2 -1		trunk/protocol/unreal.c (File Modified) 
  +1 -1		trunk/src/node.c (File Modified) 


jilles      2005/12/24 23:30:07 UTC	(20051224-4179)
  Log:
  /cs template: remove some debugging code.
  

  Changes:	Modified:
  +0 -6		trunk/modules/chanserv/template.c (File Modified) 


nenolod     2005/12/24 08:42:47 UTC	(20051224-4177)
  Log:
  Allow services roots to drop accounts in UserServ without a password.
  Expires feature request: 94 (Strike).
  
  (Atheme version: SVN)
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


jilles      2005/12/21 19:23:17 UTC	(20051221-4175)
  Log:
  Enable $Id$ tracking.
  

  Changes:	Modified:
  + -		trunk/crypto/ircservices.c  (Property Modified)
  + -		trunk/include/template.h  (Property Modified)
  + -		trunk/modules/chanserv/template.c  (Property Modified)
  +2 -0		trunk/src/template.c (File Modified) (Property Modified)


jilles      2005/12/20 21:25:31 UTC	(20051220-4173)
  Log:
  As requested by Brain, don't send PASS anymore. Inspircd
  puts the password in the SERVER command.
  

  Changes:	Modified:
  +1 -3		trunk/protocol/inspircd.c (File Modified) 


nenolod     2005/12/19 15:44:35 UTC	(20051219-4171)
  Log:
  forward port cleanups from 0.3
  

  Changes:	Modified:
  +12 -11	trunk/crypto/ircservices.c (File Modified) 


nenolod     2005/12/19 15:39:53 UTC	(20051219-4169)
  Log:
  remove unused variable from libatheme.
  

  Changes:	Modified:
  +0 -1		trunk/libatheme/connection.c (File Modified) 


jilles      2005/12/18 15:22:56 UTC	(20051218-4167)
  Log:
  Silly ircnet ircd doesn't accept UIDs in INVITE.
  

  Changes:	Modified:
  +3 -1		trunk/protocol/ircnet.c (File Modified) 


jilles      2005/12/18 02:54:01 UTC	(20051218-4165)
  Log:
  Make uplink connection logging more helpful (show server
  name and hostname/IP, also at LG_INFO level)
  

  Changes:	Modified:
  +0 -2		trunk/src/send.c (File Modified) 
  +3 -3		trunk/src/uplink.c (File Modified) 


jilles      2005/12/18 02:27:50 UTC	(20051218-4163)
  Log:
  - Remove any data from the previous connection on reconnect
  - Improve handling of connection errors somewhat (still not great)
  
  Tracker #86
  

  Changes:	Modified:
  +21 -4	trunk/src/packet.c (File Modified) 


jilles      2005/12/18 01:50:04 UTC	(20051218-4161)
  Log:
  flags: mention <self> -* to remove own access
  xop: add some text about required privileges
  

  Changes:	Modified:
  +3 -0		trunk/help/cservice/flags (File Modified) 
  +4 -0		trunk/help/cservice/xop (File Modified) 


jilles      2005/12/18 01:43:55 UTC	(20051218-4159)
  Log:
  Allow users to remove their own access in /cs flags and .flags.
  Only works with -* and if they're not akicked (+b).
  

  Changes:	Modified:
  +32 -20	trunk/modules/chanserv/flags.c (File Modified) 


jilles      2005/12/18 00:46:59 UTC	(20051218-4157)
  Log:
  Add wallchops() stuff to some protocol modules.
  

  Changes:	Modified:
  +6 -0		trunk/protocol/asuka.c (File Modified) 
  +6 -0		trunk/protocol/bahamut.c (File Modified) 
  +6 -0		trunk/protocol/bircd.c (File Modified) 
  +10 -0	trunk/protocol/charybdis.c (File Modified) 
  +11 -0	trunk/protocol/hyperion.c (File Modified) 
  +1 -0		trunk/protocol/ircnet.c (File Modified) 
  +11 -0	trunk/protocol/plexus.c (File Modified) 
  +10 -0	trunk/protocol/ratbox.c (File Modified) 
  +10 -0	trunk/protocol/shadowircd.c (File Modified) 
  +6 -0		trunk/protocol/undernet.c (File Modified) 


jilles      2005/12/17 23:34:18 UTC	(20051217-4155)
  Log:
  Make generic_wallchops() send an individual notice to each
  channel operator.
  

  Changes:	Modified:
  +3 -1		trunk/include/phandler.h (File Modified) 
  +10 -1	trunk/src/phandler.c (File Modified) 


jilles      2005/12/17 23:13:00 UTC	(20051217-4153)
  Log:
  Argh, more CRLF line terminators.
  

  Changes:	Modified:
  +175 -175	trunk/src/phandler.c (File Modified) 


jilles      2005/12/17 23:11:59 UTC	(20051217-4151)
  Log:
  Move generic_wallchops() declaration to a more logical place.
  

  Changes:	Modified:
  +1 -1		trunk/include/phandler.h (File Modified) 


jilles      2005/12/17 23:02:44 UTC	(20051217-4149)
  Log:
  Change back to LF only instead of CRLF.
  (Separate commit because this makes diffs worthless.)
  

  Changes:	Modified:
  +155 -155	trunk/include/phandler.h (File Modified) 


w00t        2005/12/17 22:57:48 UTC	(20051217-4147)
  Log:
  Implemented protocol handler wallchops(), co-authored by Drazak.

  Changes:	Modified:
  +155 -153	trunk/include/phandler.h (File Modified) 
  +175 -169	trunk/src/phandler.c (File Modified) 


w00t        2005/12/17 21:13:52 UTC	(20051217-4145)
  Log:
  Added UnrealIRCd FNC support.

  Changes:	Modified:
  +7 -0		trunk/protocol/unreal.c (File Modified) 


w00t        2005/12/17 21:12:23 UTC	(20051217-4143)
  Log:
  Removed unneeded +x on changing a users host in Unreal protocol module.

  Changes:	Modified:
  +0 -1		trunk/protocol/unreal.c (File Modified) 


jilles      2005/12/17 20:48:02 UTC	(20051217-4141)
  Log:
  In charybdis, ratbox and P10, mark services clients as
  "deaf" (does not receive channel messages) if
  fantasy commands are disabled. +D for charybdis/ratbox,
  +d for asuka/bircd/undernet.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +2 -2		trunk/protocol/charybdis.c (File Modified) 
  +5 -3		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2005/12/17 15:59:42 UTC	(20051217-4139)
  Log:
  invite_sts() fixes:
    asuka/bircd/undernet: use P10 command format
    charybdis/ircnet/ratbox: use UIDs if appropriate
    ircnet: join temporarily if not on channel
  

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +11 -1	trunk/protocol/ircnet.c (File Modified) 
  +4 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 


jilles      2005/12/17 14:49:24 UTC	(20051217-4137)
  Log:
  - Make order agree with protocol modules
  - Note that invite_sts() source may not be on channel
  

  Changes:	Modified:
  +7 -6		trunk/include/phandler.h (File Modified) 


jilles      2005/12/17 14:39:23 UTC	(20051217-4135)
  Log:
  Make invite_sts() actually work (it's invite_sts not invite).
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/invite.c (File Modified) 
  +1 -1		trunk/modules/chanserv/recover.c (File Modified) 


w00t        2005/12/17 11:17:30 UTC	(20051217-4133)
  Log:
  I really suck today, yes I do!

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/xop.c (File Modified) 


w00t        2005/12/17 11:12:36 UTC	(20051217-4131)
  Log:
  Partial fix for #64, CS FLAGS still needs review.

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/xop.c (File Modified) 


w00t        2005/12/17 10:22:03 UTC	(20051217-4129)
  Log:
  REALLY have per-channel fantasy disable now.

  Changes:	Modified:
  +27 -3	trunk/modules/chanserv/main.c (File Modified) 


w00t        2005/12/17 09:58:57 UTC	(20051217-4127)
  Log:
  CS SET FANTASY ON/OFF added, per ID 71

  Changes:	Modified:
  +9 -0		trunk/help/cservice/set_fantasy (File Added) 
  +70 -0	trunk/modules/chanserv/set.c (File Modified) 


w00t        2005/12/17 09:18:53 UTC	(20051217-4125)
  Log:
  Fix direct sts() of INVITE. Also fix CS INVITE on a nonexistant (empty) channel.

  Changes:	Modified:
  +7 -1		trunk/modules/chanserv/invite.c (File Modified) 
  +1 -2		trunk/modules/chanserv/recover.c (File Modified) 


kog         2005/12/17 08:31:39 UTC	(20051217-4123)
  Log:
  akill list now catches param FULL correctly
  

  Changes:	Modified:
  +4 -8		trunk/modules/operserv/akill.c (File Modified) 


w00t        2005/12/17 04:44:46 UTC	(20051217-4121)
  Log:
  Repeat after me, w00t is a retard..

  Changes:	Modified:
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/scylla.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 


w00t        2005/12/17 04:37:40 UTC	(20051217-4119)
  Log:
  added *_invite_sts() to protocol modules.

  Changes:	Modified:
  +7 -0		trunk/protocol/asuka.c (File Modified) 
  +7 -0		trunk/protocol/bahamut.c (File Modified) 
  +7 -0		trunk/protocol/bircd.c (File Modified) 
  +7 -0		trunk/protocol/charybdis.c (File Modified) 
  +7 -0		trunk/protocol/dreamforge.c (File Modified) 
  +7 -0		trunk/protocol/hyperion.c (File Modified) 
  +7 -0		trunk/protocol/inspircd.c (File Modified) 
  +7 -0		trunk/protocol/ircnet.c (File Modified) 
  +7 -0		trunk/protocol/monkey.c (File Modified) 
  +7 -0		trunk/protocol/plexus.c (File Modified) 
  +7 -0		trunk/protocol/ptlink.c (File Modified) 
  +7 -0		trunk/protocol/ratbox.c (File Modified) 
  +7 -0		trunk/protocol/scylla.c (File Modified) 
  +7 -0		trunk/protocol/shadowircd.c (File Modified) 
  +7 -0		trunk/protocol/sorcery.c (File Modified) 
  +7 -0		trunk/protocol/ultimate3.c (File Modified) 
  +7 -0		trunk/protocol/undernet.c (File Modified) 
  +7 -0		trunk/protocol/unreal.c (File Modified) 


w00t        2005/12/17 04:10:58 UTC	(20051217-4117)
  Log:
  ...

  Changes:	Modified:
  +1 -1		trunk/include/phandler.h (File Modified) 


w00t        2005/12/17 04:08:51 UTC	(20051217-4115)
  Log:
  I suck.

  Changes:	Modified:
  +1 -0		trunk/include/phandler.h (File Modified) 


w00t        2005/12/17 04:03:53 UTC	(20051217-4113)
  Log:
  invite_sts() added, protocol modules to be updated.

  Changes:	Modified:
  +2 -0		trunk/include/phandler.h (File Modified) 
  +6 -0		trunk/src/phandler.c (File Modified) 


w00t        2005/12/17 03:00:02 UTC	(20051217-4111)
  Log:
  (Hopefully) a fix for Bricker's issue of opers not recieving Services permissions.

  Changes:	Modified:
  +11 -0	trunk/protocol/inspircd.c (File Modified) 


w00t        2005/12/17 02:43:15 UTC	(20051217-4109)
  Log:
  Remove dual pcommand_add() on FJOIN, reported by Brain

  Changes:	Modified:
  +0 -1		trunk/protocol/inspircd.c (File Modified) 


jilles      2005/12/16 12:07:11 UTC	(20051216-4107)
  Log:
  Allow = in flag change strings, equivalent to -*+,
  replacing all flags by the given ones.
  

  Changes:	Modified:
  +11 -0	trunk/src/flags.c (File Modified) 


jilles      2005/12/16 11:56:51 UTC	(20051216-4105)
  Log:
  Clarification and slight reformatting.
  

  Changes:	Modified:
  +15 -10	trunk/help/cservice/template (File Modified) 


jilles      2005/12/16 11:48:45 UTC	(20051216-4103)
  Log:
  Mention the fact that xop meanings vary per network.
  Mention TEMPLATE.
  

  Changes:	Modified:
  +10 -8	trunk/help/cservice/xop (File Modified) 


jilles      2005/12/16 11:38:32 UTC	(20051216-4101)
  Log:
  Add per-channel flags templates. Templates can be specified
  in the flags command, avoiding the need to memorize
  complicated flags strings. Templates are manipulated with
  the TEMPLATE command which is similar to the FLAGS command.
  The xOP levels can also be used as templates.
  
  For example: /msg chanserv flags #chan *!*@*.good.com VOP
  
  All template entries must fit in a single metadata entry,
  private:templates. This is fairly ugly string manipulation.
  
  The TEMPLATE command module needs to be enabled in the
  configuration file.
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 
  +13 -5	trunk/help/cservice/flags (File Modified) 
  +34 -0	trunk/help/cservice/template (File Added) 
  +16 -0	trunk/include/template.h (File Added) 
  +1 -0		trunk/modules/chanserv/Makefile.in (File Modified) 
  +35 -8	trunk/modules/chanserv/flags.c (File Modified) 
  +323 -0	trunk/modules/chanserv/template.c (File Added) 
  +1 -0		trunk/src/Makefile.in (File Modified) 
  +63 -0	trunk/src/template.c (File Added) 


jilles      2005/12/15 22:18:39 UTC	(20051215-4099)
  Log:
  Do not try to send warnings about nicknames if nickserv is
  not in use.
  Fixes stuff like: [15/12/2005 22:22:03] <- :(null) NOTICE
  jilles :This nickname is registered. Please choose a
  different nickname, or identify via /msg (null) identify <password>.
  

  Changes:	Modified:
  +4 -0		trunk/src/services.c (File Modified) 


jilles      2005/12/15 21:34:25 UTC	(20051215-4097)
  Log:
  UserServ register: Register the requested account, not the user's nick.
  Found by Strike.
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/register.c (File Modified) 


w00t        2005/12/15 08:55:00 UTC	(20051215-4095)
  Log:
  Theoretically (?) updated to work with 0.3 modules stuff. IIRC, it just needed a header.

  Changes:	Modified:
  +7 -0		trunk/contrib/ircd_catserv.c (File Modified) 


pfish       2005/12/14 10:49:28 UTC	(20051214-4093)
  Log:
  Close out #77. In CTCP VERSION replies, the 'j' and 'l' flags were duplicated.
  

  Changes:	Modified:
  +1 -2		trunk/modules/chanserv/main.c (File Modified) 
  +0 -2		trunk/modules/global/main.c (File Modified) 
  +0 -2		trunk/modules/memoserv/main.c (File Modified) 
  +0 -2		trunk/modules/nickserv/main.c (File Modified) 
  +1 -2		trunk/modules/operserv/main.c (File Modified) 
  +0 -2		trunk/modules/userserv/main.c (File Modified) 


jilles      2005/12/14 10:10:04 UTC	(20051214-4091)
  Log:
  Make xOP levels configurable, via vop/hop/aop/sop
  in chanserv{}. Defaults are compatible with Atheme
  0.3; the values in the example confs are more
  useful.
  

  Changes:	Modified:
  +6 -5		trunk/backend/flatfile.c (File Modified) 
  +19 -0	trunk/dist/example.conf (File Modified) 
  +19 -0	trunk/dist/example.userserv.conf (File Modified) 
  +6 -5		trunk/include/account.h (File Modified) 
  +5 -0		trunk/include/services.h (File Modified) 
  +28 -71	trunk/modules/chanserv/xop.c (File Modified) 
  +69 -0	trunk/src/conf.c (File Modified) 


jilles      2005/12/13 23:09:23 UTC	(20051213-4089)
  Log:
  Disable xOP information in ns/us listchans for now, making it easier
  to do changeable xOP levels. It may come back later.
  

  Changes:	Modified:
  +0 -12	trunk/modules/nickserv/listchans.c (File Modified) 
  +0 -12	trunk/modules/userserv/listchans.c (File Modified) 


jilles      2005/12/13 17:04:07 UTC	(20051213-4087)
  Log:
  Change mychan_t * to void * in hook_channel_req_t. This is an
  ugly workaround for the fact that mychan_t may not be defined
  yet.
  

  Changes:	Modified:
  +2 -1		trunk/include/atheme.h (File Modified) 


nenolod     2005/12/13 16:50:37 UTC	(20051213-4085)
  Log:
  oops
  

  Changes:	Modified:
  +5 -0		trunk/include/atheme.h (File Modified) 


nenolod     2005/12/13 16:24:31 UTC	(20051213-4083)
  Log:
  use a struct -- hook_channel_req_t. :)
  

  Changes:	Modified:
  +4 -1		trunk/modules/chanserv/info.c (File Modified) 


nenolod     2005/12/13 16:20:26 UTC	(20051213-4081)
  Log:
  Add hook for modules to attach to /cs info... channel_info.
  Not documented in HOOKS yet.
  

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/info.c (File Modified) 


jilles      2005/12/12 00:11:48 UTC	(20051212-4079)
  Log:
  Add /cs forcexop to reset access levels to xOP values.
  Useful if CA_?OP are changed.
  

  Changes:	Modified:
  +16 -0	trunk/help/cservice/forcexop (File Added) 
  +5 -0		trunk/help/cservice/xop (File Modified) 
  +76 -0	trunk/modules/chanserv/xop.c (File Modified) 


jilles      2005/12/10 01:22:24 UTC	(20051210-4063)
  Log:
  Move protect from +r to +s as +r is commonly granted
  to normal ops.
  

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


jilles      2005/12/10 01:18:08 UTC	(20051210-4061)
  Log:
  Enable protect and halfops in ultimate3. Untested.
  

  Changes:	Modified:
  +2 -2		trunk/protocol/ultimate3.c (File Modified) 


jilles      2005/12/10 00:29:54 UTC	(20051210-4059)
  Log:
  No need to check if a protocol module is loaded another time.
  (The issue is that config_ready hooks often really need
  information defined in the protocol module.)
  

  Changes:	Modified:
  +0 -6		trunk/src/atheme.c (File Modified) 


jilles      2005/12/10 00:17:42 UTC	(20051210-4057)
  Log:
  Log a clear error message and exit cleanly if no protocol
  module was loaded in the config file.
  
  Tracker #76
  

  Changes:	Modified:
  +6 -0		trunk/src/conf.c (File Modified) 


jilles      2005/12/09 17:42:11 UTC	(20051209-4055)
  Log:
  Fix a compiler warning.
  

  Changes:	Modified:
  +3 -1		trunk/protocol/inspircd.c (File Modified) 


jilles      2005/12/09 17:19:42 UTC	(20051209-4053)
  Log:
  Add IDLE command to allow remote whois on services.
  Does not show signon time (services startup time).
  
  Submitted by: brain
  

  Changes:	Modified:
  +13 -0	trunk/protocol/inspircd.c (File Modified) 


jilles      2005/12/09 13:32:26 UTC	(20051209-4051)
  Log:
  - Make sure services are opped when joining a channel (from brain)
  - Set the initial channel mode on new channels, using a server MODE (myself)
  - Fix up sethost_sts (from brain)
  

  Changes:	Modified:
  +10 -1	trunk/protocol/inspircd.c (File Modified) 


jilles      2005/12/09 13:07:18 UTC	(20051209-4049)
  Log:
  Don't mess with dalnet-like +r/+e if nickserv is not enabled.
  These are only meaningful with nick registration.
  

  Changes:	Modified:
  +5 -5		trunk/protocol/bahamut.c (File Modified) 
  +5 -5		trunk/protocol/dreamforge.c (File Modified) 
  +3 -3		trunk/protocol/hyperion.c (File Modified) 
  +5 -5		trunk/protocol/inspircd.c (File Modified) 
  +9 -0		trunk/protocol/monkey.c (File Modified) 
  +15 -0	trunk/protocol/plexus.c (File Modified) 
  +9 -0		trunk/protocol/ptlink.c (File Modified) 
  +15 -0	trunk/protocol/shadowircd.c (File Modified) 
  +5 -5		trunk/protocol/sorcery.c (File Modified) 
  +5 -6		trunk/protocol/ultimate3.c (File Modified) 
  +5 -5		trunk/protocol/unreal.c (File Modified) 


jilles      2005/12/09 12:43:28 UTC	(20051209-4047)
  Log:
  Complain if userserv is enabled but a nickserv{} block is present,
  and vice versa.
  

  Changes:	Modified:
  +7 -0		trunk/modules/nickserv/main.c (File Modified) 
  +7 -0		trunk/modules/userserv/main.c (File Modified) 


jilles      2005/12/08 17:06:31 UTC	(20051208-4045)
  Log:
  For akicked users, use a matching +b'ed hostmask if possible.
  Otherwise use *!*@vhost as before.
  Flags checks on identify use only account access entries currently
  so I left those alone for now.
  
  Tracker #69.
  

  Changes:	Modified:
  +17 -1	trunk/modules/chanserv/main.c (File Modified) 


w00t        2005/12/08 12:39:26 UTC	(20051208-4043)
  Log:
  [seemingly] working InspIRCd b6 and above support. Needs some review, but appears to work.

  Changes:	Modified:
  +6 -5		trunk/include/protocol/inspircd.h (File Modified) 
  +230 -160	trunk/protocol/inspircd.c (File Modified) 


w00t        2005/12/08 10:54:25 UTC	(20051208-4041)
  Log:
  Some minor craq-- in unreal.c

  Changes:	Modified:
  +30 -68	trunk/protocol/unreal.c (File Modified) 


w00t        2005/12/08 10:09:05 UTC	(20051208-4039)
  Log:
  InspIRCd comment removed, as we're working on a new module supporting b6 protocol, and added a 'wtf' comment.

  Changes:	Modified:
  +3 -1		trunk/include/pmodule.h (File Modified) 


jilles      2005/12/08 01:18:01 UTC	(20051208-4037)
  Log:
  Move channel access over from host to vhost.
  This is probably less surprising and allows services cloaks
  in access lists.
  It could be useful to check hostmask-based channel access
  after identify/login now.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/xop.c (File Modified) 
  +2 -2		trunk/src/node.c (File Modified) 


jilles      2005/12/08 00:43:30 UTC	(20051208-4035)
  Log:
  Clarify a little.
  

  Changes:	Modified:
  +3 -3		trunk/help/cservice/flags (File Modified) 


jilles      2005/12/08 00:36:02 UTC	(20051208-4033)
  Log:
  /cs ban/unban:
  - Change chanacs_find() to chanacs_user_has_flag(), allowing
    hostmask access.
  - Require +r, +f does not suffice (this is consistent with
    akick requiring +rf).
  

  Changes:	Modified:
  +4 -8		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/12/08 00:24:15 UTC	(20051208-4031)
  Log:
  - Change chanacs_find() to chanacs_user_has_flag() in a few places
  - Move /cs set email and /cs set url from +f to +s
  

  Changes:	Modified:
  +3 -6		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/12/08 00:22:46 UTC	(20051208-4029)
  Log:
  Mention how to clear the URL.
  

  Changes:	Modified:
  +2 -1		trunk/help/cservice/set_url (File Modified) 


jilles      2005/12/08 00:05:46 UTC	(20051208-4027)
  Log:
  /CS SET SECURE checks on mode changes:
  - Replace is_xop()/chanacs_find_host() combination with
    chanacs_user_flags()
  - Make SECURE apply to halfops as well
  

  Changes:	Modified:
  +14 -19	trunk/src/cmode.c (File Modified) 


jilles      2005/12/07 23:40:46 UTC	(20051207-4025)
  Log:
  Don't allow setting +b if the user has +b, require +r.
  This prevents +f-r users from adding akicks via
  /cs flags by deliberately matching a +b hostmask entry.
  

  Changes:	Modified:
  +1 -0		trunk/src/flags.c (File Modified) 


jilles      2005/12/07 23:30:14 UTC	(20051207-4023)
  Log:
  Remove those stupid should_*() functions, except those
  dealing with owner and protect. They are not used anymore.
  

  Changes:	Modified:
  +0 -8		trunk/include/extern.h (File Modified) 
  +0 -143	trunk/src/function.c (File Modified) 


jilles      2005/12/07 23:22:53 UTC	(20051207-4021)
  Log:
  Fix setting +ohv on xop add. Now works for account
  entries as well as hostmask entries. Does not use
  should_*() anymore.
  
  Setting protect is disabled.
  
  There is a hackish thing to voice HOP list on ircds
  without halfops.
  

  Changes:	Modified:
  +64 -34	trunk/modules/chanserv/xop.c (File Modified) 


jilles      2005/12/07 22:42:40 UTC	(20051207-4019)
  Log:
  Simplify auto{owner,protect,op,halfop,voice} checks on
  identify/login. As before, only check access by account,
  not hostmask. Don't set redundant modes.
  

  Changes:	Modified:
  +8 -6		trunk/modules/nickserv/identify.c (File Modified) 
  +8 -6		trunk/modules/userserv/login.c (File Modified) 


jilles      2005/12/07 15:04:53 UTC	(20051207-4017)
  Log:
  Change wildcard checking to the ratbox (also charybdis) algorithm:
  count the characters other than '*', '?', '.' in both user and host,
  and require at least 4.
  

  Changes:	Modified:
  +11 -6	trunk/modules/operserv/akill.c (File Modified) 


jilles      2005/12/05 17:40:52 UTC	(20051205-4013)
  Log:
  Don't unkline a temp akill if it has already expired.
  

  Changes:	Modified:
  +3 -1		trunk/src/node.c (File Modified) 


jilles      2005/12/05 17:40:21 UTC	(20051205-4011)
  Log:
  Rewrite and simplify cs_join() using chanacs_user_flags().
  

  Changes:	Modified:
  +62 -138	trunk/modules/chanserv/main.c (File Modified) 


jilles      2005/12/05 15:34:12 UTC	(20051205-4009)
  Log:
  Fix garbled expiry time display (0 days, 0:00:4294967261)
  on akills that are expired but not yet removed.
  

  Changes:	Modified:
  +2 -2		trunk/modules/operserv/akill.c (File Modified) 


jilles      2005/12/05 13:48:52 UTC	(20051205-4007)
  Log:
  Mention duration 0 for a perm kline.
  

  Changes:	Modified:
  +1 -1		trunk/include/phandler.h (File Modified) 


jilles      2005/12/05 13:43:45 UTC	(20051205-4005)
  Log:
  Documentation for protocol module functions.
  

  Changes:	Modified:
  +57 -0	trunk/include/phandler.h (File Modified) 


jilles      2005/12/05 11:25:39 UTC	(20051205-4003)
  Log:
  Make /cs status conform to the flags system better.
  

  Changes:	Modified:
  +8 -27	trunk/modules/chanserv/status.c (File Modified) 


jilles      2005/12/05 00:57:18 UTC	(20051205-4001)
  Log:
  Add an anope module that dumps the currently loaded
  data as a flatfile. This is the old gen_convert.c,
  improved quite a bit.
  

  Changes:	Modified:
  +298 -0	trunk/contrib/anope_convert.c (File Added) 


jilles      2005/12/04 22:58:55 UTC	(20051204-3999)
  Log:
  Add support for old ircservices password encryption as
  used by anope. This needs to be stored as
  $ircservices$<PASSWORD> where <PASSWORD> is the lowercase
  hex representation of the first 8 bytes of the encryption
  (the last 8 bytes are constant anyway).
  

  Changes:	Modified:
  +1 -1		trunk/crypto/Makefile.in (File Modified) 
  +458 -0	trunk/crypto/ircservices.c (File Added) 


jilles      2005/12/02 01:15:37 UTC	(20051202-3997)
  Log:
  Update mychan->used when a user with CA_USEDUPDATE flags joins or a user
  identifies while on channel and having CA_USEDUPDATE flags. CA_USEDUPDATE
  means one or more of +voOsrRfhH.
  
  This solves #82 except for channels where people stay for weeks and noone
  joins during that time.
  
  Needs to be merged to 0.3.
  

  Changes:	Modified:
  +2 -0		trunk/include/account.h (File Modified) 
  +5 -3		trunk/modules/chanserv/main.c (File Modified) 
  +4 -0		trunk/modules/nickserv/identify.c (File Modified) 
  +4 -0		trunk/modules/userserv/login.c (File Modified) 


nenolod     2005/11/30 04:36:03 UTC	(20051130-3995)
  Log:
  Document the existance of our trac instance. (A test commit to see if trac picks it up)
  

  Changes:	Modified:
  +3 -0		trunk/TODO (File Modified) 


nenolod     2005/11/29 00:42:00 UTC	(20051129-3989)
  Log:
  unsigned char fixes -- crazy bugged us about it.

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 
  +4 -4		trunk/src/pmodule.c (File Modified) 


nenolod     2005/11/29 00:13:48 UTC	(20051129-3987)
  Log:
  Deny use of invalid character '@' in a vhost. This needs to be tested and immediately backported to the release branch.
  

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/vhost.c (File Modified) 
  +6 -0		trunk/modules/userserv/vhost.c (File Modified) 


jilles      2005/11/27 21:37:09 UTC	(20051127-3983)
  Log:
  Don't add newlines on loaded memos.
  
  Tracker #80 (blank lines in flatfile db caused by memoserv).
  

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2005/11/26 02:32:23 UTC	(20051126-3981)
  Log:
  Interpret ENCAP REALHOST as sent by charybdis 1.0.3.
  

  Changes:	Modified:
  +10 -0	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/11/26 01:35:34 UTC	(20051126-3979)
  Log:
  Add FNC wrapper:
  E void (*fnc_sts)(user_t *source, user_t *u, char *newnick, int type);
  type is FNC_REGAIN for giving a user their registered nick back,
  FNC_FORCE for forcing a user off their nick.
  Only for charybdis, hyperion and bahamut for now.
  

  Changes:	Modified:
  +4 -0		trunk/include/atheme.h (File Modified) 
  +2 -0		trunk/include/phandler.h (File Modified) 
  +7 -0		trunk/protocol/bahamut.c (File Modified) 
  +11 -0	trunk/protocol/charybdis.c (File Modified) 
  +8 -0		trunk/protocol/hyperion.c (File Modified) 
  +7 -0		trunk/src/phandler.c (File Modified) 


nenolod     2005/11/25 20:12:20 UTC	(20051125-3975)
  Log:
  Duplicate check for other SJOIN variant

  Changes:	Modified:
  +11 -6	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/11/25 20:08:47 UTC	(20051125-3973)
  Log:
  UnrealIRCd ban-burst fix.

  Changes:	Modified:
  +4 -1		trunk/protocol/unreal.c (File Modified) 


jilles      2005/11/24 00:01:42 UTC	(20051124-3965)
  Log:
  Don't delete me.me, this causes confusion later.
  This could happen if ircd sends SQUIT <our name>.
  

  Changes:	Modified:
  +8 -0		trunk/src/node.c (File Modified) 


nenolod     2005/11/23 22:27:24 UTC	(20051123-3963)
  Log:
  Grammatical fix.

  Changes:	Modified:
  +4 -2		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/11/22 11:41:52 UTC	(20051122-3959)
  Log:
  New tracker URL.
  

  Changes:	Modified:
  +1 -2		trunk/TODO (File Modified) 


nenolod     2005/11/21 03:51:46 UTC	(20051121-3957)
  Log:
  Regenerate configure.

  Changes:	Modified:
  +5 -2		trunk/configure (File Modified) 


nenolod     2005/11/21 03:51:24 UTC	(20051121-3955)
  Log:
  Improve MySQL detection.

  Changes:	Modified:
  +3 -0		trunk/configure.ac (File Modified) 


terminal    2005/11/20 05:10:01 UTC	(20051120-3951)
  Log:
  fix an oops where windows didn't get a .dll suffix

  Changes:	Modified:
  +2 -2		trunk/libatheme/linker.c (File Modified) 


terminal    2005/11/19 06:35:10 UTC	(20051119-3949)
  Log:
  remove tab from end of line, make doesn't like it.

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/Makefile.win32 (File Modified) 


jilles      2005/11/17 17:38:40 UTC	(20051117-3947)
  Log:
  Store user IP addresses.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ircnet.c (File Modified) 


jilles      2005/11/17 17:17:28 UTC	(20051117-3945)
  Log:
  Fix server descriptions for remote servers.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ircnet.c (File Modified) 


jilles      2005/11/17 17:14:06 UTC	(20051117-3943)
  Log:
  - Use EOB and EOBACK commands (so we don't appear as bursting in
    /stats ? and to detect the uplink's end of burst)
  - Keep track of netwide EOB because we don't need to send anything
    for it
  

  Changes:	Modified:
  +41 -2	trunk/protocol/ircnet.c (File Modified) 


alambert    2005/11/15 07:06:10 UTC	(20051115-3931)
  Log:
  flatfile: Mirror check in other backends -- don't blindly trust the result of myuser_find(). Abort if a channel has no founder.

  Changes:	Modified:
  +8 -0		trunk/backend/flatfile.c (File Modified) 


alambert    2005/11/15 04:15:17 UTC	(20051115-3927)
  Log:
  Legacy loginfail conversion: use the right variable. Reported by nenolod.

  Changes:	Modified:
  +3 -3		trunk/backend/flatfile.c (File Modified) 


alambert    2005/11/15 03:42:16 UTC	(20051115-3921)
  Log:
  Use the right directory for pgsql headers. Reported by Matt.

  Changes:	Modified:
  +1 -1		trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


alambert    2005/11/15 03:28:41 UTC	(20051115-3917)
  Log:
  Don't let memos pretend to be CTCP replies

  Changes:	Modified:
  +6 -0		trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/11/14 23:46:56 UTC	(20051114-3913)
  Log:
  NickServ: Notify a user when using ACC that a user is offline instead of just returning.
  UserServ: Fix a crash where ACC is used on a offline user.
  

  Changes:	Modified:
  +3 -0		trunk/modules/nickserv/status.c (File Modified) 
  +7 -0		trunk/modules/userserv/status.c (File Modified) 


jilles      2005/11/14 10:52:52 UTC	(20051114-3911)
  Log:
  Log ircop/sra use of ns/cs taxonomy as CMDLOG_ADMIN with an "(oper)" note.
  
  Tracker bug #73
  

  Changes:	Modified:
  +7 -2		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +7 -2		trunk/modules/nickserv/taxonomy.c (File Modified) 


pfish       2005/11/14 03:16:46 UTC	(20051114-3907)
  Log:
  Update example configs with proper uflags/clflags

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2005/11/13 20:55:37 UTC	(20051113-3905)
  Log:
  - Don't set halfops if the ircd doesn't support them
  - Use ircd->halfops_mode instead of hardcoding +h
  
  Pointed out by: alambert
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/11/13 20:06:02 UTC	(20051113-3903)
  Log:
  reconcile userserv and nickserv help files

  Changes:	Modified:
  +5 -4		trunk/help/nickserv/freeze (File Modified) 
  +1 -1		trunk/help/userserv/drop (File Modified) 
  +3 -3		trunk/help/userserv/freeze (File Modified) 
  +2 -2		trunk/help/userserv/mark (File Modified) 
  +1 -1		trunk/help/userserv/set_property (File Modified) 
  +1 -1		trunk/help/userserv/status (File Modified) 


jilles      2005/11/13 15:16:55 UTC	(20051113-3901)
  Log:
  Don't crash on XOP ADD <hostmask> if the channel doesn't exist.
  

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2005/11/13 06:20:50 UTC	(20051113-3899)
  Log:
  Prevent infinite loop (divide by 0).

  Changes:	Modified:
  +6 -0		trunk/contrib/fc_dice.c (File Modified) 


nenolod     2005/11/13 06:07:08 UTC	(20051113-3897)
  Log:
  Better dice module. :P

  Changes:	Modified:
  +16 -5	trunk/contrib/fc_dice.c (File Modified) 


jilles      2005/11/13 00:39:14 UTC	(20051113-3895)
  Log:
  - Apply new +f restrictions to xOP
  - Don't allow duplicate hostmask entries
  - When removing an xOP entry, only do it if the entry has
    the exact privs of that xOP level
  

  Changes:	Modified:
  +80 -28	trunk/modules/chanserv/xop.c (File Modified) 


jilles      2005/11/12 02:16:49 UTC	(20051112-3891)
  Log:
  /cs recover:
  - Also deop all halfops
  - Set +im to help if there's both takeover and flooding
  - Unban the source of the command
  - Make +e setting work
  

  Changes:	Modified:
  +10 -0	trunk/help/cservice/recover (File Modified) 
  +67 -25	trunk/modules/chanserv/recover.c (File Modified) 


jilles      2005/11/12 01:44:01 UTC	(20051112-3887)
  Log:
  When using a nick with /cs unban and !unban, show the 
  number of bans removed.
  

  Changes:	Modified:
  +12 -2	trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/11/11 23:14:55 UTC	(20051111-3883)
  Log:
  Make cmode(NULL) to flush the stacker work instead of crash.
  

  Changes:	Modified:
  +1 -0		trunk/src/cmode.c (File Modified) 


jilles      2005/11/11 22:54:29 UTC	(20051111-3879)
  Log:
  Remove -i from default mode lock for new channels.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +1 -1		trunk/modules/xmlrpc/channel.c (File Modified) 


nenolod     2005/11/11 19:59:11 UTC	(20051111-3875)
  Log:
  Change strlcpy use to snprintf in /cs ban.

  Changes:	Modified:
  +4 -18	trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/11/11 14:46:49 UTC	(20051111-3871)
  Log:
  Describe resv/shared/service configuration in a little
  bit more detail.
  

  Changes:	Modified:
  +5 -2		trunk/INSTALL (File Modified) 


jilles      2005/11/11 13:44:28 UTC	(20051111-3867)
  Log:
  Repoint target to the parent nick when using /cs flags on an alias.
  

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/flags.c (File Modified) 


jilles      2005/11/11 13:26:04 UTC	(20051111-3861)
  Log:
  - Always return a value in non-void functions
  - Don't use uninitialized mu in checking linked nicks
  - Fix bug in METADATA_CHANACS (this still hasn't been
    tested at all)
  

  Changes:	Modified:
  +11 -13	trunk/src/node.c (File Modified) 


jilles      2005/11/11 13:07:49 UTC	(20051111-3857)
  Log:
  Send correct key in verification email. Yes, the code
  needs to contain free(key) twice.
  

  Changes:	Modified:
  +2 -1		trunk/modules/xmlrpc/account.c (File Modified) 


jilles      2005/11/11 13:04:22 UTC	(20051111-3855)
  Log:
  Change mychan_pick_candidate() parameter names to avoid
  shadowing of access() and time().
  

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 


jilles      2005/11/11 12:55:45 UTC	(20051111-3851)
  Log:
  Don't put a semicolon in DECLARE_CLARO_ASSEMBLY_V1, this
  is supplied by the macro invocation.
  

  Changes:	Modified:
  +1 -1		trunk/libatheme/org.atheme.claro.base (File Modified) 


jilles      2005/11/11 12:39:20 UTC	(20051111-3847)
  Log:
  Make authcookie_expire() comply to the prototype for event functions.
  

  Changes:	Modified:
  +1 -1		trunk/include/authcookie.h (File Modified) 
  +3 -2		trunk/src/authcookie.c (File Modified) 


jilles      2005/11/11 11:48:36 UTC	(20051111-3839)
  Log:
  Change bahamut/ultimate3/unreal login tracking to use umode +r
  instead of checking if the service stamp was set before atheme
  was started (which could easily lead to users stealing accounts
  and didn't work for netsplits).
  

  Changes:	Modified:
  +2 -1		trunk/protocol/bahamut.c (File Modified) 
  +2 -1		trunk/protocol/ultimate3.c (File Modified) 
  +10 -1	trunk/protocol/unreal.c (File Modified) 


jilles      2005/11/11 11:31:28 UTC	(20051111-3835)
  Log:
  protocol/*.c: nickTS changes on a nick change
  protocol/ircnet.c: remove wrong comment that "nickTS is signon time", leave
  user_t.ts equal to 0 (e.g. TSora ircds treat a nickTS of 0 as "no TS",
  kill both on collision)
  

  Changes:	Modified:
  +1 -0		trunk/protocol/asuka.c (File Modified) 
  +1 -0		trunk/protocol/bahamut.c (File Modified) 
  +1 -0		trunk/protocol/bircd.c (File Modified) 
  +1 -0		trunk/protocol/charybdis.c (File Modified) 
  +1 -0		trunk/protocol/dreamforge.c (File Modified) 
  +1 -0		trunk/protocol/hyperion.c (File Modified) 
  +1 -0		trunk/protocol/inspircd.c (File Modified) 
  +0 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -0		trunk/protocol/monkey.c (File Modified) 
  +1 -0		trunk/protocol/plexus.c (File Modified) 
  +1 -0		trunk/protocol/ptlink.c (File Modified) 
  +1 -0		trunk/protocol/ratbox.c (File Modified) 
  +1 -0		trunk/protocol/scylla.c (File Modified) 
  +1 -0		trunk/protocol/shadowircd.c (File Modified) 
  +1 -0		trunk/protocol/sorcery.c (File Modified) 
  +1 -0		trunk/protocol/ultimate3.c (File Modified) 
  +1 -0		trunk/protocol/undernet.c (File Modified) 
  +1 -0		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/11/11 05:14:48 UTC	(20051111-3831)
  Log:
  Regenerate configure.

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 


nenolod     2005/11/11 05:14:35 UTC	(20051111-3829)
  Log:
  Version bump on trunk -> 1.0beta1

  Changes:	Modified:
  +1 -1		trunk/configure.ac (File Modified) 


alambert    2005/11/11 05:08:05 UTC	(20051111-3825)
  Log:
  CS SET: remove stale successor help entry

  Changes:	Modified:
  +0 -1		trunk/modules/chanserv/set.c (File Modified) 


nenolod     2005/11/11 05:07:21 UTC	(20051111-3823)
  Log:
  version bump in preparation for handoff to QA team

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


pfish       2005/11/11 05:05:24 UTC	(20051111-3821)
  Log:
  NickServ/UserServ: Display mu->lastlogin on INFO.

  Changes:	Modified:
  +5 -2		trunk/modules/nickserv/info.c (File Modified) 
  +6 -2		trunk/modules/userserv/info.c (File Modified) 


nenolod     2005/11/11 04:53:59 UTC	(20051111-3819)
  Log:
  Implement core-side of the nickTS implementation.
  

  Changes:	Modified:
  +1 -1		trunk/src/servtree.c (File Modified) 


nenolod     2005/11/11 04:50:39 UTC	(20051111-3817)
  Log:
  authcookie.h: fix a fucked up prototype declaration.
  protocol modules: nickTS implementation
  protocol/inspircd: use handle_message instead of incorrect handle_privmsg().
  

  Changes:	Modified:
  +1 -1		trunk/include/authcookie.h (File Modified) 
  +3 -3		trunk/protocol/asuka.c (File Modified) 
  +1 -1		trunk/protocol/bahamut.c (File Modified) 
  +4 -4		trunk/protocol/bircd.c (File Modified) 
  +2 -2		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/hyperion.c (File Modified) 
  +3 -3		trunk/protocol/inspircd.c (File Modified) 
  +2 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ptlink.c (File Modified) 
  +2 -2		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/scylla.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 
  +2 -2		trunk/protocol/ultimate3.c (File Modified) 
  +3 -3		trunk/protocol/undernet.c (File Modified) 
  +1 -1		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/11/11 04:33:03 UTC	(20051111-3815)
  Log:
  Core API changes for NickTS. Not implemented protocol-side yet.

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +18 -16	trunk/include/users.h (File Modified) 
  +6 -1		trunk/src/node.c (File Modified) 


alambert    2005/11/11 04:24:57 UTC	(20051111-3813)
  Log:
  add authcookie_destroy_all() -- kills all authcookies for a given myuser

  Changes:	Modified:
  +1 -0		trunk/include/authcookie.h (File Modified) 
  +26 -0	trunk/src/authcookie.c (File Modified) 
  +3 -0		trunk/src/node.c (File Modified) 


jilles      2005/11/11 02:18:59 UTC	(20051111-3811)
  Log:
  Add a comment why mychan_pick_successor() shouldn't
  depend on a user being in the channel or not.
  

  Changes:	Modified:
  +5 -1		trunk/src/node.c (File Modified) 


jilles      2005/11/11 02:13:22 UTC	(20051111-3809)
  Log:
  Say something vague about the successor selection algorithm.
  (We want to be flexible about it.)
  

  Changes:	Modified:
  +5 -2		trunk/modules/chanserv/help.c (File Modified) 


jilles      2005/11/11 02:02:22 UTC	(20051111-3807)
  Log:
  Remove mychan_t.successor and /cs set successor.
  A later specific successor specification (if any)
  would use metadata.
  

  Changes:	Modified:
  +0 -8		trunk/backend/flatfile.c (File Modified) 
  +0 -14	trunk/help/cservice/set_successor (File Deleted) 
  +2 -4		trunk/include/account.h (File Modified) 
  +0 -1		trunk/include/extern.h (File Modified) 
  +0 -1		trunk/modules/chanserv/help.c (File Modified) 
  +0 -8		trunk/modules/chanserv/info.c (File Modified) 
  +1 -91	trunk/modules/chanserv/set.c (File Modified) 
  +0 -2		trunk/modules/nickserv/listchans.c (File Modified) 
  +0 -2		trunk/modules/userserv/listchans.c (File Modified) 
  +2 -2		trunk/modules/xmlrpc/channel.c (File Modified) 
  +0 -20	trunk/src/function.c (File Modified) 
  +0 -13	trunk/src/node.c (File Modified) 


jilles      2005/11/11 01:17:46 UTC	(20051111-3805)
  Log:
  Add dynamic successor finding. When the founder
  nick drops, try to find someone reasonably active
  with good privs. It has preferences for +*-OHV,
  +R and +o, but will eventually accept anyone
  not akicked.
  

  Changes:	Modified:
  +84 -27	trunk/src/node.c (File Modified) 


jilles      2005/11/11 00:25:48 UTC	(20051111-3803)
  Log:
  Disallow setting -f on the founder in /cs flags.
  This makes it much harder to remove the founder
  from chanacs; besides, the founder may always edit
  flags without restriction regardless of +f anyway.
  

  Changes:	Modified:
  +12 -0	trunk/modules/chanserv/flags.c (File Modified) 


jilles      2005/11/11 00:09:06 UTC	(20051111-3801)
  Log:
  Forward is more obvious than send here.
  

  Changes:	Modified:
  +1 -1		trunk/help/memoserv/list (File Modified) 


jilles      2005/11/11 00:07:19 UTC	(20051111-3799)
  Log:
  UserServ helpfile updates: many s/nickname/account, the
  previous nickserv updates and a few more.
  

  Changes:	Modified:
  +3 -5		trunk/help/userserv/drop (File Modified) 
  +4 -4		trunk/help/userserv/freeze (File Modified) 
  +2 -2		trunk/help/userserv/hold (File Modified) 
  +2 -2		trunk/help/userserv/info (File Modified) 
  +1 -1		trunk/help/userserv/list (File Modified) 
  +1 -1		trunk/help/userserv/listmail (File Modified) 
  +4 -4		trunk/help/userserv/login (File Modified) 
  +2 -2		trunk/help/userserv/mark (File Modified) 
  +7 -7		trunk/help/userserv/register (File Modified) 
  +2 -2		trunk/help/userserv/resetpass (File Modified) 
  +2 -2		trunk/help/userserv/return (File Modified) 
  +2 -3		trunk/help/userserv/sendpass (File Modified) 
  +1 -1		trunk/help/userserv/set_email (File Modified) 
  +1 -1		trunk/help/userserv/set_hidemail (File Modified) 
  +1 -2		trunk/help/userserv/set_password (File Modified) 
  +2 -2		trunk/help/userserv/verify (File Modified) 


jilles      2005/11/10 23:59:53 UTC	(20051111-3797)
  Log:
  NickServ helpfile updates.
  

  Changes:	Modified:
  +3 -3		trunk/help/nickserv/drop (File Modified) 
  +4 -1		trunk/help/nickserv/ghost (File Modified) 
  +6 -0		trunk/help/nickserv/identify (File Modified) 
  +5 -1		trunk/help/nickserv/register (File Modified) 
  +1 -2		trunk/help/nickserv/resetpass (File Modified) 
  +0 -1		trunk/help/nickserv/sendpass (File Modified) 


jilles      2005/11/10 23:52:43 UTC	(20051110-3795)
  Log:
  ChanServ helpfile updates.
  

  Changes:	Modified:
  +1 -1		trunk/help/cservice/ban (File Modified) 
  +1 -1		trunk/help/cservice/drop (File Modified) 
  +4 -2		trunk/help/cservice/kick (File Modified) 
  +2 -3		trunk/help/cservice/kickban (File Modified) 
  +2 -2		trunk/help/cservice/set_email (File Modified) 
  +1 -2		trunk/help/cservice/set_founder (File Modified) 
  +3 -2		trunk/help/cservice/set_mlock (File Modified) 
  +2 -2		trunk/help/cservice/set_secure (File Modified) 
  +2 -0		trunk/help/cservice/set_successor (File Modified) 


jilles      2005/11/10 23:45:29 UTC	(20051110-3793)
  Log:
  Clearer one-line description.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 


jilles      2005/11/10 23:43:13 UTC	(20051110-3791)
  Log:
  Update /cs flags help file.
  

  Changes:	Modified:
  +14 -5	trunk/help/cservice/flags (File Modified) 


jilles      2005/11/10 23:33:27 UTC	(20051110-3789)
  Log:
  - Refuse akick add if the given account or hostmask
    already has flags.
  - Make akick more helpful in case of existing entries
  

  Changes:	Modified:
  +57 -21	trunk/modules/chanserv/akick.c (File Modified) 


jilles      2005/11/10 22:59:00 UTC	(20051110-3787)
  Log:
  Require +rf instead of just +f to use akick add/del,
  consistent with flags +b.
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/akick.c (File Modified) 


jilles      2005/11/10 22:42:24 UTC	(20051110-3785)
  Log:
  Use chanacs_change_simple() in succession, /cs ftransfer
  and /cs set founder.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +1 -4		trunk/src/node.c (File Modified) 


jilles      2005/11/10 22:30:54 UTC	(20051110-3783)
  Log:
  Add chanacs_change_simple() which doesn't return the
  changes made, making it possible to pass in the
  desired changes as constants. Most uses of chanacs*add*()
  and chanacs*del*() should be replaced with this.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +10 -0	trunk/src/node.c (File Modified) 


jilles      2005/11/10 22:14:54 UTC	(20051110-3781)
  Log:
  - remove CA_SUCCESSOR and CA_FOUNDER flag sets granting
    successor/founder privs
  - overhaul /cs flags, now denies non-founders with +f
    setting/clearing flags they don't have themselves or
    messing with more privileged people, and shows the
    exact changes done
  - add boolean_t chanacs_change() to change channel access,
    adding/removing certain flags to a user or hostmask
    while not trespassing outside given flags and returning
    the actual change
  - add chanacs_host_flags(), chanacs_host_flags_by_user()
    and chanacs_user_flags() to get all flags set on a
    hostmask or user. (chanacs_user_flags() checks both
    account and hostmask access.)
  - use is_founder()/is_successor() in ns/us listchans
    still broken if they have no flags at all
  - don't remove any flags on founder transfer; don't grant
    the new founder autoop if they didn't have it already
  

  Changes:	Modified:
  +5 -4		trunk/backend/flatfile.c (File Modified) 
  +12 -2	trunk/include/account.h (File Modified) 
  +7 -0		trunk/include/extern.h (File Modified) 
  +74 -35	trunk/modules/chanserv/flags.c (File Modified) 
  +1 -7		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +1 -1		trunk/modules/chanserv/register.c (File Modified) 
  +1 -14	trunk/modules/chanserv/set.c (File Modified) 
  +5 -6		trunk/modules/nickserv/listchans.c (File Modified) 
  +5 -6		trunk/modules/userserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/xmlrpc/channel.c (File Modified) 
  +109 -4	trunk/src/flags.c (File Modified) 
  +0 -6		trunk/src/function.c (File Modified) 
  +181 -4	trunk/src/node.c (File Modified) 


pfish       2005/11/10 21:49:28 UTC	(20051110-3779)
  Log:
  When you change something in NickServ, you change it in UserServ

  Changes:	Modified:
  +3 -8		trunk/modules/userserv/register.c (File Modified) 


pfish       2005/11/10 20:36:06 UTC	(20051110-3777)
  Log:
  private:host:actual uses lao, not lau.

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 


nenolod     2005/11/10 18:17:03 UTC	(20051110-3775)
  Log:
  Fix a typo, and use snprintf instead of strlcpy in the last seen address code.
  

  Changes:	Modified:
  +4 -11	trunk/modules/nickserv/register.c (File Modified) 


alambert    2005/11/10 03:33:30 UTC	(20051110-3773)
  Log:
  myuser_delete(): Right now, chanacs is NOT a reliable indicator of whether or not a user is the founder. So do it the old, nasty way of searching through all channels. pfish will test.

  Changes:	Modified:
  +43 -32	trunk/src/node.c (File Modified) 


alambert    2005/11/10 03:23:33 UTC	(20051110-3771)
  Log:
  myuser_delete(): actually run the for loop...

  Changes:	Modified:
  +1 -1		trunk/src/node.c (File Modified) 


alambert    2005/11/10 01:50:36 UTC	(20051110-3769)
  Log:
  LISTCHANS: note it's not *really* equiv to is_founder() as we don't check mc->founder

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/userserv/listchans.c (File Modified) 


jilles      2005/11/10 01:28:36 UTC	(20051110-3767)
  Log:
  Use a separate handler (service_t.notice_handler) for notices.
  This handler defaults to a no-operation handler. Currently
  it must be set manually in service_t if something needs to
  be done with notices. handle_privmsg() renamed to
  handle_message() and privmsg/notice parameter added.
  general::secure does not apply to notices.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -0		trunk/include/servtree.h (File Modified) 
  +10 -2	trunk/protocol/asuka.c (File Modified) 
  +10 -2	trunk/protocol/bahamut.c (File Modified) 
  +10 -2	trunk/protocol/bircd.c (File Modified) 
  +10 -2	trunk/protocol/charybdis.c (File Modified) 
  +10 -2	trunk/protocol/dreamforge.c (File Modified) 
  +10 -2	trunk/protocol/hyperion.c (File Modified) 
  +10 -2	trunk/protocol/inspircd.c (File Modified) 
  +10 -2	trunk/protocol/ircnet.c (File Modified) 
  +10 -2	trunk/protocol/monkey.c (File Modified) 
  +10 -2	trunk/protocol/plexus.c (File Modified) 
  +10 -2	trunk/protocol/ptlink.c (File Modified) 
  +10 -2	trunk/protocol/ratbox.c (File Modified) 
  +10 -2	trunk/protocol/shadowircd.c (File Modified) 
  +10 -2	trunk/protocol/sorcery.c (File Modified) 
  +10 -2	trunk/protocol/ultimate3.c (File Modified) 
  +10 -2	trunk/protocol/undernet.c (File Modified) 
  +11 -3	trunk/protocol/unreal.c (File Modified) 
  +6 -3		trunk/src/ptasks.c (File Modified) 
  +7 -0		trunk/src/servtree.c (File Modified) 


alambert    2005/11/10 00:58:37 UTC	(20051110-3765)
  Log:
  XMLRPC account.login: bail if the account is frozen. Reported by jilles.

  Changes:	Modified:
  +8 -0		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/10 00:55:02 UTC	(20051110-3763)
  Log:
  DROP: alert the user if password is not specified. reported by matt.

  Changes:	Modified:
  +2 -2		trunk/modules/nickserv/drop.c (File Modified) 
  +2 -2		trunk/modules/userserv/drop.c (File Modified) 


jilles      2005/11/10 00:47:19 UTC	(20051110-3761)
  Log:
  Fix too few arguments being required in
  atheme.account.metadata.get and atheme.channel.register
  and too many in atheme.channel.metadata.delete.
  

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/account.c (File Modified) 
  +3 -3		trunk/modules/xmlrpc/channel.c (File Modified) 


jilles      2005/11/10 00:39:39 UTC	(20051110-3759)
  Log:
  Add logging to xmlrpc, much in the same style
  as the existing logging for IRC-given commands.
  

  Changes:	Modified:
  +17 -0	trunk/modules/xmlrpc/account.c (File Modified) 
  +8 -0		trunk/modules/xmlrpc/channel.c (File Modified) 


jilles      2005/11/10 00:34:19 UTC	(20051110-3757)
  Log:
  Add void logcommand_external(void *svs, char *type,
  connection_t *source, myuser_t *login, int level,
  const char *fmt, ...) to log commands given via other
  ways than IRC. type indicates the way the command was
  given more specifically, e.g. "xmlrpc".
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +41 -0	trunk/src/function.c (File Modified) 


jilles      2005/11/09 23:48:04 UTC	(20051109-3755)
  Log:
  - Use a typedef (XMLRPCMethodFunc) for the method functions
    in src/xmlrpc.c
  - Add an argument void *userdata to the method functions,
    which will be a copy of a new argument to xmlrpc_process()
  
  This will allow clean access to the source connection_t in
  the method functions.
  

  Changes:	Modified:
  +6 -4		trunk/include/xmlrpc.h (File Modified) 
  +7 -7		trunk/modules/xmlrpc/account.c (File Modified) 
  +4 -4		trunk/modules/xmlrpc/channel.c (File Modified) 
  +3 -2		trunk/modules/xmlrpc/main.c (File Modified) 
  +8 -7		trunk/src/xmlrpc.c (File Modified) 


jilles      2005/11/09 23:01:43 UTC	(20051109-3753)
  Log:
  Show source IP address of connection in debug notice.
  

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/main.c (File Modified) 


jilles      2005/11/09 22:59:37 UTC	(20051109-3751)
  Log:
  Pass sizeof(struct sockaddr) to getpeername(2),
  not sizeof(struct sockaddr *).
  

  Changes:	Modified:
  +1 -1		trunk/libatheme/connection.c (File Modified) 


jilles      2005/11/09 13:52:45 UTC	(20051109-3749)
  Log:
  - Log oper override in /cs akick list, /cs flags and /cs xop list
    (with CMDLOG_ADMIN and a parenthesized remark)
  - Remove !akick list oper override
  

  Changes:	Modified:
  +6 -2		trunk/modules/chanserv/akick.c (File Modified) 
  +6 -3		trunk/modules/chanserv/flags.c (File Modified) 
  +9 -5		trunk/modules/chanserv/xop.c (File Modified) 


jilles      2005/11/09 13:42:32 UTC	(20051109-3747)
  Log:
  Hmm, verbose() takes a mychan_t not a name.
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/11/09 13:27:39 UTC	(20051109-3745)
  Log:
  /cs set verbose: notify channel
  

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/11/09 13:24:44 UTC	(20051109-3743)
  Log:
  Move /cs set entrymsg from +f to +s, and keeptopic, secure
  and verbose from successor to +s.
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/11/09 13:02:50 UTC	(20051109-3741)
  Log:
  Comment out some of the most noisy snoops:
  taxonomy and successful non-SRA login and logout
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +1 -1		trunk/modules/userserv/logout.c (File Modified) 
  +1 -1		trunk/modules/userserv/taxonomy.c (File Modified) 


jilles      2005/11/09 12:52:23 UTC	(20051109-3739)
  Log:
  If SECURE is set, allow opping (halfopping) +O-o (+H-h) users.
  

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/halfop.c (File Modified) 
  +2 -2		trunk/modules/chanserv/op.c (File Modified) 


jilles      2005/11/09 12:43:44 UTC	(20051109-3737)
  Log:
  Add command logging to memoserv. Logged are changes to ignore lists,
  successful memos, ignored memos and memos rejected because the target
  inbox was full. The text of the memos is not logged.
  

  Changes:	Modified:
  +4 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +9 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +3 -0		trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/11/09 12:23:51 UTC	(20051109-3735)
  Log:
  Complete chanserv command logging.
  

  Changes:	Modified:
  +4 -0		trunk/modules/chanserv/halfop.c (File Modified) 
  +4 -0		trunk/modules/chanserv/kick.c (File Modified) 
  +1 -0		trunk/modules/chanserv/list.c (File Modified) 
  +2 -0		trunk/modules/chanserv/mark.c (File Modified) 
  +4 -0		trunk/modules/chanserv/op.c (File Modified) 
  +1 -0		trunk/modules/chanserv/recover.c (File Modified) 
  +1 -0		trunk/modules/chanserv/register.c (File Modified) 
  +30 -2	trunk/modules/chanserv/set.c (File Modified) 
  +3 -0		trunk/modules/chanserv/status.c (File Modified) 
  +1 -0		trunk/modules/chanserv/taxonomy.c (File Modified) 
  +4 -0		trunk/modules/chanserv/topic.c (File Modified) 
  +4 -0		trunk/modules/chanserv/voice.c (File Modified) 
  +2 -0		trunk/modules/chanserv/why.c (File Modified) 
  +6 -0		trunk/modules/chanserv/xop.c (File Modified) 


pfish       2005/11/09 11:35:37 UTC	(20051109-3733)
  Log:
  ChanServ INFO: Notify a user that a channel is closed and display no further info. Let SRA/IRCop override this and display full info.
  

  Changes:	Modified:
  +6 -0		trunk/modules/chanserv/info.c (File Modified) 


jilles      2005/11/09 11:27:14 UTC	(20051109-3731)
  Log:
  Some more chanserv command logging.
  

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/hold.c (File Modified) 
  +1 -0		trunk/modules/chanserv/info.c (File Modified) 
  +1 -0		trunk/modules/chanserv/invite.c (File Modified) 


pfish       2005/11/09 11:18:48 UTC	(20051109-3729)
  Log:
  Lets show a working link to atheme in /INFO (services.atheme.org is no longer valid?)
  

  Changes:	Modified:
  +1 -1		trunk/src/version.sh (File Modified) 


jilles      2005/11/09 11:10:58 UTC	(20051109-3727)
  Log:
  LISTCHANS:
  - Do not snoop on listchans on self
  - Make the log message for listchans on self clearly different
    from listchans on another user
  

  Changes:	Modified:
  +1 -2		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -2		trunk/modules/userserv/listchans.c (File Modified) 


jilles      2005/11/09 11:09:39 UTC	(20051109-3725)
  Log:
  Unbreak compile.
  

  Changes:	Modified:
  +1 -0		trunk/modules/userserv/info.c (File Modified) 


alambert    2005/11/09 06:14:38 UTC	(20051109-3723)
  Log:
  HelpServ: send CTCP replies from the right nick

  Changes:	Modified:
  +1 -1		trunk/modules/helpserv/main.c (File Modified) 


pfish       2005/11/09 06:13:52 UTC	(20051109-3721)
  Log:
  Update flags for UserServ and fix a crash in the last seen code.
  

  Changes:	Modified:
  +15 -2	trunk/modules/userserv/info.c (File Modified) 


alambert    2005/11/09 06:13:21 UTC	(20051109-3719)
  Log:
  US FREEZE: send messages from the right nickname

  Changes:	Modified:
  +2 -2		trunk/modules/userserv/freeze.c (File Modified) 


alambert    2005/11/09 06:11:55 UTC	(20051109-3717)
  Log:
  MemoServ: send CTCP responses from the right nick

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/main.c (File Modified) 


alambert    2005/11/09 05:52:16 UTC	(20051109-3715)
  Log:
  chanacs_user_has_flag(): if we're an alias, only ask about the parent nickname (per w00t)

  Changes:	Modified:
  +28 -2	trunk/src/node.c (File Modified) 


pfish       2005/11/09 05:50:17 UTC	(20051109-3713)
  Log:
  LISTCHANS: Port new version over to UserServ, and some minor improvments for both.
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 
  +41 -36	trunk/modules/userserv/listchans.c (File Modified) 


alambert    2005/11/09 05:35:19 UTC	(20051109-3711)
  Log:
  LISTCHANS: improve logging; pfish will port to userserv if it works

  Changes:	Modified:
  +11 -7	trunk/modules/nickserv/listchans.c (File Modified) 


pfish       2005/11/09 05:24:21 UTC	(20051109-3709)
  Log:
  LISTCHANS stuff.
  

  Changes:	Modified:
  +34 -33	trunk/modules/nickserv/listchans.c (File Modified) 


alambert    2005/11/09 04:47:53 UTC	(20051109-3707)
  Log:
  CS XOP, FLAGS, AKICK: allow opers to view channel access lists, consistent with LISTCHANS decision

  Changes:	Modified:
  +13 -4	trunk/modules/chanserv/akick.c (File Modified) 
  +8 -3		trunk/modules/chanserv/flags.c (File Modified) 
  +14 -5	trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/11/09 04:12:28 UTC	(20051109-3705)
  Log:
  should_*_host: use strlcpy

  Changes:	Modified:
  +4 -12	trunk/src/function.c (File Modified) 


alambert    2005/11/09 04:05:31 UTC	(20051109-3703)
  Log:
  example configs: sra restrictions removed

  Changes:	Modified:
  +2 -3		trunk/dist/example.conf (File Modified) 
  +0 -3		trunk/dist/example.userserv.conf (File Modified) 


alambert    2005/11/09 03:14:37 UTC	(20051109-3701)
  Log:
  Improve nickname sanity checking -- we still have a ways to go, though

  Changes:	Modified:
  +5 -2		trunk/modules/nickserv/link.c (File Modified) 
  +1 -0		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/09 03:03:30 UTC	(20051109-3699)
  Log:
  Add UID checking for NS LINK. Thanks to nenolod ;p

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/link.c (File Modified) 


nenolod     2005/11/09 02:52:30 UTC	(20051109-3697)
  Log:
  switch user_find with user_find_named in a few places. Requested by alambert. Reviewed by me. :P

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +1 -1		trunk/modules/nickserv/link.c (File Modified) 


alambert    2005/11/09 02:33:44 UTC	(20051109-3695)
  Log:
  NS LINK: bail out if the user has MU_WAITAUTH

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/link.c (File Modified) 


alambert    2005/11/09 02:30:48 UTC	(20051109-3693)
  Log:
  NS LINK: use the right pointer when determining flags

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/link.c (File Modified) 


alambert    2005/11/09 02:21:33 UTC	(20051109-3691)
  Log:
  SENDPASS: reset encrypted passwords instead. ...more controversial than Oolon Colluphid's trilogy of philosophical blockbusters 'Where God Went Wrong', 'Some More of God's Greatest Mistakes', and 'Who is this God Pesron, Anyway?'...

  Changes:	Modified:
  +8 -5		trunk/modules/nickserv/sendpass.c (File Modified) 
  +9 -5		trunk/modules/userserv/sendpass.c (File Modified) 


alambert    2005/11/09 02:00:31 UTC	(20051109-3689)
  Log:
  SENDPASS: notify the requester that encrypted passwords cannot be sent.

  Changes:	Modified:
  +8 -0		trunk/modules/nickserv/sendpass.c (File Modified) 
  +8 -0		trunk/modules/userserv/sendpass.c (File Modified) 


alambert    2005/11/09 01:51:22 UTC	(20051109-3687)
  Log:
  NS RETURN: (crypto) remember to set password

  Changes:	Modified:
  +2 -0		trunk/modules/nickserv/return.c (File Modified) 


alambert    2005/11/09 01:07:04 UTC	(20051109-3685)
  Log:
  crypto: Add password encryption support. (SENDPASS is temporarily broken)

  Changes:	Modified:
  +17 -8	trunk/backend/flatfile.c (File Modified) 
  +1 -2		trunk/backend/mysql.c (File Modified) 
  +1 -2		trunk/backend/postgresql.c (File Modified) 
  +4 -0		trunk/crypto/posix.c (File Modified) 
  +13 -0	trunk/dist/example.conf (File Modified) 
  +13 -0	trunk/dist/example.userserv.conf (File Modified) 
  +4 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +7 -4		trunk/modules/nickserv/link.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +2 -15	trunk/modules/nickserv/register.c (File Modified) 
  +2 -2		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -10	trunk/modules/nickserv/return.c (File Modified) 
  +1 -0		trunk/modules/nickserv/sendpass.c (File Modified) 
  +2 -2		trunk/modules/nickserv/set.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +1 -1		trunk/modules/userserv/logout.c (File Modified) 
  +2 -12	trunk/modules/userserv/register.c (File Modified) 
  +2 -2		trunk/modules/userserv/resetpass.c (File Modified) 
  +2 -9		trunk/modules/userserv/return.c (File Modified) 
  +1 -0		trunk/modules/userserv/sendpass.c (File Modified) 
  +2 -2		trunk/modules/userserv/set.c (File Modified) 
  +1 -2		trunk/modules/xmlrpc/account.c (File Modified) 
  +35 -0	trunk/src/function.c (File Modified) 
  +14 -2	trunk/src/node.c (File Modified) 


pfish       2005/11/09 00:59:39 UTC	(20051109-3683)
  Log:
  Bugfix RESETPASS. We need to figure out what newpass is before we notice the user. duh
  

  Changes:	Modified:
  +2 -2		trunk/modules/nickserv/resetpass.c (File Modified) 
  +2 -2		trunk/modules/userserv/resetpass.c (File Modified) 


alambert    2005/11/08 23:53:56 UTC	(20051108-3681)
  Log:
  XMLRPC: atheme.account.register: move gen_pw() closer to where we actually use it so people who add new code won't forget to free() it

  Changes:	Modified:
  +3 -1		trunk/modules/xmlrpc/account.c (File Modified) 


pfish       2005/11/08 23:38:36 UTC	(20051108-3679)
  Log:
  oops, reuse newpass
  

  Changes:	Modified:
  +5 -4		trunk/modules/nickserv/resetpass.c (File Modified) 
  +5 -4		trunk/modules/userserv/resetpass.c (File Modified) 


pfish       2005/11/08 23:32:49 UTC	(20051108-3677)
  Log:
  Only use gen_pw when we need to to avoid leaking memory.
  

  Changes:	Modified:
  +2 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +2 -1		trunk/modules/userserv/resetpass.c (File Modified) 


pfish       2005/11/08 22:54:00 UTC	(20051108-3675)
  Log:
  Fix a minor memory leak when a SRA resets a pass.
  

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -0		trunk/modules/userserv/resetpass.c (File Modified) 


alambert    2005/11/08 18:19:46 UTC	(20051108-3673)
  Log:
  OS MODUNLOAD: fix grammar problem

  Changes:	Modified:
  +2 -2		trunk/modules/operserv/modunload.c (File Modified) 


alambert    2005/11/08 18:17:40 UTC	(20051108-3671)
  Log:
  OS MODLOAD: let the user know if the module was loaded or not

  Changes:	Modified:
  +7 -3		trunk/modules/operserv/modload.c (File Modified) 


alambert    2005/11/08 06:31:01 UTC	(20051108-3669)
  Log:
  XMLRPC: require login prior to atheme.account.verify -- stops information leaks. Now matches NickServ code.

  Changes:	Modified:
  +1 -1		trunk/contrib/xmlrpc_explorer.php (File Modified) 
  +15 -7	trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/08 03:58:28 UTC	(20051108-3667)
  Log:
  crypto: Make it go to PREFIX/crypto, not PREFIX/backend

  Changes:	Modified:
  +3 -3		trunk/crypto/Makefile.in (File Modified) 


alambert    2005/11/08 03:09:32 UTC	(20051108-3665)
  Log:
  Rename verify_password() to crypt_verify_password()

  Changes:	Modified:
  +1 -1		trunk/include/crypto.h (File Modified) 
  +2 -2		trunk/src/crypto.c (File Modified) 


jilles      2005/11/08 02:10:26 UTC	(20051108-3663)
  Log:
  Another batch of chanserv command logging:
  close, clear users, clear bans, drop, ftransfer, flags
  

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +2 -0		trunk/modules/chanserv/clear_users.c (File Modified) 
  +2 -0		trunk/modules/chanserv/close.c (File Modified) 
  +4 -0		trunk/modules/chanserv/drop.c (File Modified) 
  +3 -0		trunk/modules/chanserv/flags.c (File Modified) 
  +1 -0		trunk/modules/chanserv/ftransfer.c (File Modified) 


jilles      2005/11/08 01:42:47 UTC	(20051108-3661)
  Log:
  Fix strlcat() to uninitialized string in chanserv unban <nick>
  (both normal and fantasy).
  
  Found with: valgrind
  

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/11/08 01:40:15 UTC	(20051108-3659)
  Log:
  Add command logging to chanserv akick/ban/unban.
  

  Changes:	Modified:
  +10 -0	trunk/modules/chanserv/akick.c (File Modified) 
  +8 -0		trunk/modules/chanserv/ban.c (File Modified) 


jilles      2005/11/08 01:19:42 UTC	(20051108-3657)
  Log:
  Revert this change that allows ircops/sras to
  cause stack overflows and is otherwise suspect
  for now.
  

  Changes:	Modified:
  +1 -7		trunk/src/function.c (File Modified) 


jilles      2005/11/08 00:54:23 UTC	(20051108-3655)
  Log:
  nickname -> account
  

  Changes:	Modified:
  +2 -2		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 
  +8 -8		trunk/modules/userserv/resetpass.c (File Modified) 
  +4 -4		trunk/modules/userserv/return.c (File Modified) 
  +1 -1		trunk/modules/userserv/vhost.c (File Modified) 


jilles      2005/11/08 00:49:36 UTC	(20051108-3653)
  Log:
  Port command logging from nickserv to userserv.
  

  Changes:	Modified:
  +6 -0		trunk/modules/userserv/freeze.c (File Modified) 
  +6 -0		trunk/modules/userserv/hold.c (File Modified) 
  +2 -0		trunk/modules/userserv/info.c (File Modified) 
  +5 -0		trunk/modules/userserv/list.c (File Modified) 
  +20 -5	trunk/modules/userserv/listchans.c (File Modified) 
  +5 -0		trunk/modules/userserv/listmail.c (File Modified) 
  +5 -0		trunk/modules/userserv/login.c (File Modified) 
  +7 -0		trunk/modules/userserv/logout.c (File Modified) 
  +6 -0		trunk/modules/userserv/mark.c (File Modified) 
  +4 -2		trunk/modules/userserv/resetpass.c (File Modified) 
  +2 -0		trunk/modules/userserv/return.c (File Modified) 
  +4 -0		trunk/modules/userserv/sendpass.c (File Modified) 
  +15 -0	trunk/modules/userserv/set.c (File Modified) 
  +4 -0		trunk/modules/userserv/status.c (File Modified) 
  +2 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +4 -0		trunk/modules/userserv/verify.c (File Modified) 
  +8 -1		trunk/modules/userserv/vhost.c (File Modified) 


terminal    2005/11/08 00:16:57 UTC	(20051108-3651)
  Log:
  only wallops on drop if user is SRA but is NOT a founder
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 


nenolod     2005/11/08 00:01:07 UTC	(20051108-3649)
  Log:
  fix that fucking memory bug.

  Changes:	Modified:
  +1 -1		trunk/include/account.h (File Modified) 


terminal    2005/11/07 23:41:39 UTC	(20051107-3647)
  Log:
  allow both parent and child nicknames to own a channel (compiles, not tested)
  

  Changes:	Modified:
  +7 -1		trunk/src/function.c (File Modified) 


terminal    2005/11/07 23:20:12 UTC	(20051107-3645)
  Log:
  removed redundant channel closed check
  

  Changes:	Modified:
  +1 -11	trunk/modules/chanserv/drop.c (File Modified) 


terminal    2005/11/07 23:11:40 UTC	(20051107-3643)
  Log:
  missed some commented vars i left for a compile check
  

  Changes:	Modified:
  +0 -3		trunk/modules/nickserv/drop.c (File Modified) 
  +0 -3		trunk/modules/userserv/drop.c (File Modified) 


terminal    2005/11/07 23:06:19 UTC	(20051107-3641)
  Log:
  move succession to myuser_delete and out of *s/drop.c.. also reworked it a bit.. (not tested)
  

  Changes:	Modified:
  +3 -33	trunk/modules/nickserv/drop.c (File Modified) 
  +3 -33	trunk/modules/userserv/drop.c (File Modified) 
  +57 -52	trunk/src/node.c (File Modified) 


alambert    2005/11/07 22:57:22 UTC	(20051107-3639)
  Log:
  When a channel has no founder, STOP -- don't play with possibly-bogus memory!

  Changes:	Modified:
  +1 -0		trunk/backend/mysql.c (File Modified) 
  +1 -0		trunk/backend/postgresql.c (File Modified) 


nenolod     2005/11/07 22:27:34 UTC	(20051107-3637)
  Log:
  fix drop in userserv too.

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


kog         2005/11/07 22:27:03 UTC	(20051107-3635)
  Log:
  iterator removing chanacs: now being passed two distinct node_ts for the LIST_FOREACH_SAFE
  

  Changes:	Modified:
  +2 -2		trunk/src/node.c (File Modified) 


alambert    2005/11/07 22:25:53 UTC	(20051107-3633)
  Log:
  NS DROP: use index 0 to go through the hash...how the hell did we miss this for so long?

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 


kog         2005/11/07 21:24:11 UTC	(20051107-3631)
  Log:
  propset ID
  

  Changes:	Modified:
  + -		trunk/modules/userserv/listchans.c  (Property Modified)


jilles      2005/11/07 14:47:19 UTC	(20051107-3629)
  Log:
  Revert check that was supposed to skip nodes with NULL
  mychan in mclist on expire_check. The logic of the check
  was reversed, causing it to skip all channels, and if a
  data structure is obviously corrupted it's not a good
  idea to silently continue (please tell me if there is
  a legitimate reason for a node in mclist to have a NULL
  mychan).
  

  Changes:	Modified:
  +0 -3		trunk/src/node.c (File Modified) 


alambert    2005/11/07 07:54:35 UTC	(20051107-3627)
  Log:
  authcookie_expire

  Changes:	Modified:
  +1 -1		trunk/include/authcookie.h (File Modified) 


pfish       2005/11/07 07:17:10 UTC	(20051107-3625)
  Log:
  Prevent a crash if mc is NULL.
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


pfish       2005/11/07 07:01:03 UTC	(20051107-3623)
  Log:
  Add xmlrpc/channel to example configs
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2005/11/07 06:50:31 UTC	(20051107-3621)
  Log:
  PostgreSQL: Wallops if we can't db_connect and we're connected so we don't fail silently.
  

  Changes:	Modified:
  +1 -0		trunk/backend/postgresql.c (File Modified) 


pfish       2005/11/07 06:45:30 UTC	(20051107-3619)
  Log:
  Fix postgresql support.
  

  Changes:	Modified:
  +7 -5		trunk/backend/postgresql.c (File Modified) 


nenolod     2005/11/07 01:30:17 UTC	(20051107-3617)
  Log:
  Fix another issue here.
  

  Changes:	Modified:
  +2 -2		trunk/src/node.c (File Modified) 


nenolod     2005/11/07 01:27:16 UTC	(20051107-3615)
  Log:
  Whoops.

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 


nenolod     2005/11/07 01:24:50 UTC	(20051107-3613)
  Log:
  We should use LIST_FOREACH_SAFE here, as we're getting fucked up dereferences and whatnot. Whoever wrote this code must have been stoned.
  

  Changes:	Modified:
  +2 -2		trunk/src/node.c (File Modified) 


alambert    2005/11/07 01:15:30 UTC	(20051107-3611)
  Log:
  expire_check(): we don't want to return here...

  Changes:	Modified:
  +0 -2		trunk/src/node.c (File Modified) 


jilles      2005/11/07 00:04:17 UTC	(20051107-3609)
  Log:
  Change database errors from LG_DEBUG to LG_ERROR.
  

  Changes:	Modified:
  +8 -8		trunk/backend/mysql.c (File Modified) 
  +5 -5		trunk/backend/postgresql.c (File Modified) 


jilles      2005/11/06 23:57:17 UTC	(20051106-3607)
  Log:
  Enable $Id$ expansion.
  

  Changes:	Modified:
  + -		trunk/Makefile.win32  (Property Modified)
  + -		trunk/autoconf/atheme-c.m4  (Property Modified)
  + -		trunk/crypto/posix.c  (Property Modified)
  + -		trunk/dbtool/dbtool.c  (Property Modified)
  + -		trunk/include/xmlrpc.h  (Property Modified)
  + -		trunk/libatheme/event.h  (Property Modified)
  + -		trunk/libatheme/org.atheme.claro.base.string  (Property Modified)
  + -		trunk/libatheme/win32.c  (Property Modified)
  + -		trunk/modules/operserv/modinspect.c  (Property Modified)
  + -		trunk/src/Manifest  (Property Modified)


jilles      2005/11/06 23:52:07 UTC	(20051106-3605)
  Log:
  Add command logging to Global.
  

  Changes:	Modified:
  +3 -0		trunk/modules/global/main.c (File Modified) 


jilles      2005/11/06 23:50:41 UTC	(20051106-3603)
  Log:
  Add +M umode to allow global notices.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/hyperion.c (File Modified) 


jilles      2005/11/06 23:36:34 UTC	(20051106-3601)
  Log:
  Add command logging to operserv.
  Most commands are CMDLOG_ADMIN; commands that only
  request information are CMDLOG_GET; jupe/akill are
  CMDLOG_SET.
  

  Changes:	Modified:
  +6 -0		trunk/modules/operserv/akill.c (File Modified) 
  +2 -0		trunk/modules/operserv/inject.c (File Modified) 
  +2 -0		trunk/modules/operserv/jupe.c (File Modified) 
  +1 -0		trunk/modules/operserv/mode.c (File Modified) 
  +2 -0		trunk/modules/operserv/modinspect.c (File Modified) 
  +1 -0		trunk/modules/operserv/modlist.c (File Modified) 
  +1 -0		trunk/modules/operserv/modload.c (File Modified) 
  +1 -0		trunk/modules/operserv/modrestart.c (File Modified) 
  +1 -0		trunk/modules/operserv/modunload.c (File Modified) 
  +10 -4	trunk/modules/operserv/noop.c (File Modified) 
  +1 -0		trunk/modules/operserv/raw.c (File Modified) 
  +1 -0		trunk/modules/operserv/rehash.c (File Modified) 
  +1 -0		trunk/modules/operserv/restart.c (File Modified) 
  +1 -0		trunk/modules/operserv/shutdown.c (File Modified) 
  +1 -0		trunk/modules/operserv/update.c (File Modified) 
  +1 -0		trunk/modules/operserv/uptime.c (File Modified) 


jilles      2005/11/06 23:34:16 UTC	(20051106-3599)
  Log:
  - Add another umode, +R (for squit)
  - Send an OPER for services so the oper privs show
    up in whois done by a +v user
  

  Changes:	Modified:
  +3 -1		trunk/protocol/hyperion.c (File Modified) 


nenolod     2005/11/06 23:14:26 UTC	(20051106-3597)
  Log:
  Remove code that we shouldn't be executing here.

  Changes:	Modified:
  +0 -4		trunk/src/authcookie.c (File Modified) 


jilles      2005/11/06 23:09:32 UTC	(20051106-3595)
  Log:
  Add +U to services umodes to make unkline possible.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/hyperion.c (File Modified) 


nenolod     2005/11/06 22:50:16 UTC	(20051106-3593)
  Log:
  Add missing stuff.

  Changes:	Modified:
  +6 -5		trunk/include/authcookie.h (File Modified) 


nenolod     2005/11/06 22:45:31 UTC	(20051106-3591)
  Log:
  Don't go on wild hashtable traverse operations in expire_check(). This may fix brian's crash, I do not know.

  Changes:	Modified:
  +26 -31	trunk/src/node.c (File Modified) 


alambert    2005/11/06 21:58:38 UTC	(20051106-3589)
  Log:
  atheme.logout: Find match for both ticket and user

  Changes:	Modified:
  +6 -6		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/06 21:56:43 UTC	(20051106-3587)
  Log:
  atheme.account.register: use user_find_named()

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/06 21:52:51 UTC	(20051106-3585)
  Log:
  authcookie: clean stale authcookies every ten minutes

  Changes:	Modified:
  +3 -0		trunk/src/atheme.c (File Modified) 
  +31 -1	trunk/src/authcookie.c (File Modified) 


jilles      2005/11/06 21:48:28 UTC	(20051106-3583)
  Log:
  Add command logging to nickserv.
  

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/drop.c (File Modified) 
  +6 -0		trunk/modules/nickserv/freeze.c (File Modified) 
  +3 -0		trunk/modules/nickserv/ghost.c (File Modified) 
  +6 -0		trunk/modules/nickserv/hold.c (File Modified) 
  +4 -0		trunk/modules/nickserv/identify.c (File Modified) 
  +2 -0		trunk/modules/nickserv/info.c (File Modified) 
  +4 -0		trunk/modules/nickserv/link.c (File Modified) 
  +5 -0		trunk/modules/nickserv/list.c (File Modified) 
  +19 -4	trunk/modules/nickserv/listchans.c (File Modified) 
  +5 -0		trunk/modules/nickserv/listmail.c (File Modified) 
  +7 -0		trunk/modules/nickserv/logout.c (File Modified) 
  +6 -0		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -0		trunk/modules/nickserv/register.c (File Modified) 
  +4 -2		trunk/modules/nickserv/resetpass.c (File Modified) 
  +2 -0		trunk/modules/nickserv/return.c (File Modified) 
  +4 -0		trunk/modules/nickserv/sendpass.c (File Modified) 
  +15 -0	trunk/modules/nickserv/set.c (File Modified) 
  +4 -0		trunk/modules/nickserv/status.c (File Modified) 
  +2 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +4 -0		trunk/modules/nickserv/verify.c (File Modified) 
  +8 -1		trunk/modules/nickserv/vhost.c (File Modified) 
  +1 -0		trunk/modules/userserv/drop.c (File Modified) 
  +1 -0		trunk/modules/userserv/register.c (File Modified) 


alambert    2005/11/06 21:40:08 UTC	(20051106-3581)
  Log:
  XMLRPC Explorer: fix a typo

  Changes:	Modified:
  +1 -1		trunk/contrib/xmlrpc_explorer.php (File Modified) 


jilles      2005/11/06 21:28:05 UTC	(20051106-3579)
  Log:
  Don't segfault on startup if a module in
  atheme.conf can't be found.
  

  Changes:	Modified:
  +2 -1		trunk/src/module.c (File Modified) 


nenolod     2005/11/06 20:37:21 UTC	(20051106-3577)
  Log:
  Close the connection after doing the write operation -- we cant persist like with PostgreSQL.

  Changes:	Modified:
  +4 -0		trunk/backend/mysql.c (File Modified) 


alambert    2005/11/06 20:09:38 UTC	(20051106-3575)
  Log:
  chanacs, metadata: improve handling of NULL parameters. another extension of brian's report.

  Changes:	Modified:
  +21 -0	trunk/src/node.c (File Modified) 


alambert    2005/11/06 20:01:31 UTC	(20051106-3573)
  Log:
  chanacs_add(): bail if mychan or myuser is NULL. Based on brian's bugreport against flatfile.

  Changes:	Modified:
  +6 -0		trunk/src/node.c (File Modified) 


jilles      2005/11/06 19:54:01 UTC	(20051106-3571)
  Log:
  Add function
  void logcommand(void *svs, user_t *source, int level, const char *fmt, ...);
  to log commands sent to services. void *svs is actually a service_t *.
  level is LOGCMD_*.
  

  Changes:	Modified:
  +8 -0		trunk/include/atheme.h (File Modified) 
  +1 -0		trunk/include/extern.h (File Modified) 
  +43 -0	trunk/src/function.c (File Modified) 


alambert    2005/11/06 19:51:50 UTC	(20051106-3569)
  Log:
  flatfile: Fix crash when mc is null when adding chanacs. Reported by brian.

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2005/11/06 19:36:39 UTC	(20051106-3567)
  Log:
  Stop querying the database (mysql or postgresql)
  if a query fails, until the end of the current
  operation.
  
  This stops wallops floods.
  

  Changes:	Modified:
  +8 -0		trunk/backend/mysql.c (File Modified) 
  +7 -0		trunk/backend/postgresql.c (File Modified) 


jilles      2005/11/06 14:17:51 UTC	(20051106-3565)
  Log:
  - Fix some too low parc for channel_mode() for
    JOIN/SJOIN/BURST
  - monkey/ultimate3/inspircd: fix too high parc
    for channel_mode() for MODE
  - unreal: don't do channel_mode() for an SJOIN
    that doesn't contain simple modes
  

  Changes:	Modified:
  +7 -7		trunk/protocol/asuka.c (File Modified) 
  +4 -4		trunk/protocol/bahamut.c (File Modified) 
  +7 -7		trunk/protocol/bircd.c (File Modified) 
  +7 -7		trunk/protocol/charybdis.c (File Modified) 
  +3 -3		trunk/protocol/hyperion.c (File Modified) 
  +2 -2		trunk/protocol/inspircd.c (File Modified) 
  +4 -4		trunk/protocol/monkey.c (File Modified) 
  +3 -3		trunk/protocol/plexus.c (File Modified) 
  +3 -3		trunk/protocol/ptlink.c (File Modified) 
  +7 -7		trunk/protocol/ratbox.c (File Modified) 
  +3 -3		trunk/protocol/scylla.c (File Modified) 
  +3 -3		trunk/protocol/shadowircd.c (File Modified) 
  +4 -4		trunk/protocol/ultimate3.c (File Modified) 
  +3 -3		trunk/protocol/undernet.c (File Modified) 
  +5 -4		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/11/06 10:13:36 UTC	(20051106-3563)
  Log:
  Forgot something when I applied the patch.

  Changes:	Modified:
  +2 -1		trunk/backend/postgresql.c (File Modified) 


pfish       2005/11/06 10:08:24 UTC	(20051106-3561)
  Log:
  Use is_ircop instead of is_sra
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 
  +1 -1		trunk/modules/userserv/listchans.c (File Modified) 


pfish       2005/11/06 10:03:16 UTC	(20051106-3559)
  Log:
  fix formatting here
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/listchans.c (File Modified) 


kog         2005/11/06 09:54:37 UTC	(20051106-3557)
  Log:
  MYACCESS -> LISTCHANS.
   - Allows SRAs to get access information about other users.
   - Edited comments to be more clear
   - Module load changes to confs
   - makefile updates
  
  

  Changes:	Modified:
  +2 -2		trunk/dist/example.conf (File Modified) 
  +2 -2		trunk/dist/example.userserv.conf (File Modified) 
  +11 -0	trunk/help/nickserv/listchans (File Added) 
  +0 -11	trunk/help/nickserv/myaccess (File Deleted) 
  +11 -0	trunk/help/userserv/listchans (File Added) 
  +0 -11	trunk/help/userserv/myaccess (File Deleted) 
  +1 -0		trunk/modules/nickserv/Makefile.in (File Modified) 
  +46 -23	trunk/modules/nickserv/listchans.c (File Modified) 
  +2 -1		trunk/modules/userserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/userserv/Makefile.win32 (File Modified) 
  +124 -0	trunk/modules/userserv/listchans.c (File Added) 
  +0 -98	trunk/modules/userserv/myaccess.c (File Deleted) 


pfish       2005/11/06 09:32:40 UTC	(20051106-3555)
  Log:
  blah

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/Makefile.win32 (File Modified) 


pfish       2005/11/06 09:30:37 UTC	(20051106-3553)
  Log:
  NickServ: Initial MYACCESS->LISTCHANS convert.
  

  Changes:	Modified:
  +102 -1	trunk/modules/nickserv/Makefile.in (File Modified) 
  + -		trunk/modules/nickserv/listchans.c (File Added) 
  +0 -98	trunk/modules/nickserv/myaccess.c (File Deleted) 


alambert    2005/11/06 09:11:45 UTC	(20051106-3551)
  Log:
  gen_salt(): remember to free() the result of gen_pw()

  Changes:	Modified:
  +2 -0		trunk/src/crypto.c (File Modified) 


nenolod     2005/11/06 08:33:31 UTC	(20051106-3549)
  Log:
  We can't use sendemail() on Windows, so surround it in an #ifndef _WIN32.

  Changes:	Modified:
  +6 -0		trunk/src/function.c (File Modified) 


nenolod     2005/11/06 08:28:03 UTC	(20051106-3547)
  Log:
  Update a few makefiles.

  Changes:	Modified:
  +2 -1		trunk/Makefile.win32 (File Modified) 
  +0 -1		trunk/libatheme/Makefile.win32 (File Modified) 


nenolod     2005/11/06 07:11:11 UTC	(20051106-3545)
  Log:
  MySQL is no longer experimental.

  Changes:	Modified:
  +3 -3		trunk/doc/SQL (File Modified) 


nenolod     2005/11/06 07:09:41 UTC	(20051106-3543)
  Log:
  Add advanced tip on switching from flatfile to SQL

  Changes:	Modified:
  +21 -0	trunk/doc/SQL (File Modified) 


nenolod     2005/11/06 06:48:05 UTC	(20051106-3541)
  Log:
  Merge othernet-SQL-transition patch for postgresql.

  Changes:	Modified:
  +30 -14	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/11/06 06:21:35 UTC	(20051106-3539)
  Log:
  Fix a crash when sts() is called with no active connection

  Changes:	Modified:
  +11 -2	trunk/libatheme/datastream.c (File Modified) 


pfish       2005/11/06 06:17:44 UTC	(20051106-3537)
  Log:
  Oops. Typo fix.
  

  Changes:	Modified:
  +1 -1		trunk/backend/mysql.c (File Modified) 


pfish       2005/11/06 06:13:39 UTC	(20051106-3535)
  Log:
  Enhance. Enhance. Enhance..
  

  Changes:	Modified:
  +10 -8	trunk/backend/mysql.c (File Modified) 


alambert    2005/11/06 05:48:20 UTC	(20051106-3533)
  Log:
  Adjust NICKLEN, introduce CHANNELLEN as temporary fix

  Changes:	Modified:
  +2 -1		trunk/include/common.h (File Modified) 
  +1 -1		trunk/src/node.c (File Modified) 


nenolod     2005/11/06 05:46:07 UTC	(20051106-3531)
  Log:
  use mysql_server_init instead so we can work with mysql < 4.1

  Changes:	Modified:
  +2 -1		trunk/backend/mysql.c (File Modified) 


nenolod     2005/11/06 05:38:06 UTC	(20051106-3529)
  Log:
  stability fix

  Changes:	Modified:
  +2 -4		trunk/backend/mysql.c (File Modified) 


nenolod     2005/11/06 05:26:53 UTC	(20051106-3527)
  Log:
  use mysql_library_init() to make sure we are coming up properly

  Changes:	Modified:
  +51 -64	trunk/backend/mysql.c (File Modified) 


alambert    2005/11/06 04:14:43 UTC	(20051106-3525)
  Log:
  XMLRPC: change e-mail error message

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/11/06 04:10:33 UTC	(20051106-3523)
  Log:
  XMLRPC: properly quit on error -7 (if first eligible function returns XMLRPC_STOP

  Changes:	Modified:
  +2 -1		trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/11/06 03:05:01 UTC	(20051106-3521)
  Log:
  beu's escape_string() routine was the reason why mysql did not work properly

  Changes:	Modified:
  +38 -39	trunk/backend/mysql.c (File Modified) 


alambert    2005/11/06 03:02:04 UTC	(20051106-3519)
  Log:
  Honor the SECURE option

  Changes:	Modified:
  +8 -0		trunk/src/ptasks.c (File Modified) 


nenolod     2005/11/06 02:07:44 UTC	(20051106-3517)
  Log:
  Malformed query caused memory corruption here.

  Changes:	Modified:
  +1 -1		trunk/backend/mysql.c (File Modified) 


nenolod     2005/11/06 02:04:17 UTC	(20051106-3515)
  Log:
  Don't use TRUNCATE under MySQL -- it's not transaction safe.

  Changes:	Modified:
  +8 -10	trunk/backend/mysql.c (File Modified) 


alambert    2005/11/06 01:58:47 UTC	(20051106-3513)
  Log:
  XMLRPC: test.method improvement

  Changes:	Modified:
  +6 -1		trunk/modules/xmlrpc/main.c (File Modified) 


alambert    2005/11/06 01:49:43 UTC	(20051106-3511)
  Log:
  XMLRPC: be sure we error out.

  Changes:	Modified:
  +2 -1		trunk/src/xmlrpc.c (File Modified) 


alambert    2005/11/06 01:40:16 UTC	(20051106-3509)
  Log:
  XMLRPC: allow functions to be called without arguments, per spec

  Changes:	Modified:
  +0 -1		trunk/doc/XMLRPC (File Modified) 
  +9 -17	trunk/src/xmlrpc.c (File Modified) 


alambert    2005/11/06 01:33:33 UTC	(20051106-3507)
  Log:
  XMLRPC: error if no arguments are provided. Technically, we should accept no-argument commands...

  Changes:	Modified:
  +1 -0		trunk/src/xmlrpc.c (File Modified) 


alambert    2005/11/05 23:30:32 UTC	(20051105-3505)
  Log:
  chanacs_find_by_user: use strlcpy

  Changes:	Modified:
  +1 -2		trunk/src/node.c (File Modified) 


alambert    2005/11/05 23:25:35 UTC	(20051105-3503)
  Log:
  XMLRPC: library errors are now < 0; our errors >= 0

  Changes:	Modified:
  +8 -8		trunk/doc/XMLRPC (File Modified) 
  +8 -8		trunk/src/xmlrpc.c (File Modified) 


alambert    2005/11/05 23:21:07 UTC	(20051105-3501)
  Log:
  authcookie_destroy(): remove extra free

  Changes:	Modified:
  +0 -1		trunk/src/authcookie.c (File Modified) 


alambert    2005/11/05 23:09:17 UTC	(20051105-3499)
  Log:
  authcookie_validate(): don't take the first cookie matching myuser; take the first that works.

  Changes:	Modified:
  +2 -2		trunk/src/authcookie.c (File Modified) 


pfish       2005/11/05 23:09:01 UTC	(20051105-3497)
  Log:
  OperServ AKILL: Oops, remove comment.
  

  Changes:	Modified:
  +0 -1		trunk/modules/operserv/akill.c (File Modified) 


pfish       2005/11/05 23:07:34 UTC	(20051105-3495)
  Log:
  OperServ AKILL: Check if target is a internal client.
  

  Changes:	Modified:
  +3 -0		trunk/modules/operserv/akill.c (File Modified) 


alambert    2005/11/05 23:06:49 UTC	(20051105-3493)
  Log:
  uplink_delete(): remember to node_free()

  Changes:	Modified:
  +1 -0		trunk/src/node.c (File Modified) 


alambert    2005/11/05 23:04:55 UTC	(20051105-3491)
  Log:
  OS NOOP: remember to node_free() and BlockHeapFree()

  Changes:	Modified:
  +4 -0		trunk/modules/operserv/noop.c (File Modified) 


pfish       2005/11/05 21:39:15 UTC	(20051105-3489)
  Log:
  Clean up the AKILL code that w00t converted to fcommands.
  This should work now..
  

  Changes:	Modified:
  +18 -19	trunk/modules/operserv/akill.c (File Modified) 


w00t        2005/11/05 15:03:55 UTC	(20051105-3487)
  Log:
  Note to self: Update this.

  Changes:	Modified:
  +2 -0		trunk/doc/example_module.c (File Modified) 


alambert    2005/11/05 09:46:05 UTC	(20051105-3485)
  Log:
  CS INVITE: now, you can only invite yourself. Fixes spamming abuse issue.

  Changes:	Modified:
  +1 -5		trunk/help/cservice/invite (File Modified) 


alambert    2005/11/05 09:45:42 UTC	(20051105-3483)
  Log:
  CS INVITE: now, you can only invite yourself. Fixes spamming abuse issue.

  Changes:	Modified:
  +4 -17	trunk/modules/chanserv/invite.c (File Modified) 


w00t        2005/11/05 08:03:39 UTC	(20051105-3481)
  Log:
  Err, try again?

  Changes:	Modified:
  +1 -1		trunk/src/commandtree.c (File Modified) 


w00t        2005/11/05 07:54:22 UTC	(20051105-3479)
  Log:
  Fix a NICE fcommand segfault if fcommand doesn't exist, etc.

  Changes:	Modified:
  +1 -1		trunk/src/commandtree.c (File Modified) 


w00t        2005/11/05 07:24:34 UTC	(20051105-3477)
  Log:
  AKILL now split into seperate functions and using fcommand.

  Changes:	Modified:
  +225 -217	trunk/modules/operserv/akill.c (File Modified) 


alambert    2005/11/05 06:54:57 UTC	(20051105-3475)
  Log:
  XMLRPC: fixes for atheme.*.metadata.get

  Changes:	Modified:
  +8 -1		trunk/modules/xmlrpc/account.c (File Modified) 
  +8 -1		trunk/modules/xmlrpc/channel.c (File Modified) 


alambert    2005/11/05 06:46:13 UTC	(20051105-3473)
  Log:
  authcookie_destroy(): remember to node_free()

  Changes:	Modified:
  +1 -0		trunk/src/authcookie.c (File Modified) 


w00t        2005/11/05 06:40:44 UTC	(20051105-3471)
  Log:
  ms_ignore_ignore -> ms_ignore_clear to be in-line with the others. Minute change.

  Changes:	Modified:
  +3 -3		trunk/modules/memoserv/ignore.c (File Modified) 


w00t        2005/11/05 06:23:46 UTC	(20051105-3469)
  Log:
  Finally finished XOP rework (DEL still hadn't been fixed.)

  Changes:	Modified:
  +32 -112	trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2005/11/05 05:45:31 UTC	(20051105-3467)
  Log:
  Formatting niceities.

  Changes:	Modified:
  +1 -0		trunk/modules/chanserv/main.c (File Modified) 


nenolod     2005/11/05 05:43:49 UTC	(20051105-3465)
  Log:
  Perhaps this will make the service come back.

  Changes:	Modified:
  +36 -2	trunk/modules/chanserv/main.c (File Modified) 


nenolod     2005/11/05 04:59:56 UTC	(20051105-3463)
  Log:
  Warning fix.

  Changes:	Modified:
  +1 -1		trunk/src/module.c (File Modified) 


nenolod     2005/11/05 04:29:26 UTC	(20051105-3461)
  Log:
  Remove the 0.2 ROADMAP from our documentation bin.
  

  Changes:	Modified:
  +0 -37	trunk/doc/ROADMAP (File Deleted) 


pfish       2005/11/04 08:30:57 UTC	(20051104-3459)
  Log:
  UserServ: Use a help file in userserv/ instead of nickserv.
  

  Changes:	Modified:
  +10 -0	trunk/help/userserv/return (File Added) 
  +1 -1		trunk/modules/userserv/return.c (File Modified) 


pfish       2005/11/04 07:04:27 UTC	(20051104-3457)
  Log:
  UserServ: Update private:host:vhost metadata when a vhost is assigned/restored
  

  Changes:	Modified:
  +22 -0	trunk/modules/userserv/vhost.c (File Modified) 


alambert    2005/11/04 06:58:08 UTC	(20051104-3455)
  Log:
  XMLRPC: fix up some method arguments

  Changes:	Modified:
  +3 -3		trunk/contrib/xmlrpc_explorer.php (File Modified) 


pfish       2005/11/04 06:57:27 UTC	(20051104-3453)
  Log:
  Update private:host:vhost metadata when a vhost is assigned/restored
  

  Changes:	Modified:
  +22 -0	trunk/modules/nickserv/vhost.c (File Modified) 


alambert    2005/11/04 06:56:15 UTC	(20051104-3451)
  Log:
  XMLRPC: a lot of folks are using the explorer script, add it to contrib/

  Changes:	Modified:
  +99 -0	trunk/contrib/xmlrpc_explorer.php (File Added) 


alambert    2005/11/04 06:47:38 UTC	(20051104-3449)
  Log:
  XMLRPC: rename atheme.x.y_metadata to atheme.x.metadata.y

  Changes:	Modified:
  +12 -12	trunk/modules/xmlrpc/account.c (File Modified) 
  +12 -12	trunk/modules/xmlrpc/channel.c (File Modified) 


alambert    2005/11/04 06:41:27 UTC	(20051104-3447)
  Log:
  XMLRPC: add atheme.account.get_metadata. not yet tested.

  Changes:	Modified:
  +48 -0	trunk/modules/xmlrpc/account.c (File Modified) 
  +48 -0	trunk/modules/xmlrpc/channel.c (File Modified) 


pfish       2005/11/04 00:55:48 UTC	(20051104-3445)
  Log:
  Let's be consistent with our wallops notifications.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +2 -2		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +2 -2		trunk/modules/userserv/resetpass.c (File Modified) 


jilles      2005/11/03 23:52:38 UTC	(20051103-3443)
  Log:
  Allow server notices and notices to channels in P10 protocol modules.
  

  Changes:	Modified:
  +7 -4		trunk/protocol/asuka.c (File Modified) 
  +7 -4		trunk/protocol/bircd.c (File Modified) 
  +7 -4		trunk/protocol/undernet.c (File Modified) 


jilles      2005/11/03 23:37:46 UTC	(20051103-3441)
  Log:
  Allow NULL target for floodcheck(). This will cause
  any warnings to be sent from services's server name.
  

  Changes:	Modified:
  +14 -7	trunk/src/ptasks.c (File Modified) 


jilles      2005/11/03 23:24:58 UTC	(20051103-3439)
  Log:
  Make notice(me.name, ...) work again for ratbox, charybdis and ircnet.
  

  Changes:	Modified:
  +6 -3		trunk/protocol/charybdis.c (File Modified) 
  +6 -3		trunk/protocol/ircnet.c (File Modified) 
  +6 -3		trunk/protocol/ratbox.c (File Modified) 


nenolod     2005/11/03 23:01:23 UTC	(20051103-3437)
  Log:
  Seed the random number generator so that systems with shitty hardware 
  don't generate predictable keys.
  

  Changes:	Modified:
  +2 -0		trunk/src/function.c (File Modified) 


jilles      2005/11/03 22:25:35 UTC	(20051103-3435)
  Log:
  general::secure can't be changed on rehash for now
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


jilles      2005/11/03 22:17:00 UTC	(20051103-3433)
  Log:
  - Change command_exec() and fcommand_exec() first parameter to service_t,
    so they also work properly with general::secure enabled.
  - Add service name to "denied command" snoop channel message.
  

  Changes:	Modified:
  +1 -1		trunk/contrib/ircd_catserv.c (File Modified) 
  +1 -1		trunk/include/atheme.h (File Modified) 
  +2 -2		trunk/include/commandtree.h (File Modified) 
  +1 -1		trunk/modules/chanserv/clear.c (File Modified) 
  +2 -2		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/modules/global/main.c (File Modified) 
  +3 -3		trunk/modules/helpserv/main.c (File Modified) 
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/main.c (File Modified) 
  +1 -1		trunk/modules/nickserv/main.c (File Modified) 
  +1 -1		trunk/modules/operserv/main.c (File Modified) 
  +1 -1		trunk/modules/userserv/main.c (File Modified) 
  +7 -7		trunk/src/commandtree.c (File Modified) 


jilles      2005/11/03 12:11:14 UTC	(20051103-3431)
  Log:
  Free u->server->userlist node in user_delete().
  

  Changes:	Modified:
  +1 -0		trunk/src/node.c (File Modified) 


jilles      2005/11/03 12:06:45 UTC	(20051103-3429)
  Log:
  Free the nodes for recvq/sendq on connection_close().
  

  Changes:	Modified:
  +2 -0		trunk/libatheme/connection.c (File Modified) 


pfish       2005/11/03 07:06:37 UTC	(20051103-3427)
  Log:
  Shorten up notice (Last seen address now becomes Last login from)
  

  Changes:	Modified:
  +2 -2		trunk/modules/nickserv/info.c (File Modified) 
  +2 -2		trunk/modules/userserv/info.c (File Modified) 


pfish       2005/11/03 07:00:06 UTC	(20051103-3425)
  Log:
  NickServ/UserServ: Keep track of last seen vhosts for users to be displayed in INFO, and actual hosts for opers.
  

  Changes:	Modified:
  +14 -0	trunk/modules/nickserv/identify.c (File Modified) 
  +5 -0		trunk/modules/nickserv/info.c (File Modified) 
  +14 -0	trunk/modules/nickserv/register.c (File Modified) 
  +5 -0		trunk/modules/userserv/info.c (File Modified) 
  +13 -0	trunk/modules/userserv/login.c (File Modified) 
  +13 -0	trunk/modules/userserv/register.c (File Modified) 


jilles      2005/11/03 02:47:40 UTC	(20051103-3423)
  Log:
  - /stats h shows all possible uplinks (similar to /stats c)
  - /stats t includes 'T' before each RPL_STATSDEBUG data item
  - add /stats v, shows ircops current uplink and connection
    duration (no sendq info yet as that'd need tweaks to or deep
    grovelling in claro)
  

  Changes:	Modified:
  +33 -14	trunk/src/ptasks.c (File Modified) 


jilles      2005/11/03 01:45:06 UTC	(20051103-3421)
  Log:
  Free the metadata in myuser_delete().
  

  Changes:	Modified:
  +7 -0		trunk/src/node.c (File Modified) 


jilles      2005/11/03 01:35:02 UTC	(20051103-3419)
  Log:
  Free the nodes in metadata_delete().
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


alambert    2005/11/03 01:15:02 UTC	(20051103-3417)
  Log:
  Add atheme.{account,channel}.delete_metadata

  Changes:	Modified:
  +63 -0	trunk/modules/xmlrpc/account.c (File Modified) 
  +80 -2	trunk/modules/xmlrpc/channel.c (File Modified) 


jilles      2005/11/03 01:14:14 UTC	(20051103-3415)
  Log:
  Clear out all mu->logins (including ircd_on_logout())
  on myuser_delete().
  

  Changes:	Modified:
  +0 -3		trunk/modules/nickserv/drop.c (File Modified) 
  +0 -3		trunk/modules/userserv/drop.c (File Modified) 
  +11 -0	trunk/src/node.c (File Modified) 


jilles      2005/11/02 23:23:21 UTC	(20051102-3413)
  Log:
  Update lastlogin time in expire check if they
  are logged in.
  

  Changes:	Modified:
  +11 -0	trunk/src/node.c (File Modified) 


nenolod     2005/11/02 23:08:29 UTC	(20051102-3411)
  Log:
  Fix some more bugs and issues with the XMLRPC implementation.
  

  Changes:	Modified:
  +2 -0		trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/11/02 22:53:00 UTC	(20051102-3409)
  Log:
  Fix compile error. Reported by eggy.
  

  Changes:	Modified:
  +1 -1		trunk/crypto/Makefile.in (File Modified) 


nenolod     2005/11/02 22:51:12 UTC	(20051102-3407)
  Log:
  More accurate handling of the HTTP 1.1 specification here.
  

  Changes:	Modified:
  +13 -3	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/11/02 19:34:33 UTC	(20051102-3405)
  Log:
  XMLRPC fixes
  

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/main.c (File Modified) 
  +1 -1		trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/11/02 19:09:20 UTC	(20051102-3403)
  Log:
  Crypto API support for RETURN.
  

  Changes:	Modified:
  +10 -2	trunk/modules/nickserv/return.c (File Modified) 
  +10 -2	trunk/modules/userserv/return.c (File Modified) 


nenolod     2005/11/02 18:52:35 UTC	(20051102-3401)
  Log:
  Compile crypto modules on *nix. On windows, we don't care at the moment. Perhaps in 1.0.
  

  Changes:	Modified:
  +1 -1		trunk/Makefile.in (File Modified) 


nenolod     2005/11/02 18:51:40 UTC	(20051102-3399)
  Log:
  More stuff related to Crypto-API.
  

  Changes:	Modified:
  +1 -0		trunk/include/crypto.h (File Modified) 
  +1 -0		trunk/src/atheme.c (File Modified) 
  +1 -0		trunk/src/crypto.c (File Modified) 


nenolod     2005/11/02 18:50:19 UTC	(20051102-3397)
  Log:
  Crypto API support for register commands.
  

  Changes:	Modified:
  +13 -1	trunk/modules/nickserv/register.c (File Modified) 
  +10 -1	trunk/modules/userserv/register.c (File Modified) 


nenolod     2005/11/02 18:32:36 UTC	(20051102-3395)
  Log:
  Add more crypto library routines.
  

  Changes:	Modified:
  +4 -2		trunk/include/crypto.h (File Modified) 
  +26 -0	trunk/src/crypto.c (File Modified) 


nenolod     2005/11/02 17:54:21 UTC	(20051102-3393)
  Log:
  Use m->handle in module_locate_symbol().
  

  Changes:	Modified:
  +1 -1		trunk/src/module.c (File Modified) 


jilles      2005/11/02 01:58:18 UTC	(20051102-3391)
  Log:
  Treat IPs of users of "0", "0.0.0.0" and "255.255.255.255"
  as if no IP were specified. ("0" is used by TS6 for this.)
  

  Changes:	Modified:
  +1 -1		trunk/src/node.c (File Modified) 


nenolod     2005/11/02 01:01:37 UTC	(20051102-3389)
  Log:
  Add MU_CRYPTPASS, to designate an encrypted password.
  

  Changes:	Modified:
  +1 -0		trunk/include/account.h (File Modified) 


pfish       2005/11/01 09:26:18 UTC	(20051101-3387)
  Log:
  Update both example configs with RETURN.
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2005/11/01 09:21:18 UTC	(20051101-3385)
  Log:
  Port NickServ RETURN to UserServ.
  

  Changes:	Modified:
  +1 -0		trunk/modules/userserv/Makefile.in (File Modified) 
  +1 -0		trunk/modules/userserv/Makefile.win32 (File Modified) 
  +102 -0	trunk/modules/userserv/return.c (File Added) 


pfish       2005/11/01 09:16:16 UTC	(20051101-3383)
  Log:
  Bring SRA protection over to UserServ, also fix some crashes when nicksvs was used in UserServ.
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 
  +6 -0		trunk/modules/userserv/resetpass.c (File Modified) 
  +6 -0		trunk/modules/userserv/sendpass.c (File Modified) 


pfish       2005/11/01 09:10:19 UTC	(20051101-3381)
  Log:
  More services root protection: Only SRA's can reset/sendpass another roots nickname.
  You can't RETURN a SRA's nickname.
  

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/resetpass.c (File Modified) 
  +6 -0		trunk/modules/nickserv/return.c (File Modified) 
  +6 -0		trunk/modules/nickserv/sendpass.c (File Modified) 


pfish       2005/11/01 08:58:37 UTC	(20051101-3379)
  Log:
  Bugfix: Fix invalid param
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


nenolod     2005/11/01 03:45:37 UTC	(20051101-3377)
  Log:
  Sync athemenet patches with trunk, new features:
  - the restart delay has been removed since it was broken
  - we now attempt to use dlinfo() in the module loader to find the real 
  point in memory where the module is loaded.
  

  Changes:	Modified:
  +106 -3	trunk/configure (File Modified) 
  +2 -1		trunk/configure.ac (File Modified) 
  +0 -5		trunk/dist/example.conf (File Modified) 
  +0 -5		trunk/dist/example.userserv.conf (File Modified) 
  +1 -0		trunk/include/module.h (File Modified) 
  +6 -0		trunk/include/sysconf.h.in (File Modified) 
  +4 -0		trunk/libatheme/stdinc.h (File Modified) 
  +1 -1		trunk/modules/operserv/restart.c (File Modified) 
  +21 -7	trunk/src/module.c (File Modified) 


nenolod     2005/11/01 03:22:07 UTC	(20051101-3375)
  Log:
  - Do not change a channel from a founder to a successor if they are the same. Drop it instead.
  

  Changes:	Modified:
  +1 -1		trunk/src/node.c (File Modified) 


nenolod     2005/11/01 02:55:57 UTC	(20051101-3373)
  Log:
  - Change name of the SQL database schema for PostgreSQL.
  - Also add an $Id$ tag there.
  

  Changes:	Modified:
  +3 -1		trunk/doc/SQL (File Modified) (Property Modified)


pfish       2005/11/01 00:33:18 UTC	(20051101-3371)
  Log:
  - Don't allow a SRA nickname to be dropped.
  - Update freeze SRA return message.
  

  Changes:	Modified:
  +5 -0		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/nickserv/freeze.c (File Modified) 
  +6 -0		trunk/modules/userserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/freeze.c (File Modified) 


jilles      2005/10/31 10:36:48 UTC	(20051031-3369)
  Log:
  Oops, make sure MODE +o changes are properly reversed
  when SECURE is enabled.
  

  Changes:	Modified:
  +1 -1		trunk/src/cmode.c (File Modified) 


jilles      2005/10/31 10:05:05 UTC	(20051031-3367)
  Log:
  Expand Id keyword.
  

  Changes:	Modified:
  + -		trunk/modules/xmlrpc/channel.c  (Property Modified)


pfish       2005/10/31 09:55:10 UTC	(20051031-3365)
  Log:
  ChanServ LIST:
  - Show marked and frozen channels.
  

  Changes:	Modified:
  +15 -3	trunk/modules/chanserv/list.c (File Modified) 


pfish       2005/10/31 09:43:23 UTC	(20051031-3363)
  Log:
  Put operinfo (freeze/mark) data below flags, and add end of info notice.
  

  Changes:	Modified:
  +4 -2		trunk/modules/chanserv/info.c (File Modified) 


pfish       2005/10/31 09:26:19 UTC	(20051031-3361)
  Log:
  NickServ LIST: Many logic improvments/bugfixes:
  Fix match count
  Show all properties of a nickname instead of just one 
  

  Changes:	Modified:
  +24 -11	trunk/modules/nickserv/list.c (File Modified) 


alambert    2005/10/31 09:19:01 UTC	(20051031-3359)
  Log:
  account.register: a little more sanity checking

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/10/31 09:13:23 UTC	(20051031-3357)
  Log:
  account.register: Fix activation required message.

  Changes:	Modified:
  +3 -3		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/10/31 09:07:21 UTC	(20051031-3355)
  Log:
  account.register: we don't care which user; don't bother storing it

  Changes:	Modified:
  +1 -2		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/10/31 09:04:23 UTC	(20051031-3353)
  Log:
  XMLRPC: slightly better input sanity-checking. This really needs to be improved...

  Changes:	Modified:
  +8 -5		trunk/modules/xmlrpc/account.c (File Modified) 
  +3 -1		trunk/modules/xmlrpc/channel.c (File Modified) 


alambert    2005/10/31 06:10:32 UTC	(20051031-3351)
  Log:
  XMLRPC: add channel management

  Changes:	Modified:
  +2 -1		trunk/modules/xmlrpc/Makefile.in (File Modified) 
  +2 -1		trunk/modules/xmlrpc/Makefile.win32 (File Modified) 
  +206 -0	trunk/modules/xmlrpc/channel.c (File Added) 


nenolod     2005/10/31 04:04:44 UTC	(20051031-3349)
  Log:
  Include updates.
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +2 -2		trunk/include/module.h (File Modified) 
  +26 -19	trunk/include/xmlrpc.h (File Modified) 


nenolod     2005/10/31 04:04:34 UTC	(20051031-3347)
  Log:
  src/match.c: Remove the const restriction as it was ignored anyway.
  

  Changes:	Modified:
  +3 -3		trunk/src/match.c (File Modified) 


nenolod     2005/10/31 03:56:31 UTC	(20051031-3345)
  Log:
  Update .depend
  

  Changes:	Modified:
  +225 -153	trunk/src/.depend (File Modified) 


nenolod     2005/10/31 03:55:46 UTC	(20051031-3343)
  Log:
  protocol/ultimate3: fix a mistake i made with the previous fix
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 


nenolod     2005/10/31 03:54:48 UTC	(20051031-3341)
  Log:
  protocol/ultimate3: fix build error -- seems like someone started doing something but forgot to finish
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ultimate3.c (File Modified) 


nenolod     2005/10/31 03:52:12 UTC	(20051031-3339)
  Log:
  protocol/ratbox: fix nested declarations
  

  Changes:	Modified:
  +0 -3		trunk/protocol/ratbox.c (File Modified) 


nenolod     2005/10/31 03:51:25 UTC	(20051031-3337)
  Log:
  protocol/charybdis: fix nested declarations
  

  Changes:	Modified:
  +0 -3		trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/10/31 03:48:14 UTC	(20051031-3335)
  Log:
  MemoServ: Various cleanups --
  - don't use link as a variable name, it's a POSIX reserved word
  - fix comparisons between signed and unsigned values
  - fix invalid usage of free()
  - fix improper use of uninitialized objects
  

  Changes:	Modified:
  +2 -2		trunk/modules/memoserv/delete.c (File Modified) 
  +10 -11	trunk/modules/memoserv/forward.c (File Modified) 
  +4 -4		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 
  +0 -1		trunk/modules/memoserv/send.c (File Modified) 


nenolod     2005/10/31 03:41:33 UTC	(20051031-3333)
  Log:
  XMLRPC: remove redundant metadata_t *md declaration which was nested
  

  Changes:	Modified:
  +0 -2		trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/10/31 03:40:31 UTC	(20051031-3331)
  Log:
  Duplicate declaration metadata_t *md in (NS|US)::Verify
  

  Changes:	Modified:
  +0 -2		trunk/modules/nickserv/verify.c (File Modified) 
  +0 -2		trunk/modules/userserv/verify.c (File Modified) 


nenolod     2005/10/31 03:38:12 UTC	(20051031-3329)
  Log:
  Missing extern declaration for is_internal_client().
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 


nenolod     2005/10/31 03:36:11 UTC	(20051031-3327)
  Log:
  pedanticy fixes
  

  Changes:	Modified:
  +20 -13	trunk/backend/flatfile.c (File Modified) 
  +13 -7	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/10/31 03:27:49 UTC	(20051031-3325)
  Log:
  Code cleanups to claro-base.
  

  Changes:	Modified:
  +1 -2		trunk/libatheme/balloc.c (File Modified) 
  +0 -1		trunk/libatheme/claro.c (File Modified) 
  +0 -1		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +18 -18	trunk/libatheme/sockio.c (File Modified) 
  +1 -1		trunk/libatheme/sockio.h (File Modified) 
  +1 -0		trunk/libatheme/stdinc.h (File Modified) 


nenolod     2005/10/31 03:18:47 UTC	(20051031-3323)
  Log:
  Remove the callback API. We don't use it.
  

  Changes:	Modified:
  +0 -1		trunk/libatheme/Makefile.in (File Modified) 
  +0 -180	trunk/libatheme/callback.c (File Deleted) 
  +0 -34	trunk/libatheme/callback.h (File Deleted) 


jilles      2005/10/31 02:01:47 UTC	(20051031-3321)
  Log:
  In sendq_flush() do not try further chunks if write()
  returns an incomplete or error result.
  

  Changes:	Modified:
  +2 -3		trunk/libatheme/datastream.c (File Modified) 


alambert    2005/10/31 01:27:58 UTC	(20051031-3319)
  Log:
  authcookie_find(): fix typo -- thanks nenolod

  Changes:	Modified:
  +2 -2		trunk/src/authcookie.c (File Modified) 


alambert    2005/10/31 01:16:53 UTC	(20051031-3317)
  Log:
  authcookie_find(): allow locating by *both* myuser and ticket

  Changes:	Modified:
  +19 -4	trunk/src/authcookie.c (File Modified) 


jilles      2005/10/31 01:04:26 UTC	(20051031-3315)
  Log:
  I know count has to go away here.
  

  Changes:	Modified:
  +0 -1		trunk/modules/chanserv/Makefile.win32 (File Modified) 


jilles      2005/10/31 00:55:58 UTC	(20051031-3313)
  Log:
  Better one-line description (for /cs help).
  

  Changes:	Modified:
  +1 -1		trunk/contrib/cs_count.c (File Modified) 


jilles      2005/10/31 00:50:59 UTC	(20051031-3311)
  Log:
  Move /cs count to contrib.
  

  Changes:	Modified:
  + -		trunk/contrib/cs_count.c (File Added) 
  +0 -2		trunk/dist/example.conf (File Modified) 
  +0 -2		trunk/dist/example.userserv.conf (File Modified) 
  +0 -1		trunk/modules/chanserv/Makefile.in (File Modified) 
  +0 -101	trunk/modules/chanserv/count.c (File Deleted) 


alambert    2005/10/31 00:28:57 UTC	(20051031-3309)
  Log:
  atheme.login: update mu->lastlogin on XML-RPC login

  Changes:	Modified:
  +3 -0		trunk/modules/xmlrpc/account.c (File Modified) 


jilles      2005/10/31 00:24:06 UTC	(20051031-3307)
  Log:
  - Properly cycle through all the uplinks
  - Make uplink ping timeouts work
  - Make uplink reconnection work better
  

  Changes:	Modified:
  +15 -8	trunk/src/packet.c (File Modified) 
  +9 -6		trunk/src/uplink.c (File Modified) 


alambert    2005/10/31 00:19:14 UTC	(20051031-3305)
  Log:
  authcookie: Make authcookie_create() return an authcookie_t pointer

  Changes:	Modified:
  +1 -1		trunk/include/authcookie.h (File Modified) 
  +4 -1		trunk/modules/xmlrpc/account.c (File Modified) 
  +3 -3		trunk/src/authcookie.c (File Modified) 


alambert    2005/10/30 23:36:28 UTC	(20051030-3303)
  Log:
  CS COUNT: always require ACLVIEW privilege -- don't let opers override (consistent with XOP LIST)

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/count.c (File Modified) 


alambert    2005/10/30 23:35:51 UTC	(20051030-3301)
  Log:
  CS COUNT: add AKICK; use switch instead of if

  Changes:	Modified:
  +22 -11	trunk/modules/chanserv/count.c (File Modified) 


jilles      2005/10/30 22:25:26 UTC	(20051030-3299)
  Log:
  Show all uplinks in /stats c (ircops only and no ips).
  

  Changes:	Modified:
  +9 -1		trunk/src/ptasks.c (File Modified) 


alambert    2005/10/30 21:54:45 UTC	(20051030-3297)
  Log:
  XMLRPC: rename register_account to account.register; same with verify_account

  Changes:	Modified:
  +8 -8		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/10/30 21:51:26 UTC	(20051030-3295)
  Log:
  atheme.account.set_metadata: add length checking

  Changes:	Modified:
  +2 -1		trunk/modules/xmlrpc/account.c (File Modified) 


alambert    2005/10/30 21:25:29 UTC	(20051030-3293)
  Log:
  SET PROPERTY: fix off-by-one in mdlimit

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/modules/nickserv/set.c (File Modified) 


alambert    2005/10/30 21:23:32 UTC	(20051030-3291)
  Log:
  XMLRPC atheme.account.set_metadata: don't let users set metadata with keys containing ':'; enforce metadata limit.

  Changes:	Modified:
  +14 -0	trunk/modules/xmlrpc/account.c (File Modified) 


jilles      2005/10/30 20:37:14 UTC	(20051030-3289)
  Log:
  Change handling of the snoop channel. Join it with all
  services when it's created on the ircd side, and also
  with newly added services. Make changing general::chan
  and rehashing work.
  

  Changes:	Modified:
  +2 -0		trunk/include/extern.h (File Modified) 
  +20 -4	trunk/src/conf.c (File Modified) 
  +3 -0		trunk/src/node.c (File Modified) 
  +45 -2	trunk/src/services.c (File Modified) 
  +5 -0		trunk/src/servtree.c (File Modified) 


alambert    2005/10/30 07:48:59 UTC	(20051030-3287)
  Log:
  add note to gen_pw() reminding users to free()

  Changes:	Modified:
  +3 -0		trunk/src/function.c (File Modified) 


alambert    2005/10/30 07:45:20 UTC	(20051030-3285)
  Log:
  NS RETURN: fix memory leak

  Changes:	Modified:
  +5 -1		trunk/modules/nickserv/return.c (File Modified) 


alambert    2005/10/30 06:31:44 UTC	(20051030-3283)
  Log:
  SRA: Make sure we know whether to look at sra->myuser or sra->name! Crash reported by <matt@stormirc.net>.

  Changes:	Modified:
  +6 -2		trunk/src/node.c (File Modified) 


alambert    2005/10/30 05:44:02 UTC	(20051030-3281)
  Log:
  ChanServ: minor cleanups

  Changes:	Modified:
  +5 -4		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/30 05:41:37 UTC	(20051030-3279)
  Log:
  ChanServ: move keeptopic support to main.c

  Changes:	Modified:
  +102 -0	trunk/modules/chanserv/main.c (File Modified) 
  +0 -102	trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/30 05:35:38 UTC	(20051030-3277)
  Log:
  ChanServ: move entrymsg, url to main.c to live with our other join activities

  Changes:	Modified:
  +10 -0	trunk/modules/chanserv/main.c (File Modified) 
  +0 -37	trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/30 05:26:34 UTC	(20051030-3275)
  Log:
  CS REGISTER: move joining, checking modes out of register.c (so we won't have to duplicate for XML-RPC registration)

  Changes:	Modified:
  +14 -0	trunk/modules/chanserv/main.c (File Modified) 
  +0 -5		trunk/modules/chanserv/register.c (File Modified) 


alambert    2005/10/30 05:25:32 UTC	(20051030-3273)
  Log:
  CS XOP: grammar

  Changes:	Modified:
  +2 -1		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/10/30 05:22:09 UTC	(20051030-3271)
  Log:
  Use is_internal_client() instead of u->server == me.me

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/clear_users.c (File Modified) 
  +4 -4		trunk/modules/chanserv/halfop.c (File Modified) 
  +5 -5		trunk/modules/chanserv/kick.c (File Modified) 
  +4 -4		trunk/modules/chanserv/op.c (File Modified) 
  +5 -5		trunk/modules/chanserv/voice.c (File Modified) 


alambert    2005/10/30 05:03:13 UTC	(20051030-3269)
  Log:
  CS MARK: we don't care if the channel is closed.

  Changes:	Modified:
  +0 -6		trunk/modules/chanserv/mark.c (File Modified) 


alambert    2005/10/30 04:53:03 UTC	(20051030-3267)
  Log:
  CS HOLD: HOLD is an SRA command -- we don't care if the channel is closed

  Changes:	Modified:
  +0 -6		trunk/modules/chanserv/hold.c (File Modified) 


alambert    2005/10/30 04:44:15 UTC	(20051030-3265)
  Log:
  CS FTRANSFER: revert terminal's change: FTRANSFER is an oper command; we don't *care* if the channel is closed

  Changes:	Modified:
  +0 -6		trunk/modules/chanserv/ftransfer.c (File Modified) 


alambert    2005/10/30 04:41:32 UTC	(20051030-3263)
  Log:
  CS xOP: avoid using posessive form of channel

  Changes:	Modified:
  +5 -5		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/10/30 04:36:22 UTC	(20051030-3261)
  Log:
  CS REGISTER: check modes immediately on registration

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/register.c (File Modified) 


alambert    2005/10/30 04:25:14 UTC	(20051030-3259)
  Log:
  CS CLOSE: fix error message

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/close.c (File Modified) 


alambert    2005/10/30 04:21:02 UTC	(20051030-3257)
  Log:
  CS WHY: grammar. thanks <matt@stormirc.net>

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/why.c (File Modified) 


alambert    2005/10/30 04:18:05 UTC	(20051030-3255)
  Log:
  CS FLAGS: remove check -- doesn't work for deleting access

  Changes:	Modified:
  +0 -12	trunk/modules/chanserv/flags.c (File Modified) 


alambert    2005/10/30 04:14:02 UTC	(20051030-3253)
  Log:
  CS FLAGS: don't allow users to try a _completely_ bogus flag string. Thanks Matt <matt@stormirc.net>.

  Changes:	Modified:
  +12 -0	trunk/modules/chanserv/flags.c (File Modified) 


alambert    2005/10/30 04:12:45 UTC	(20051030-3251)
  Log:
  Revert 3249 -- svn picked up some other changes I didn't want to commit

  Changes:	Modified:
  +0 -2		trunk/modules/chanserv/akick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/close.c (File Modified) 
  +5 -10	trunk/modules/chanserv/count.c (File Modified) 
  +0 -12	trunk/modules/chanserv/flags.c (File Modified) 
  +0 -1		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/10/30 04:10:57 UTC	(20051030-3249)
  Log:
  CS FLAGS: don't allow users to try a _completely_ bogus flag string. Thanks Matt <matt@stormirc.net>.

  Changes:	Modified:
  +2 -0		trunk/modules/chanserv/akick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/close.c (File Modified) 
  +10 -5	trunk/modules/chanserv/count.c (File Modified) 
  +12 -0	trunk/modules/chanserv/flags.c (File Modified) 
  +1 -0		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/10/29 21:48:29 UTC	(20051029-3247)
  Log:
  remove extra comma

  Changes:	Modified:
  +1 -1		trunk/backend/postgresql.c (File Modified) 


alambert    2005/10/29 21:44:39 UTC	(20051029-3245)
  Log:
  remove url/entrymsg queries -- thanks pfish

  Changes:	Modified:
  +0 -6		trunk/backend/mysql.c (File Modified) 
  +2 -9		trunk/backend/postgresql.c (File Modified) 


alambert    2005/10/29 20:57:23 UTC	(20051029-3243)
  Log:
  make MySQL use transactions

  Changes:	Modified:
  +2 -2		trunk/backend/mysql.c (File Modified) 


alambert    2005/10/29 20:48:51 UTC	(20051029-3241)
  Log:
  remove ENTRYMSG, URL columns from CHANNELS; ensure MySQL uses transaction-safe InnoDB tables; change some VARCHARs to TEXT

  Changes:	Modified:
  +17 -19	trunk/SQL/atheme_init.mysql (File Modified) 
  +9 -11	trunk/SQL/atheme_init.pgsql (File Modified) 
  +2 -9		trunk/backend/mysql.c (File Modified) 
  +2 -9		trunk/backend/postgresql.c (File Modified) 


alambert    2005/10/29 20:45:56 UTC	(20051029-3239)
  Log:
  add information on changing column types

  Changes:	Modified:
  +17 -0	trunk/doc/SQL (File Modified) 


alambert    2005/10/29 20:39:09 UTC	(20051029-3237)
  Log:
  add notes on SQL support

  Changes:	Modified:
  +0 -6		trunk/doc/POSTGRESQL (File Deleted) 
  +41 -0	trunk/doc/SQL (File Added) 


jilles      2005/10/29 00:21:03 UTC	(20051029-3235)
  Log:
  Rate limit sending memos. Rate limit is currently hardcoded
  to 5 memos in 3 minutes; one needs to not send a memo for
  that time for the count to reset.
  

  Changes:	Modified:
  +6 -0		trunk/include/account.h (File Modified) 
  +11 -0	trunk/modules/memoserv/forward.c (File Modified) 
  +11 -0	trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/10/28 23:39:01 UTC	(20051028-3233)
  Log:
  Require verified email address to send memos.
  

  Changes:	Modified:
  +6 -0		trunk/modules/memoserv/forward.c (File Modified) 
  +6 -0		trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/10/28 23:17:27 UTC	(20051028-3231)
  Log:
  Make email rate limiting configurable via
  emaillimit and emailtime in serverinfo{}.
  

  Changes:	Modified:
  +8 -0		trunk/dist/example.conf (File Modified) 
  +8 -0		trunk/dist/example.userserv.conf (File Modified) 
  +2 -0		trunk/include/atheme.h (File Modified) 
  +39 -1	trunk/src/conf.c (File Modified) 
  +2 -2		trunk/src/function.c (File Modified) 


jilles      2005/10/28 21:17:04 UTC	(20051028-3229)
  Log:
  - Considerably clean up the email sending code
  - Rate limit emails, currently to a hard coded 10 messages
    per 5 minutes
  - Log all emails sent (sender, type, destination)
  - Include more tracking information in emails
  

  Changes:	Modified:
  +7 -0		trunk/include/atheme.h (File Modified) 
  +1 -1		trunk/include/extern.h (File Modified) 
  +5 -3		trunk/modules/memoserv/forward.c (File Modified) 
  +6 -4		trunk/modules/memoserv/send.c (File Modified) 
  +17 -9	trunk/modules/nickserv/register.c (File Modified) 
  +14 -5	trunk/modules/nickserv/return.c (File Modified) 
  +8 -2		trunk/modules/nickserv/sendpass.c (File Modified) 
  +9 -2		trunk/modules/nickserv/set.c (File Modified) 
  +17 -9	trunk/modules/userserv/register.c (File Modified) 
  +8 -3		trunk/modules/userserv/sendpass.c (File Modified) 
  +9 -2		trunk/modules/userserv/set.c (File Modified) 
  +8 -2		trunk/modules/xmlrpc/account.c (File Modified) 
  +83 -44	trunk/src/function.c (File Modified) 


jilles      2005/10/28 10:11:56 UTC	(20051028-3227)
  Log:
  Mention join_chans considerations for more ircds.
  

  Changes:	Modified:
  +16 -2	trunk/doc/IRCD (File Modified) 


nenolod     2005/10/27 18:55:47 UTC	(20051027-3225)
  Log:
  Fix contrib/ build environment.

  Changes:	Modified:
  +1 -1		trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/10/26 23:31:08 UTC	(20051026-3223)
  Log:
  Someone forgot that we have host entires in chanacs too.

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 


jilles      2005/10/26 20:20:32 UTC	(20051026-3221)
  Log:
  Don't allow enabling EMAILMEMOS if they have not verified
  their email address yet (if that is required).
  

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/set.c (File Modified) 


jilles      2005/10/26 19:43:46 UTC	(20051026-3219)
  Log:
  Make the call to the MTA more asynchronous.
  (We still assume the MTA reads the mail from
  the pipe in a reasonable time.)
  

  Changes:	Modified:
  +31 -2	trunk/src/function.c (File Modified) 


jilles      2005/10/26 10:36:26 UTC	(20051026-3217)
  Log:
  Add forgotten snprintf buffer length argument.
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 


jilles      2005/10/26 00:56:59 UTC	(20051026-3215)
  Log:
  Send GLOBOPS from the server instead of from
  chanserv for dreamforge and sorcery.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/dreamforge.c (File Modified) 
  +1 -1		trunk/protocol/sorcery.c (File Modified) 


jilles      2005/10/26 00:52:29 UTC	(20051026-3213)
  Log:
  Bahamut accepts GLOBOPS from U:lined servers
  so don't send it from chanserv anymore.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/bahamut.c (File Modified) 


jilles      2005/10/26 00:47:49 UTC	(20051026-3211)
  Log:
  Bahamut clears bans and topic on lowerTS SJOIN.
  

  Changes:	Modified:
  +4 -0		trunk/protocol/bahamut.c (File Modified) 


jilles      2005/10/25 23:48:54 UTC	(20051025-3209)
  Log:
  Clear the channel ban list on a lowerTS SJOIN from
  a TS6 server.
  
  Also: drop SJOINs with invalid prefixes.
  

  Changes:	Modified:
  +11 -0	trunk/protocol/charybdis.c (File Modified) 
  +11 -0	trunk/protocol/ratbox.c (File Modified) 


jilles      2005/10/25 23:44:23 UTC	(20051025-3207)
  Log:
  Add void chanban_clear(channel_t *chan) to clear
  a channel's ban list.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +11 -0	trunk/src/node.c (File Modified) 


jilles      2005/10/25 22:48:47 UTC	(20051025-3205)
  Log:
  Support COLLIDE (some kind of quieter form of kill
  designed for services) by treating it as KILL (with
  optional reason field).
  

  Changes:	Modified:
  +5 -0		trunk/protocol/hyperion.c (File Modified) 


jilles      2005/10/25 22:22:40 UTC	(20051025-3203)
  Log:
  Make services be reintroduced and rejoin all channels they
  were in when killed.
  Add void handle_kill(char *origin, char *victim, char *reason)
  to src/ptasks.c and make all protocol modules use it.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +3 -28	trunk/protocol/asuka.c (File Modified) 
  +3 -28	trunk/protocol/bahamut.c (File Modified) 
  +3 -28	trunk/protocol/bircd.c (File Modified) 
  +3 -28	trunk/protocol/charybdis.c (File Modified) 
  +3 -28	trunk/protocol/dreamforge.c (File Modified) 
  +3 -28	trunk/protocol/hyperion.c (File Modified) 
  +3 -28	trunk/protocol/inspircd.c (File Modified) 
  +3 -28	trunk/protocol/ircnet.c (File Modified) 
  +3 -28	trunk/protocol/monkey.c (File Modified) 
  +3 -28	trunk/protocol/plexus.c (File Modified) 
  +3 -28	trunk/protocol/ptlink.c (File Modified) 
  +3 -28	trunk/protocol/ratbox.c (File Modified) 
  +3 -28	trunk/protocol/scylla.c (File Modified) 
  +3 -28	trunk/protocol/shadowircd.c (File Modified) 
  +3 -28	trunk/protocol/sorcery.c (File Modified) 
  +3 -28	trunk/protocol/ultimate3.c (File Modified) 
  +3 -28	trunk/protocol/undernet.c (File Modified) 
  +3 -28	trunk/protocol/unreal.c (File Modified) 
  +31 -0	trunk/src/ptasks.c (File Modified) 


alambert    2005/10/25 17:57:42 UTC	(20051025-3201)
  Log:
  rename topic_set to channel_topic

  Changes:	Modified:
  +1 -1		trunk/doc/HOOKS (File Modified) 


alambert    2005/10/25 17:57:14 UTC	(20051025-3199)
  Log:
  rename topic_set to channel_topic

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/set.c (File Modified) 
  +1 -1		trunk/src/ptasks.c (File Modified) 


nenolod     2005/10/25 17:55:04 UTC	(20051025-3197)
  Log:
  We don't need rice here, use an snprintf().
  

  Changes:	Modified:
  +1 -5		trunk/modules/nickserv/identify.c (File Modified) 


jilles      2005/10/25 16:35:26 UTC	(20051025-3195)
  Log:
  Add reintroduce_user() to reintroduce a service,
  e.g. after it has been killed.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +34 -0	trunk/src/services.c (File Modified) 


jilles      2005/10/25 15:34:52 UTC	(20051025-3193)
  Log:
  Add a check whether mychan and myuser are found when
  reading a chanacs entry.
  

  Changes:	Modified:
  +6 -0		trunk/backend/flatfile.c (File Modified) 


jilles      2005/10/25 14:22:07 UTC	(20051025-3191)
  Log:
  Add a small overview of the hook system.
  

  Changes:	Modified:
  +36 -0	trunk/doc/HOOKS (File Added) 


jilles      2005/10/25 13:55:01 UTC	(20051025-3189)
  Log:
  Add Id tag.
  

  Changes:	Modified:
  +2 -0		trunk/doc/IRCD (File Modified) (Property Modified)


jilles      2005/10/24 00:38:37 UTC	(20051024-3187)
  Log:
  The hyperion module now support +jLPQ.
  

  Changes:	Modified:
  +1 -1		trunk/doc/IRCD (File Modified) 


jilles      2005/10/24 00:25:23 UTC	(20051024-3185)
  Log:
  Create new channels with modes +nt modified by mlock.
  

  Changes:	Modified:
  +6 -2		trunk/src/services.c (File Modified) 


jilles      2005/10/24 00:09:09 UTC	(20051024-3183)
  Log:
  Add parameter 'sendnow' to check_modes(), to optionally
  avoid doing cmodes (for use in join() creating a
  channel).
  

  Changes:	Modified:
  +1 -1		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +17 -9	trunk/src/cmode.c (File Modified) 


jilles      2005/10/23 23:55:19 UTC	(20051023-3181)
  Log:
  More mlock +kl fixes.
  

  Changes:	Modified:
  +6 -14	trunk/src/cmode.c (File Modified) 


nenolod     2005/10/23 23:36:50 UTC	(20051023-3179)
  Log:
  Some updates to doc/IRCD.
  

  Changes:	Modified:
  +14 -0	trunk/doc/IRCD (File Modified) 


jilles      2005/10/23 23:22:20 UTC	(20051023-3177)
  Log:
  Add char *channel_modes(channel_t *c, boolean_t doparams)
  to return the simple modes of a channel as a string,
  with or without parameters.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +43 -0	trunk/src/cmode.c (File Modified) 


jilles      2005/10/23 23:14:41 UTC	(20051023-3175)
  Log:
  Fixes to mlock +kl.
  

  Changes:	Modified:
  +21 -11	trunk/modules/chanserv/info.c (File Modified) 
  +15 -11	trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/10/23 22:49:41 UTC	(20051023-3173)
  Log:
  Remove +kl from mode_list, fixing lots of issues with them
  (they take parameters).
  

  Changes:	Modified:
  +0 -2		trunk/protocol/asuka.c (File Modified) 
  +0 -2		trunk/protocol/bahamut.c (File Modified) 
  +0 -2		trunk/protocol/bircd.c (File Modified) 
  +0 -2		trunk/protocol/charybdis.c (File Modified) 
  +0 -2		trunk/protocol/dreamforge.c (File Modified) 
  +0 -2		trunk/protocol/hyperion.c (File Modified) 
  +0 -2		trunk/protocol/inspircd.c (File Modified) 
  +0 -2		trunk/protocol/ircnet.c (File Modified) 
  +0 -2		trunk/protocol/monkey.c (File Modified) 
  +0 -2		trunk/protocol/plexus.c (File Modified) 
  +0 -2		trunk/protocol/ptlink.c (File Modified) 
  +0 -2		trunk/protocol/ratbox.c (File Modified) 
  +0 -2		trunk/protocol/scylla.c (File Modified) 
  +0 -2		trunk/protocol/shadowircd.c (File Modified) 
  +0 -2		trunk/protocol/sorcery.c (File Modified) 
  +0 -2		trunk/protocol/ultimate3.c (File Modified) 
  +0 -2		trunk/protocol/undernet.c (File Modified) 
  +0 -2		trunk/protocol/unreal.c (File Modified) 


jilles      2005/10/23 21:55:39 UTC	(20051023-3171)
  Log:
  Move join() to src/services.c, keeping only the part
  sending protocol messages in the protocol modules
  as join_sts(c,u,isnew,modestring).
  
  New channels now get +nt in all ircds, this will be
  changed to use mlock later.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +2 -2		trunk/include/phandler.h (File Modified) 
  +8 -24	trunk/protocol/asuka.c (File Modified) 
  +7 -23	trunk/protocol/bahamut.c (File Modified) 
  +8 -24	trunk/protocol/bircd.c (File Modified) 
  +7 -27	trunk/protocol/charybdis.c (File Modified) 
  +8 -20	trunk/protocol/dreamforge.c (File Modified) 
  +7 -23	trunk/protocol/hyperion.c (File Modified) 
  +5 -22	trunk/protocol/inspircd.c (File Modified) 
  +5 -28	trunk/protocol/ircnet.c (File Modified) 
  +7 -23	trunk/protocol/monkey.c (File Modified) 
  +7 -23	trunk/protocol/plexus.c (File Modified) 
  +7 -23	trunk/protocol/ptlink.c (File Modified) 
  +7 -27	trunk/protocol/ratbox.c (File Modified) 
  +7 -23	trunk/protocol/shadowircd.c (File Modified) 
  +8 -20	trunk/protocol/sorcery.c (File Modified) 
  +7 -23	trunk/protocol/ultimate3.c (File Modified) 
  +8 -24	trunk/protocol/undernet.c (File Modified) 
  +7 -23	trunk/protocol/unreal.c (File Modified) 
  +2 -2		trunk/src/phandler.c (File Modified) 
  +28 -0	trunk/src/services.c (File Modified) 


jilles      2005/10/23 20:16:30 UTC	(20051023-3169)
  Log:
  Place topicts in the logical place, I'm going to break
  binary compatibility anyway ;p
  

  Changes:	Modified:
  +1 -2		trunk/include/channels.h (File Modified) 


jilles      2005/10/23 19:31:18 UTC	(20051023-3167)
  Log:
  Add TS6 support to the ratbox module.
  

  Changes:	Modified:
  +299 -58	trunk/protocol/ratbox.c (File Modified) 


nenolod     2005/10/23 19:14:21 UTC	(20051023-3165)
  Log:
  Use solid compression in the Win32 installer.

  Changes:	Modified:
  +1 -1		trunk/win32/atheme.nsi (File Modified) 


jilles      2005/10/23 13:31:46 UTC	(20051023-3163)
  Log:
  UID is only used for user introductions, not nick changes.
  

  Changes:	Modified:
  +0 -34	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/10/23 09:13:42 UTC	(20051023-3161)
  Log:
  Add our .nsi script for NSIS.

  Changes:	Modified:
  +374 -0	trunk/win32/atheme.nsi (File Added) 


nenolod     2005/10/23 09:13:10 UTC	(20051023-3159)
  Log:
  byebye :P

  Changes:	Modified:
  +0 -32	trunk/win32/setup.iss (File Deleted) 


nenolod     2005/10/23 08:56:09 UTC	(20051023-3157)
  Log:
  Win32 fixes.

  Changes:	Modified:
  +7 -7		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +0 -1		trunk/libatheme/select.c (File Modified) 
  +1 -1		trunk/modules/Makefile.win32 (File Modified) 


nenolod     2005/10/23 06:06:27 UTC	(20051023-3155)
  Log:
  Fix crash when someone uses UserServ without a password. Reported by xi@gamesnet.org.
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/login.c (File Modified) 


db          2005/10/23 05:56:12 UTC	(20051023-3153)
  Log:
  - Cleanup irc_packet()
    Note that one has to traverse the input buf anyway might as well
    do something useful with the cycles.
  
  

  Changes:	Modified:
  +16 -21	trunk/src/packet.c (File Modified) 


nenolod     2005/10/23 03:17:38 UTC	(20051023-3151)
  Log:
  Don't run channel messages through floodcheck()

  Changes:	Modified:
  +6 -2		trunk/src/ptasks.c (File Modified) 


pfish       2005/10/23 02:44:01 UTC	(20051023-3149)
  Log:
  Wallops when SRA drops channel.
  

  Changes:	Modified:
  +5 -0		trunk/modules/chanserv/drop.c (File Modified) 


jilles      2005/10/23 01:24:11 UTC	(20051023-3147)
  Log:
  - In handle_topic(), drop identical topics from servers or
    chanserv, and ones with identical topicts
  - Don't update keeptopic at all for identical topics
  - Call handle_topic() when restoring a keeptopic topic
  

  Changes:	Modified:
  +12 -3	trunk/modules/chanserv/set.c (File Modified) 
  +7 -0		trunk/src/ptasks.c (File Modified) 


jilles      2005/10/23 00:52:06 UTC	(20051023-3145)
  Log:
  Remove redundant and potentially harmful
  init_uid() call from src/atheme.c.
  

  Changes:	Modified:
  +0 -4		trunk/src/atheme.c (File Modified) 


jilles      2005/10/23 00:45:16 UTC	(20051023-3143)
  Log:
  Change handling of server_t and user_t for our stuff.
  Our server_t (me.me) and user_t's (service_t.me) are
  now kept indefinitely. introduce_nick() and quit_sts()
  do not create or destroy user_t's anymore.
  introduce_nick() takes a uid argument instead of
  modes.
  
  Handling of /kill on services is currently broken.
  

  Changes:	Modified:
  +2 -2		trunk/include/phandler.h (File Modified) 
  +1 -0		trunk/include/servtree.h (File Modified) 
  +2 -13	trunk/protocol/asuka.c (File Modified) 
  +2 -12	trunk/protocol/bahamut.c (File Modified) 
  +2 -13	trunk/protocol/bircd.c (File Modified) 
  +3 -19	trunk/protocol/charybdis.c (File Modified) 
  +2 -12	trunk/protocol/dreamforge.c (File Modified) 
  +1 -10	trunk/protocol/hyperion.c (File Modified) 
  +2 -12	trunk/protocol/inspircd.c (File Modified) 
  +2 -13	trunk/protocol/ircnet.c (File Modified) 
  +2 -12	trunk/protocol/monkey.c (File Modified) 
  +2 -12	trunk/protocol/plexus.c (File Modified) 
  +2 -12	trunk/protocol/ptlink.c (File Modified) 
  +2 -12	trunk/protocol/ratbox.c (File Modified) 
  +1 -2		trunk/protocol/scylla.c (File Modified) 
  +2 -12	trunk/protocol/shadowircd.c (File Modified) 
  +2 -12	trunk/protocol/sorcery.c (File Modified) 
  +2 -12	trunk/protocol/ultimate3.c (File Modified) 
  +2 -13	trunk/protocol/undernet.c (File Modified) 
  +2 -12	trunk/protocol/unreal.c (File Modified) 
  +0 -1		trunk/src/packet.c (File Modified) 
  +2 -3		trunk/src/phandler.c (File Modified) 
  +15 -4	trunk/src/send.c (File Modified) 
  +5 -1		trunk/src/services.c (File Modified) 
  +18 -1	trunk/src/servtree.c (File Modified) 


jilles      2005/10/23 00:06:18 UTC	(20051023-3141)
  Log:
  Disconnect helpserv from the build, it doesn't compile.
  

  Changes:	Modified:
  +2 -1		trunk/modules/Makefile.in (File Modified) 


pfish       2005/10/22 23:50:56 UTC	(20051022-3139)
  Log:
  - Add Id property to return.c
  - Add help for NickServ RETURN.
  

  Changes:	Modified:
  +10 -0	trunk/help/nickserv/return (File Added) 
  + -		trunk/modules/nickserv/return.c  (Property Modified)


pfish       2005/10/22 23:44:10 UTC	(20051022-3137)
  Log:
  Bring alambert's old return module back. Now uses gen_pw.
  

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/Makefile.in (File Modified) 
  +83 -0	trunk/modules/nickserv/return.c (File Added) 


jilles      2005/10/22 22:58:37 UTC	(20051022-3135)
  Log:
  - Remove all chanusers in channel_delete() (this will happen
    if we keep services user_t's but still want to wipe all
    channels)
  - Free chanuser on chanuser_delete()
  

  Changes:	Modified:
  +20 -1	trunk/src/node.c (File Modified) 


pfish       2005/10/22 22:55:45 UTC	(20051022-3133)
  Log:
  Remove MU_HELPER from info
  

  Changes:	Modified:
  +0 -6		trunk/modules/nickserv/info.c (File Modified) 


jilles      2005/10/22 22:10:35 UTC	(20051022-3131)
  Log:
  Add user_changeuid() to dynamically change/set/remove
  a user_t's UID, for use in persistent services user_t's.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +21 -0	trunk/src/node.c (File Modified) 


jilles      2005/10/22 21:49:56 UTC	(20051022-3129)
  Log:
  Remove per-uplink numerics. This feature is not useful, ircds do
  not have it, and it obstructs changes I plan to do to simplify
  things.
  

  Changes:	Modified:
  +0 -5		trunk/dist/example.conf (File Modified) 
  +0 -5		trunk/dist/example.userserv.conf (File Modified) 
  +1 -1		trunk/include/atheme.h (File Modified) 
  +1 -2		trunk/include/servers.h (File Modified) 
  +3 -6		trunk/protocol/asuka.c (File Modified) 
  +3 -6		trunk/protocol/bircd.c (File Modified) 
  +5 -5		trunk/protocol/charybdis.c (File Modified) 
  +2 -2		trunk/protocol/ircnet.c (File Modified) 
  +3 -6		trunk/protocol/undernet.c (File Modified) 
  +2 -9		trunk/src/conf.c (File Modified) 
  +1 -7		trunk/src/node.c (File Modified) 


pfish       2005/10/22 21:37:12 UTC	(20051022-3127)
  Log:
  Kill MU_HELPER flag
  

  Changes:	Modified:
  +0 -1		trunk/include/account.h (File Modified) 


pfish       2005/10/22 20:32:14 UTC	(20051022-3125)
  Log:
  Fix typo. :P
  

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 


alambert    2005/10/22 20:31:22 UTC	(20051022-3123)
  Log:
  myuser_delete(): Remove scaffolding and finish up stale link removal. This should work. Many thanks to pfish for testing.

  Changes:	Modified:
  +7 -15	trunk/src/node.c (File Modified) 


alambert    2005/10/22 20:23:55 UTC	(20051022-3121)
  Log:
  myuser_delete(): private:link:parent should be private:alias:parent. I will not commit at 3AM anymore.

  Changes:	Modified:
  +3 -3		trunk/src/node.c (File Modified) 


jilles      2005/10/22 20:00:08 UTC	(20051022-3119)
  Log:
  Better STOPIC checking using new channel_t.topicts.
  

  Changes:	Modified:
  +1 -2		trunk/protocol/hyperion.c (File Modified) 


alambert    2005/10/22 19:50:44 UTC	(20051022-3117)
  Log:
  myuser_delete(): add more debug scaffolding so pfish can test.

  Changes:	Modified:
  +13 -0	trunk/src/node.c (File Modified) 


jilles      2005/10/22 18:48:52 UTC	(20051022-3115)
  Log:
  Setting an empty topic is clearing the topic.
  

  Changes:	Modified:
  +13 -7	trunk/modules/chanserv/set.c (File Modified) 
  +7 -2		trunk/src/ptasks.c (File Modified) 


jilles      2005/10/22 18:25:46 UTC	(20051022-3113)
  Log:
  Add help for /cs set keeptopic, improve help for /cs set founder.
  

  Changes:	Modified:
  +12 -3	trunk/help/cservice/set_founder (File Modified) 
  +13 -0	trunk/help/cservice/set_keeptopic (File Added) 
  +2 -1		trunk/modules/chanserv/help.c (File Modified) 
  +2 -0		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/10/22 15:16:24 UTC	(20051022-3111)
  Log:
  In ratbox and charybdis, use TB to restore old topics.
  This reduces noise and also restores topicsetter (nick
  only) and topicts.
  

  Changes:	Modified:
  +14 -0	trunk/protocol/charybdis.c (File Modified) 
  +14 -0	trunk/protocol/ratbox.c (File Modified) 


jilles      2005/10/22 14:51:17 UTC	(20051022-3109)
  Log:
  Finally remove that "%s (%s)", topic, setter stuff.
  It doesn't really work with topic bursting.
  

  Changes:	Modified:
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/scylla.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 


jilles      2005/10/22 14:50:38 UTC	(20051022-3107)
  Log:
  Fix crash in last commit.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/10/22 14:37:17 UTC	(20051022-3105)
  Log:
  Add topicts parameter to topic_sts().
  

  Changes:	Modified:
  +2 -2		trunk/include/phandler.h (File Modified) 
  +3 -8		trunk/modules/chanserv/set.c (File Modified) 
  +4 -4		trunk/modules/chanserv/topic.c (File Modified) 
  +1 -1		trunk/protocol/asuka.c (File Modified) 
  +2 -2		trunk/protocol/bahamut.c (File Modified) 
  +1 -1		trunk/protocol/bircd.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 
  +2 -2		trunk/protocol/dreamforge.c (File Modified) 
  +2 -2		trunk/protocol/hyperion.c (File Modified) 
  +1 -1		trunk/protocol/inspircd.c (File Modified) 
  +1 -1		trunk/protocol/ircnet.c (File Modified) 
  +2 -2		trunk/protocol/monkey.c (File Modified) 
  +1 -1		trunk/protocol/plexus.c (File Modified) 
  +2 -2		trunk/protocol/ptlink.c (File Modified) 
  +1 -1		trunk/protocol/ratbox.c (File Modified) 
  +1 -1		trunk/protocol/scylla.c (File Modified) 
  +1 -1		trunk/protocol/shadowircd.c (File Modified) 
  +2 -2		trunk/protocol/sorcery.c (File Modified) 
  +2 -2		trunk/protocol/ultimate3.c (File Modified) 
  +1 -1		trunk/protocol/undernet.c (File Modified) 
  +2 -2		trunk/protocol/unreal.c (File Modified) 
  +2 -2		trunk/src/phandler.c (File Modified) 


jilles      2005/10/22 14:10:58 UTC	(20051022-3103)
  Log:
  Use handle_topic() instead of fiddling channel_t.topic* manually
  in /cs topic etc.
  

  Changes:	Modified:
  +7 -40	trunk/modules/chanserv/topic.c (File Modified) 


jilles      2005/10/22 13:59:52 UTC	(20051022-3101)
  Log:
  Add topicts tracking.
  

  Changes:	Modified:
  +2 -0		trunk/include/channels.h (File Modified) 
  +6 -0		trunk/modules/chanserv/topic.c (File Modified) 
  +1 -0		trunk/src/ptasks.c (File Modified) 


pfish       2005/10/22 09:06:31 UTC	(20051022-3099)
  Log:
  
  Code review for alambert's patch that drops linked nicknames when the parent nick is dropped.
  

  Changes:	Modified:
  +3 -2		trunk/src/node.c (File Modified) 


nenolod     2005/10/22 08:57:37 UTC	(20051022-3097)
  Log:
  - Tie SRA into myuser_add(), so that rehashes arent required to gain SRA. Useful for initial setups.
  - Typo fixes to ns/us drop.c (oops)
  

  Changes:	Modified:
  +0 -18	trunk/backend/flatfile.c (File Modified) 
  +0 -17	trunk/backend/mysql.c (File Modified) 
  +0 -17	trunk/backend/postgresql.c (File Modified) 
  +1 -0		trunk/include/extern.h (File Modified) 
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 
  +25 -0	trunk/src/node.c (File Modified) 


nenolod     2005/10/22 08:41:31 UTC	(20051022-3095)
  Log:
  Fix the /ns drop bug as described in bug #5.
  
  Reviewed by pfish.
  

  Changes:	Modified:
  +13 -1	trunk/modules/nickserv/drop.c (File Modified) 
  +13 -1	trunk/modules/userserv/drop.c (File Modified) 


pfish       2005/10/22 08:31:48 UTC	(20051022-3093)
  Log:
  Bail out if mc == null
  

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/set.c (File Modified) 


nenolod     2005/10/22 08:19:50 UTC	(20051022-3091)
  Log:
  Updates to expire_check(), as noted by terminal.
  Reviewed by me!
  

  Changes:	Modified:
  +1 -1		trunk/src/node.c (File Modified) 


alambert    2005/10/22 08:17:12 UTC	(20051022-3089)
  Log:
  various: If we don't care about the return value, don't bother storing it.

  Changes:	Modified:
  +4 -8		trunk/src/function.c (File Modified) 
  +1 -2		trunk/src/node.c (File Modified) 


pfish       2005/10/22 08:14:18 UTC	(20051022-3087)
  Log:
  Finish up KEEPTOPIC support. Should work now, enjoy.
  

  Changes:	Modified:
  +28 -69	trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/22 08:08:57 UTC	(20051022-3085)
  Log:
  myuser_delete(): When removing a myuser, remove any linked nicknames that point to them. Committing so pfish can test.

  Changes:	Modified:
  +15 -1	trunk/src/node.c (File Modified) 


nenolod     2005/10/22 08:00:29 UTC	(20051022-3083)
  Log:
  Remove old #if 0'ed code for the new sexy myuser_notice() routine which jilles wrote.
  
  Reviewed by everyone who was in #atheme.coders at 3 AM. :P
  

  Changes:	Modified:
  +1 -4		trunk/src/node.c (File Modified) 


pfish       2005/10/22 07:58:46 UTC	(20051022-3081)
  Log:
  Make config file aware of KEEPTOPIC cflag.
  

  Changes:	Modified:
  +5 -4		trunk/src/conf.c (File Modified) 


terminal    2005/10/22 07:03:47 UTC	(20051022-3079)
  Log:
  Bail out of most functions when a channel is closed
  

  Changes:	Modified:
  +6 -0		trunk/modules/chanserv/akick.c (File Modified) 
  +6 -0		trunk/modules/chanserv/ban.c (File Modified) 
  +6 -0		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +6 -0		trunk/modules/chanserv/clear_users.c (File Modified) 
  +6 -0		trunk/modules/chanserv/count.c (File Modified) 
  +10 -0	trunk/modules/chanserv/drop.c (File Modified) 
  +18 -0	trunk/modules/chanserv/flags.c (File Modified) 
  +6 -0		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +24 -0	trunk/modules/chanserv/halfop.c (File Modified) 
  +6 -0		trunk/modules/chanserv/hold.c (File Modified) 
  +6 -0		trunk/modules/chanserv/kick.c (File Modified) 
  +6 -0		trunk/modules/chanserv/mark.c (File Modified) 
  +24 -0	trunk/modules/chanserv/op.c (File Modified) 
  +6 -0		trunk/modules/chanserv/recover.c (File Modified) 
  +66 -0	trunk/modules/chanserv/set.c (File Modified) 
  +6 -0		trunk/modules/chanserv/status.c (File Modified) 
  +24 -0	trunk/modules/chanserv/topic.c (File Modified) 
  +6 -0		trunk/modules/chanserv/voice.c (File Modified) 
  +6 -0		trunk/modules/chanserv/why.c (File Modified) 
  +6 -0		trunk/modules/chanserv/xop.c (File Modified) 


pfish       2005/10/22 06:42:29 UTC	(20051022-3077)
  Log:
  Oops. KEEPTOPIC should be AC_NONE, not AC_IRCOP
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/22 06:41:02 UTC	(20051022-3075)
  Log:
  KeepTopic: fix typo: topicsetter should be topic_setter. Thanks pfish.

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/22 06:40:32 UTC	(20051022-3073)
  Log:
  Prefer chanacs_user_has_flag() to is_xop(): the former checks host-based access; identifying is not necessary

  Changes:	Modified:
  +6 -6		trunk/modules/chanserv/akick.c (File Modified) 
  +1 -1		trunk/modules/chanserv/flags.c (File Modified) 
  +2 -9		trunk/modules/chanserv/invite.c (File Modified) 
  +1 -7		trunk/modules/chanserv/recover.c (File Modified) 
  +1 -1		trunk/modules/chanserv/set.c (File Modified) 
  +3 -3		trunk/modules/chanserv/xop.c (File Modified) 


alambert    2005/10/22 06:28:52 UTC	(20051022-3069)
  Log:
  fix typo

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/recover.c (File Modified) 


alambert    2005/10/22 06:21:38 UTC	(20051022-3067)
  Log:
  Fix crash when RECOVER used on a bogus channel. Reported by kyle -- thanks.

  Changes:	Modified:
  +6 -0		trunk/modules/chanserv/recover.c (File Modified) 


alambert    2005/10/22 06:14:22 UTC	(20051022-3065)
  Log:
  keeptopic: topic_set skeleton

  Changes:	Modified:
  +10 -0	trunk/modules/chanserv/set.c (File Modified) 


alambert    2005/10/22 06:07:58 UTC	(20051022-3063)
  Log:
  add 'topic_set', rename cs_keeptopic() to cs_keeptopic_newchan() in prep

  Changes:	Modified:
  +4 -4		trunk/modules/chanserv/set.c (File Modified) 
  +2 -0		trunk/src/ptasks.c (File Modified) 


nenolod     2005/10/22 05:09:13 UTC	(20051022-3061)
  Log:
  Grammatical change to registration email.
  

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


nenolod     2005/10/20 18:22:38 UTC	(20051020-3059)
  Log:
  Rename libatheme.c to claro.c.
  

  Changes:	Modified:
  +1 -1		trunk/libatheme/Makefile.in (File Modified) 
  +1 -1		trunk/libatheme/Makefile.win32 (File Modified) 
  + -		trunk/libatheme/claro.c (File Added) 
  +0 -55	trunk/libatheme/libatheme.c (File Deleted) 


nenolod     2005/10/20 18:21:33 UTC	(20051020-3057)
  Log:
  - Add DECLARE_CLARO_ASSEMBLY_V1 for creating an assembly header without 'claro generate-assembly'.
  

  Changes:	Modified:
  +8 -0		trunk/libatheme/libatheme.c (File Modified) 
  +14 -0	trunk/libatheme/org.atheme.claro.base (File Modified) 


nenolod     2005/10/20 18:07:29 UTC	(20051020-3055)
  Log:
  Get rid of unused code here :p
  

  Changes:	Modified:
  +0 -10	trunk/libatheme/process.c (File Deleted) 


nenolod     2005/10/20 18:04:13 UTC	(20051020-3053)
  Log:
  This massive commit brings us a self-hosting claro-base, ready to be split off into it's own product.
  A few atheme-specific routines were dumped in src/uplink.c. Seemed like a good place for them.
  

  Changes:	Modified:
  +1 -0		trunk/include/servers.h (File Modified) 
  +7 -35	trunk/libatheme/connection.c (File Modified) 
  +1 -1		trunk/libatheme/hook.c (File Modified) 
  +1 -1		trunk/libatheme/libatheme.c (File Modified) 
  +1 -1		trunk/libatheme/linker.c (File Modified) 
  +1 -1		trunk/libatheme/memory.c (File Modified) 
  +1 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +1 -1		trunk/libatheme/poll.c (File Modified) 
  +2 -2		trunk/libatheme/select.c (File Modified) 
  +1 -1		trunk/libatheme/sockio.c (File Modified) 
  +1 -1		trunk/libatheme/string.c (File Modified) 
  +3 -0		trunk/src/packet.c (File Modified) 
  +24 -0	trunk/src/uplink.c (File Modified) 


nenolod     2005/10/20 17:53:05 UTC	(20051020-3051)
  Log:
  Oof!
  

  Changes:	Modified:
  +0 -3		trunk/include/atheme.h (File Modified) 
  +7 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +4 -4		trunk/libatheme/win32.c (File Modified) 


nenolod     2005/10/20 04:39:14 UTC	(20051020-3049)
  Log:
  Almost ready to split out claro-base. :)
  

  Changes:	Modified:
  +1 -1		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +2 -2		trunk/src/ptasks.c (File Modified) 


nenolod     2005/10/20 04:37:13 UTC	(20051020-3047)
  Log:
  changes here :p
  

  Changes:	Modified:
  +0 -1		trunk/include/extern.h (File Modified) 
  +2 -6		trunk/libatheme/dlink.c (File Modified) 
  +5 -6		trunk/libatheme/event.c (File Modified) 
  +1 -0		trunk/libatheme/libatheme.c (File Modified) 
  +10 -0	trunk/libatheme/org.atheme.claro.base (File Modified) 
  +0 -2		trunk/src/send.c (File Modified) 


jilles      2005/10/20 01:38:37 UTC	(20051020-3045)
  Log:
  Change umodes for services clients, removing +h (affects
  local clients only) and adding +6@PX (receive/send from 
  everyone, SETHOST, set cmode +L)
  

  Changes:	Modified:
  +1 -1		trunk/protocol/hyperion.c (File Modified) 


jilles      2005/10/20 01:22:37 UTC	(20051020-3043)
  Log:
  - Add +LPjQ cmodes
  - Change values for cmodes to charybdis's if they were different
  

  Changes:	Modified:
  +8 -4		trunk/include/protocol/hyperion.h (File Modified) 
  +5 -2		trunk/protocol/hyperion.c (File Modified) 


pfish       2005/10/20 01:21:42 UTC	(20051020-3041)
  Log:
  be aware of MC_KEEPTOPIC
  

  Changes:	Modified:
  +8 -0		trunk/modules/chanserv/info.c (File Modified) 


jilles      2005/10/20 00:57:26 UTC	(20051020-3039)
  Log:
  Add STOPIC support (most topic setting uses this).
  

  Changes:	Modified:
  +16 -0	trunk/protocol/hyperion.c (File Modified) 


jilles      2005/10/20 00:15:34 UTC	(20051020-3037)
  Log:
  Add support for receiving TB (topic bursting).
  

  Changes:	Modified:
  +16 -1	trunk/protocol/charybdis.c (File Modified) 
  +16 -1	trunk/protocol/ratbox.c (File Modified) 


jilles      2005/10/20 00:00:13 UTC	(20051020-3035)
  Log:
  Move the core of m_topic() to src/ptasks.c handle_topic().
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +3 -3		trunk/protocol/asuka.c (File Modified) 
  +2 -3		trunk/protocol/bahamut.c (File Modified) 
  +3 -3		trunk/protocol/bircd.c (File Modified) 
  +2 -3		trunk/protocol/charybdis.c (File Modified) 
  +2 -3		trunk/protocol/dreamforge.c (File Modified) 
  +3 -3		trunk/protocol/hyperion.c (File Modified) 
  +2 -3		trunk/protocol/inspircd.c (File Modified) 
  +3 -3		trunk/protocol/ircnet.c (File Modified) 
  +2 -3		trunk/protocol/monkey.c (File Modified) 
  +3 -3		trunk/protocol/plexus.c (File Modified) 
  +3 -3		trunk/protocol/ptlink.c (File Modified) 
  +3 -3		trunk/protocol/ratbox.c (File Modified) 
  +3 -3		trunk/protocol/scylla.c (File Modified) 
  +3 -3		trunk/protocol/shadowircd.c (File Modified) 
  +2 -3		trunk/protocol/sorcery.c (File Modified) 
  +2 -3		trunk/protocol/ultimate3.c (File Modified) 
  +3 -3		trunk/protocol/undernet.c (File Modified) 
  +2 -3		trunk/protocol/unreal.c (File Modified) 
  +19 -0	trunk/src/ptasks.c (File Modified) 


jilles      2005/10/19 23:36:17 UTC	(20051019-3033)
  Log:
  Don't do keeptopic topic restore if channelTS is equal
  to stored value (private:channelts). Avoid crashes if
  certain metadata doesn't exist.
  

  Changes:	Modified:
  +35 -13	trunk/modules/chanserv/set.c (File Modified) 


pfish       2005/10/19 06:06:53 UTC	(20051019-3031)
  Log:
  Initial keeptopic stuff, not live yet. But it works.
  

  Changes:	Modified:
  +1 -2		trunk/help/oservice/restart (File Modified) 
  +1 -0		trunk/include/account.h (File Modified) 
  +98 -1	trunk/modules/chanserv/set.c (File Modified) 


nenolod     2005/10/19 05:55:21 UTC	(20051019-3029)
  Log:
  Whee!
  

  Changes:	Modified:
  +0 -16	trunk/include/atheme.h (File Modified) 
  +0 -2		trunk/include/common.h (File Modified) 
  +1 -1		trunk/libatheme/balloc.c (File Modified) 
  +1 -1		trunk/libatheme/callback.c (File Modified) 
  +5 -1		trunk/libatheme/dlink.c (File Modified) 
  +2 -0		trunk/libatheme/libatheme.c (File Modified) 
  +17 -0	trunk/libatheme/org.atheme.claro.base (File Modified) 


nenolod     2005/10/19 05:37:42 UTC	(20051019-3027)
  Log:
  Whee!
  

  Changes:	Modified:
  +0 -10	trunk/include/atheme.h (File Modified) 
  +9 -0		trunk/libatheme/org.atheme.claro.base.datastream (File Modified) 


nenolod     2005/10/19 05:35:22 UTC	(20051019-3025)
  Log:
  Woohoo, fun!
  

  Changes:	Modified:
  +0 -5		trunk/include/extern.h (File Modified) 
  +1 -0		trunk/libatheme/Makefile.in (File Modified) 
  +1 -0		trunk/libatheme/Makefile.win32 (File Modified) 
  +58 -0	trunk/libatheme/datastream.c (File Added) 
  +1 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +17 -0	trunk/libatheme/org.atheme.claro.base.datastream (File Added) 
  +0 -53	trunk/src/node.c (File Modified) 


nenolod     2005/10/19 05:26:32 UTC	(20051019-3023)
  Log:
  node creation stuff to libatheme
  

  Changes:	Modified:
  +0 -9		trunk/include/extern.h (File Modified) 
  +7 -0		trunk/libatheme/dlink.h (File Modified) 
  +3 -0		trunk/libatheme/org.atheme.claro.base.string (File Modified) 


nenolod     2005/10/19 05:23:38 UTC	(20051019-3021)
  Log:
  woohoo!
  

  Changes:	Modified:
  +0 -4		trunk/include/extern.h (File Modified) 
  +1 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +18 -0	trunk/libatheme/org.atheme.claro.base.memory (File Added) 


nenolod     2005/10/19 05:19:40 UTC	(20051019-3019)
  Log:
  Lets avoid a collision here.
  

  Changes:	Modified:
  +1 -1		trunk/libatheme/org.atheme.claro.base (File Modified) 
  + -		trunk/libatheme/org.atheme.claro.base.string (File Added) 
  +0 -20	trunk/libatheme/string.h (File Deleted) 


nenolod     2005/10/19 05:18:49 UTC	(20051019-3017)
  Log:
  !*($(&$(*@!
  

  Changes:	Modified:
  +0 -1		trunk/include/common.h (File Modified) 
  +0 -20	trunk/include/extern.h (File Modified) 
  +12 -0	trunk/libatheme/event.h (File Modified) 
  +2 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 
  +1 -1		trunk/libatheme/sockio.c (File Modified) 
  +20 -0	trunk/libatheme/string.h (File Added) 


alambert    2005/10/19 05:14:59 UTC	(20051019-3015)
  Log:
  Rename atheme_init.sql to atheme_init.pgsql, now that we have MySQL support

  Changes:	Modified:
  + -		trunk/SQL/atheme_init.pgsql (File Added) 
  +0 -106	trunk/SQL/atheme_init.sql (File Deleted) 


nenolod     2005/10/19 05:14:23 UTC	(20051019-3013)
  Log:
  balloc stuff out of extern.h
  

  Changes:	Modified:
  +0 -13	trunk/include/extern.h (File Modified) 
  +10 -0	trunk/libatheme/balloc.h (File Modified) 


nenolod     2005/10/19 05:11:16 UTC	(20051019-3011)
  Log:
  org.atheme.claro.base will want sysconf regardless, so yeah!
  

  Changes:	Modified:
  +0 -3		trunk/include/atheme.h (File Modified) 
  +1 -0		trunk/libatheme/org.atheme.claro.base (File Modified) 


alambert    2005/10/19 05:02:21 UTC	(20051019-3009)
  Log:
  chanuser_add(), chanuser_delete(): make joins and parts trigger for internal clients, too. Add is_internal_client() to help modules differentiate between user actions and internal client actions.

  Changes:	Modified:
  +3 -0		trunk/modules/chanserv/close.c (File Modified) 
  +4 -1		trunk/modules/chanserv/main.c (File Modified) 
  +6 -0		trunk/modules/chanserv/set.c (File Modified) 
  +5 -0		trunk/src/function.c (File Modified) 
  +2 -9		trunk/src/node.c (File Modified) 


nenolod     2005/10/19 05:01:00 UTC	(20051019-3007)
  Log:
  libatheme now identifies itself as org.atheme.claro.base.
  We will now need to extract the functions out of atheme's extern.h, and into
  the bundle header.
  

  Changes:	Modified:
  +2 -2		trunk/libatheme/Makefile.in (File Modified) 
  +2 -2		trunk/libatheme/Makefile.win32 (File Modified) 
  +315 -286	trunk/src/.depend (File Modified) 
  +2 -2		trunk/src/Makefile.in (File Modified) 


nenolod     2005/10/19 04:53:56 UTC	(20051019-3005)
  Log:
  We're almost self hosting! :)
  

  Changes:	Modified:
  +5 -23	trunk/include/atheme.h (File Modified) 
  +0 -1		trunk/include/common.h (File Modified) 
  +0 -31	trunk/include/hook.h (File Deleted) 
  +0 -38	trunk/include/sockio.h (File Deleted) 
  +28 -0	trunk/libatheme/event.h (File Modified) 
  + -		trunk/libatheme/hook.h (File Added) 
  +30 -6	trunk/libatheme/org.atheme.claro.base (File Modified) 
  + -		trunk/libatheme/sockio.h (File Added) 


nenolod     2005/10/19 04:42:55 UTC	(20051019-3003)
  Log:
  More moving around :)
  

  Changes:	Modified:
  +4 -1		trunk/include/atheme.h (File Modified) 
  +21 -18	trunk/include/libatheme.h (File Deleted) 
  + -		trunk/libatheme/org.atheme.claro.base (File Added) 


nenolod     2005/10/19 04:40:25 UTC	(20051019-3001)
  Log:
  Finish move. :p
  

  Changes:	Modified:
  +1 -1		trunk/dbtool/Makefile.in (File Modified) 
  + -		trunk/libatheme/balloc.h (File Added) 
  + -		trunk/libatheme/callback.h (File Added) 
  + -		trunk/libatheme/connection.h (File Added) 
  + -		trunk/libatheme/dlink.h (File Added) 
  +24 -0	trunk/libatheme/event.h (File Added) 
  + -		trunk/libatheme/linker.h (File Added) 
  + -		trunk/libatheme/stdinc.h (File Added) 


nenolod     2005/10/19 04:40:11 UTC	(20051019-2999)
  Log:
  Move some stuff around.
  

  Changes:	Modified:
  +1 -12	trunk/include/atheme.h (File Modified) 
  +0 -46	trunk/include/balloc.h (File Deleted) 
  +0 -34	trunk/include/callback.h (File Deleted) 
  +0 -76	trunk/include/connection.h (File Deleted) 
  +0 -18	trunk/include/linker.h (File Deleted) 
  +0 -39	trunk/include/node.h (File Deleted) 
  +0 -80	trunk/include/stdinc.h (File Deleted) 


nenolod     2005/10/19 04:20:33 UTC	(20051019-2997)
  Log:
  Add claro package Manifest file for when we eventually get claro split off into it's own beast.
  

  Changes:	Modified:
  +20 -0	trunk/src/Manifest (File Added) 


nenolod     2005/10/19 04:01:49 UTC	(20051019-2995)
  Log:
  Add libatheme/ to includes.
  

  Changes:	Modified:
  +1 -1		trunk/backend/Makefile.in (File Modified) 
  +1 -1		trunk/backend/Makefile.win32 (File Modified) 
  +1 -1		trunk/contrib/Makefile.in (File Modified) 
  +1 -1		trunk/crypto/Makefile.in (File Modified) 
  +1 -1		trunk/dbtool/Makefile.in (File Modified) 
  +1 -1		trunk/dbtool/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  +1 -1		trunk/modules/Makefile.win32 (File Modified) 
  +2 -2		trunk/modules/chanserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/chanserv/Makefile.win32 (File Modified) 
  +2 -2		trunk/modules/global/Makefile.in (File Modified) 
  +1 -1		trunk/modules/global/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/helpserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/helpserv/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/memoserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/memoserv/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/nickserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/nickserv/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/operserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/operserv/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/userserv/Makefile.in (File Modified) 
  +1 -1		trunk/modules/userserv/Makefile.win32 (File Modified) 
  +1 -1		trunk/modules/xmlrpc/Makefile.in (File Modified) 
  +1 -1		trunk/modules/xmlrpc/Makefile.win32 (File Modified) 
  +1 -1		trunk/protocol/Makefile.in (File Modified) 
  +1 -1		trunk/protocol/Makefile.win32 (File Modified) 
  +1 -1		trunk/src/Makefile.in (File Modified) 
  +1 -1		trunk/src/Makefile.win32 (File Modified) 


alambert    2005/10/19 00:04:39 UTC	(20051019-2993)
  Log:
  CS CLEAR:
  - Avoid crashing if the channel does not exist
  - Avoid using possibly-bogus pointer after users kicked
  

  Changes:	Modified:
  +7 -1		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +11 -3	trunk/modules/chanserv/clear_users.c (File Modified) 


alambert    2005/10/18 23:55:43 UTC	(20051018-2991)
  Log:
  CS CLEAR: use chanacs_user_has_flag() so users with access via masks can still use the commands.

  Changes:	Modified:
  +1 -8		trunk/modules/chanserv/clear_bans.c (File Modified) 
  +1 -7		trunk/modules/chanserv/clear_users.c (File Modified) 


alambert    2005/10/18 23:44:17 UTC	(20051018-2989)
  Log:
  file headers

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/nickserv/link.c (File Modified) 


alambert    2005/10/18 23:14:57 UTC	(20051018-2987)
  Log:
  Fix problem with ChanServ not properly parting after cleanup

  Changes:	Modified:
  +10 -1	trunk/modules/chanserv/main.c (File Modified) 
  +5 -1		trunk/src/node.c (File Modified) 


nenolod     2005/10/18 19:00:21 UTC	(20051018-2985)
  Log:
  Fix bug #57:
  - should_protect() doesn't evaluate against SOP's.
  

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


nenolod     2005/10/18 18:21:56 UTC	(20051018-2983)
  Log:
  - Fix bug #59 (fcommand_exec) does not return error to non-channel targets.
  

  Changes:	Modified:
  +1 -1		trunk/include/commandtree.h (File Modified) 
  +1 -1		trunk/modules/chanserv/clear.c (File Modified) 
  +2 -2		trunk/modules/chanserv/main.c (File Modified) 
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +5 -2		trunk/src/commandtree.c (File Modified) 


nenolod     2005/10/18 17:33:53 UTC	(20051018-2981)
  Log:
  *grumble*
  

  Changes:	Modified:
  +1 -9		trunk/include/atheme.h (File Modified) 


alambert    2005/10/17 23:58:46 UTC	(20051017-2979)
  Log:
  move ChanServ functions out of chanuser_add() and into ChanServ itself. still needs cleanup but much better than having them in node.c

  Changes:	Modified:
  +214 -0	trunk/modules/chanserv/main.c (File Modified) 
  +1 -192	trunk/src/node.c (File Modified) 


nenolod     2005/10/17 15:10:27 UTC	(20051017-2977)
  Log:
  Death to restart delay.

  Changes:	Modified:
  +0 -2		trunk/src/atheme.c (File Modified) 
  +0 -6		trunk/src/conf.c (File Modified) 
  +4 -4		trunk/src/signal.c (File Modified) 


kog         2005/10/17 11:55:05 UTC	(20051017-2975)
  Log:
  uses fcommand for lookups, cleaner and better working code. Now actually works! 
  

  Changes:	Modified:
  +136 -105	trunk/modules/memoserv/ignore.c (File Modified) 


pfish       2005/10/17 09:57:25 UTC	(20051017-2973)
  Log:
  allow ircop override
  

  Changes:	Modified:
  +3 -3		trunk/modules/chanserv/count.c (File Modified) 


pfish       2005/10/17 09:52:19 UTC	(20051017-2971)
  Log:
  Add ChanServ/COUNT:
  -ChanServ- #support: VOp: 0, HOp: 0, AOp: 7, SOp: 4
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 
  +8 -0		trunk/help/cservice/count (File Added) 
  +0 -11	trunk/help/cservice/raw (File Deleted) 
  +1 -0		trunk/modules/chanserv/Makefile.in (File Modified) 
  +1 -0		trunk/modules/chanserv/Makefile.win32 (File Modified) 
  +84 -0	trunk/modules/chanserv/count.c (File Added) 


nenolod     2005/10/17 07:54:35 UTC	(20051017-2969)
  Log:
  - Update .depend for org.atheme.services.binary.
  

  Changes:	Modified:
  +319 -1	trunk/src/.depend (File Modified) 


nenolod     2005/10/17 07:52:19 UTC	(20051017-2967)
  Log:
  - Add memoserv/ignore to win32 makefile.
  - Initial work on an OS/2 port. Because I can, you see.
  

  Changes:	Modified:
  +10 -2	trunk/include/atheme.h (File Modified) 
  +1 -2		trunk/libatheme/linker.c (File Modified) 
  +1 -0		trunk/modules/memoserv/Makefile.win32 (File Modified) 


pfish       2005/10/17 06:09:03 UTC	(20051017-2965)
  Log:
  make notice()'s more consistent 
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/10/17 01:18:59 UTC	(20051017-2963)
  Log:
  Make find_service() a bit more efficient (no more 64k hash
  table traversals).
  

  Changes:	Modified:
  +44 -17	trunk/src/servtree.c (File Modified) 


jilles      2005/10/17 00:56:02 UTC	(20051017-2961)
  Log:
  Fix up /msg service@server. Clean up handle_privmsg() at the cost
  of find_service() which has become massively inefficient for
  UIDs.
  

  Changes:	Modified:
  +13 -11	trunk/src/ptasks.c (File Modified) 
  +14 -0	trunk/src/servtree.c (File Modified) 


nenolod     2005/10/16 20:27:20 UTC	(20051016-2959)
  Log:
  Clean up win32.c

  Changes:	Modified:
  +44 -62	trunk/libatheme/win32.c (File Modified) 


nenolod     2005/10/16 20:19:59 UTC	(20051016-2957)
  Log:
  protocol fixes for win32

  Changes:	Modified:
  +1 -1		trunk/protocol/Makefile.win32 (File Modified) 


nenolod     2005/10/16 20:07:33 UTC	(20051016-2955)
  Log:
  - Fix ultimate3 support on windows.
  

  Changes:	Modified:
  +4 -2		trunk/protocol/ultimate3.c (File Modified) 


nenolod     2005/10/16 19:31:11 UTC	(20051016-2953)
  Log:
  Windows support cleanups, and remove sleep(5) from monkey.c, monkeyircd 1.1 does not require it

  Changes:	Modified:
  +5 -0		trunk/Makefile.win32 (File Modified) 
  +0 -2		trunk/backend/Makefile.win32 (File Modified) 
  +0 -2		trunk/dbtool/Makefile.win32 (File Modified) 
  +1 -7		trunk/modules/Makefile.win32 (File Modified) 
  +0 -3		trunk/modules/chanserv/Makefile.win32 (File Modified) 
  +0 -3		trunk/modules/global/Makefile.win32 (File Modified) 
  +56 -0	trunk/modules/helpserv/Makefile.win32 (File Added) 
  +0 -2		trunk/modules/memoserv/Makefile.win32 (File Modified) 
  +1 -4		trunk/modules/nickserv/Makefile.win32 (File Modified) 
  +0 -3		trunk/modules/operserv/Makefile.win32 (File Modified) 
  +0 -3		trunk/modules/userserv/Makefile.win32 (File Modified) 
  +0 -2		trunk/modules/xmlrpc/Makefile.win32 (File Modified) 
  +1 -3		trunk/protocol/Makefile.win32 (File Modified) 
  +0 -3		trunk/protocol/monkey.c (File Modified) 
  +0 -6		trunk/src/Makefile.win32 (File Modified) 


kog         2005/10/16 12:25:02 UTC	(20051016-2951)
  Log:
  flushes sendq before disconnecting
  

  Changes:	Modified:
  +1 -0		trunk/src/atheme.c (File Modified) 


pfish       2005/10/16 10:12:49 UTC	(20051016-2949)
  Log:
  show marked/frozen nicks in LIST
  

  Changes:	Modified:
  +4 -2		trunk/modules/nickserv/list.c (File Modified) 


kog         2005/10/16 09:27:02 UTC	(20051016-2947)
  Log:
  pointer issues on line 217... this is probably broken
  

  Changes:	Modified:
  +2 -2		trunk/backend/mysql.c (File Modified) 


kog         2005/10/16 09:11:04 UTC	(20051016-2945)
  Log:
  incompatible pointer type on escape_string for ignores
  

  Changes:	Modified:
  +1 -1		trunk/backend/mysql.c (File Modified) 


kog         2005/10/16 09:04:43 UTC	(20051016-2943)
  Log:
  fixed broken ignore list query
  

  Changes:	Modified:
  +1 -2		trunk/backend/postgresql.c (File Modified) 


kog         2005/10/16 09:00:26 UTC	(20051016-2941)
  Log:
  fixed broken SELECT for memo ignores
  

  Changes:	Modified:
  +1 -2		trunk/backend/mysql.c (File Modified) 


kog         2005/10/16 08:49:56 UTC	(20051016-2939)
  Log:
  memoserv ignore DB additions
  

  Changes:	Modified:
  +43 -0	trunk/backend/mysql.c (File Modified) 
  +43 -0	trunk/backend/postgresql.c (File Modified) 


kog         2005/10/16 07:27:04 UTC	(20051016-2937)
  Log:
  added memoserv ignore tables
  

  Changes:	Modified:
  +14 -0	trunk/SQL/atheme_init.mysql (File Modified) 
  +8 -0		trunk/SQL/atheme_init.sql (File Modified) 


kog         2005/10/16 07:06:22 UTC	(20051016-2935)
  Log:
  flatfile now stores memoserv ignores (MI user target)
  

  Changes:	Modified:
  +25 -0	trunk/backend/flatfile.c (File Modified) 


kog         2005/10/16 07:03:56 UTC	(20051016-2933)
  Log:
  ignore checks proper buffer length (-1),
  forward and send now look at myuser->name and not origin for ignores
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/ignore.c (File Modified) 
  +2 -2		trunk/modules/memoserv/send.c (File Modified) 


kog         2005/10/16 06:27:47 UTC	(20051016-2931)
  Log:
  realname for helpserv now says help services
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 
  +1 -1		trunk/dist/example.userserv.conf (File Modified) 


nenolod     2005/10/16 06:00:27 UTC	(20051016-2929)
  Log:
  Add win32 setup stuff.

  Changes:	Modified:
  +0 -0		trunk/win32/Atheme.bmp (File Added) 
  +0 -0		trunk/win32/Atheme.ico (File Added) 
  +32 -0	trunk/win32/setup.iss (File Added) 


kog         2005/10/16 05:19:25 UTC	(20051016-2927)
  Log:
  help files for memoserv
  

  Changes:	Modified:
  + -		trunk/help/memoserv/ (File Added) 
  +16 -0	trunk/help/memoserv/delete (File Added) 
  +12 -0	trunk/help/memoserv/forward (File Added) 
  +16 -0	trunk/help/memoserv/ignore (File Added) 
  +12 -0	trunk/help/memoserv/list (File Added) 
  +12 -0	trunk/help/memoserv/read (File Added) 
  +15 -0	trunk/help/memoserv/send (File Added) 


nenolod     2005/10/16 05:08:16 UTC	(20051016-2925)
  Log:
  windows is stupid and wont delete something that doesn't exist

  Changes:	Modified:
  +0 -1		trunk/libatheme/Makefile.win32 (File Modified) 


kog         2005/10/16 05:07:06 UTC	(20051016-2923)
  Log:
  checks to see if sender is in target's ignore list. if so, pretend memo is sent
  

  Changes:	Modified:
  +10 -0	trunk/modules/memoserv/forward.c (File Modified) 
  +11 -0	trunk/modules/memoserv/send.c (File Modified) 


nenolod     2005/10/16 04:57:20 UTC	(20051016-2921)
  Log:
  Update buildsystem.

  Changes:	Modified:
  +55 -55	trunk/backend/Makefile.win32 (File Modified) 
  +51 -51	trunk/dbtool/Makefile.win32 (File Modified) 
  +56 -56	trunk/libatheme/Makefile.win32 (File Modified) 
  +58 -58	trunk/modules/Makefile.win32 (File Modified) 
  +84 -84	trunk/modules/chanserv/Makefile.win32 (File Modified) 
  +55 -55	trunk/modules/global/Makefile.win32 (File Modified) 
  +65 -65	trunk/modules/memoserv/Makefile.win32 (File Modified) 
  +77 -77	trunk/modules/nickserv/Makefile.win32 (File Modified) 
  +73 -73	trunk/modules/operserv/Makefile.win32 (File Modified) 
  +75 -75	trunk/modules/userserv/Makefile.win32 (File Modified) 
  +57 -57	trunk/modules/xmlrpc/Makefile.win32 (File Modified) 
  +69 -69	trunk/protocol/Makefile.win32 (File Modified) 
  +116 -116	trunk/src/Makefile.win32 (File Modified) 


nenolod     2005/10/16 04:52:32 UTC	(20051016-2919)
  Log:
  less win32 retardation here

  Changes:	Modified:
  +0 -10	trunk/include/stdinc.h (File Modified) 


nenolod     2005/10/16 04:49:49 UTC	(20051016-2917)
  Log:
  Cope with W32API brokenness, again.

  Changes:	Modified:
  +7 -10	trunk/win32/sysconf.h (File Modified) 


nenolod     2005/10/16 04:47:12 UTC	(20051016-2915)
  Log:
  Cope with W32API brokenness.

  Changes:	Modified:
  +164 -136	trunk/win32/sysconf.h (File Modified) 


kog         2005/10/16 04:45:08 UTC	(20051016-2913)
  Log:
  memoserv ignore - first installment 
  

  Changes:	Modified:
  +1 -0		trunk/dist/example.userserv.conf (File Modified) 
  +1 -0		trunk/include/common.h (File Modified) 
  +2 -1		trunk/modules/memoserv/Makefile.in (File Modified) 
  +204 -0	trunk/modules/memoserv/ignore.c (File Added) 


nenolod     2005/10/16 04:10:42 UTC	(20051016-2911)
  Log:
  typo fix in Win32 build instructions

  Changes:	Modified:
  +67 -67	trunk/Makefile.win32 (File Modified) 


terminal    2005/10/16 01:45:05 UTC	(20051016-2909)
  Log:
  Removed accidental debug message.

  Changes:	Modified:
  +0 -1		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/10/16 01:35:02 UTC	(20051016-2907)
  Log:
  Really lets don't allow blank metadata. :p
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


terminal    2005/10/16 01:31:54 UTC	(20051016-2905)
  Log:
  install atheme.exe binary too

  Changes:	Modified:
  +1 -0		trunk/Makefile.win32 (File Modified) 


terminal    2005/10/16 01:30:22 UTC	(20051016-2903)
  Log:
  another whoops

  Changes:	Modified:
  +1 -1		trunk/modules/xmlrpc/Makefile.win32 (File Modified) 


terminal    2005/10/16 01:26:55 UTC	(20051016-2901)
  Log:
  00pz win32 :)

  Changes:	Modified:
  +4 -0		trunk/dbtool/dbtool.c (File Modified) 


terminal    2005/10/16 01:22:18 UTC	(20051016-2899)
  Log:
  Win32 support! At least it appears to work.
  Worth a note, many global structs have been converted to real typedef definitions and have an extern definition in the header (and are actually declared in atheme.c)

  Changes:	Modified:
  +66 -0	trunk/Makefile.win32 (File Added) 
  +55 -0	trunk/backend/Makefile.win32 (File Added) 
  +5 -0		trunk/backend/flatfile.c (File Modified) 
  +51 -0	trunk/dbtool/Makefile.win32 (File Added) 
  +33 -9	trunk/include/atheme.h (File Modified) 
  +4 -3		trunk/include/extern.h (File Modified) 
  +3 -3		trunk/include/metadata.h (File Modified) 
  +35 -14	trunk/include/services.h (File Modified) 
  +56 -0	trunk/libatheme/Makefile.win32 (File Added) 
  +10 -1	trunk/libatheme/connection.c (File Modified) 
  +62 -0	trunk/libatheme/win32.c (File Added) 
  +58 -0	trunk/modules/Makefile.win32 (File Added) 
  +84 -0	trunk/modules/chanserv/Makefile.win32 (File Added) 
  +2 -0		trunk/modules/chanserv/set.c (File Modified) 
  +55 -0	trunk/modules/global/Makefile.win32 (File Added) 
  +65 -0	trunk/modules/memoserv/Makefile.win32 (File Added) 
  +77 -0	trunk/modules/nickserv/Makefile.win32 (File Added) 
  +73 -0	trunk/modules/operserv/Makefile.win32 (File Added) 
  +75 -0	trunk/modules/userserv/Makefile.win32 (File Added) 
  +57 -0	trunk/modules/xmlrpc/Makefile.win32 (File Added) 
  +69 -0	trunk/protocol/Makefile.win32 (File Added) 
  +2 -1		trunk/protocol/unreal.c (File Modified) 
  +116 -0	trunk/src/Makefile.win32 (File Added) 
  +11 -0	trunk/src/atheme.c (File Modified) 
  +1 -1		trunk/src/conf.c (File Modified) 
  +2 -0		trunk/src/function.c (File Modified) 
  +5 -1		trunk/src/node.c (File Modified) 
  +4 -0		trunk/src/packet.c (File Modified) 
  +3 -3		trunk/src/pmodule.c (File Modified) 
  +6 -0		trunk/src/servtree.c (File Modified) 
  +1 -1		trunk/src/uplink.c (File Modified) 
  + -		trunk/win32/ (File Added) 
  +4951 -0	trunk/win32/regex.c (File Added) 
  +490 -0	trunk/win32/regex.h (File Added) 
  +136 -0	trunk/win32/sysconf.h (File Added) 
  +85 -0	trunk/win32/version.c (File Added) 


nenolod     2005/10/16 00:21:57 UTC	(20051016-2897)
  Log:
  fix typo :p

  Changes:	Modified:
  +1 -1		trunk/backend/postgresql.c (File Modified) 


nenolod     2005/10/16 00:13:08 UTC	(20051016-2895)
  Log:
  - Ignore invalid metadata entries on postgresql. I'll port this over to mysql and flatfile soon.
  

  Changes:	Modified:
  +36 -3	trunk/backend/postgresql.c (File Modified) 


pfish       2005/10/15 23:51:27 UTC	(20051015-2893)
  Log:
  fix help_addentry
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/listmail.c (File Modified) 


nenolod     2005/10/15 22:23:05 UTC	(20051015-2891)
  Log:
  Apply more niceities for sun boxes.

  Changes:	Modified:
  +0 -2		trunk/Makefile.in (File Modified) 
  +33 -3	trunk/configure (File Modified) 
  +1 -0		trunk/configure.ac (File Modified) 


nenolod     2005/10/15 07:22:36 UTC	(20051015-2889)
  Log:
  Update install document :p

  Changes:	Modified:
  +21 -9	trunk/INSTALL (File Modified) 


nenolod     2005/10/15 04:34:36 UTC	(20051015-2887)
  Log:
  I hate Solaris.
  

  Changes:	Modified:
  +2 -2		trunk/src/Makefile.in (File Modified) 


nenolod     2005/10/14 22:42:00 UTC	(20051014-2885)
  Log:
  Apply some niceities for sun boxes.
  

  Changes:	Modified:
  +3967 -0	trunk/configure (File Modified) 
  +49 -0	trunk/configure.ac (File Modified) 
  +0 -7		trunk/include/libatheme.h (File Modified) 
  +45 -0	trunk/include/sysconf.h.in (File Modified) 


nenolod     2005/10/14 21:50:46 UTC	(20051014-2883)
  Log:
  Improved setup script. :P
  

  Changes:	Modified:
  +6 -0		trunk/.logo (File Added) 
  +8 -9		trunk/setup (File Modified) 


kuja        2005/10/14 04:53:40 UTC	(20051014-2881)
  Log:
  Added helper.c and override.c to the compilation

  Changes:	Modified:
  +4 -2		trunk/modules/helpserv/Makefile.in (File Modified) 


kuja        2005/10/14 04:52:44 UTC	(20051014-2879)
  Log:
  Added OVERRIDE (add or remove override metadata, helpers only) command

  Changes:	Modified:
  +70 -0	trunk/modules/helpserv/override.c (File Added) 


kuja        2005/10/14 04:11:59 UTC	(20051014-2877)
  Log:
  Added HELPER (add or remove helpers, SRA only) command

  Changes:	Modified:
  +80 -0	trunk/modules/helpserv/helper.c (File Added) 


kuja        2005/10/14 03:37:41 UTC	(20051014-2875)
  Log:
  Added support for MU_HELPER flag

  Changes:	Modified:
  +6 -0		trunk/modules/nickserv/info.c (File Modified) 


kuja        2005/10/14 03:29:26 UTC	(20051014-2873)
  Log:
  Added MU_HELPER flag

  Changes:	Modified:
  +1 -0		trunk/include/account.h (File Modified) 


nenolod     2005/10/14 01:46:33 UTC	(20051014-2871)
  Log:
  Hide IRCop commands in \!help.

  Changes:	Modified:
  +4 -0		trunk/modules/chanserv/help.c (File Modified) 


nenolod     2005/10/13 00:19:38 UTC	(20051013-2869)
  Log:
  Add channel_part hook.
  

  Changes:	Modified:
  +2 -0		trunk/src/node.c (File Modified) 


jilles      2005/10/12 23:26:38 UTC	(20051012-2867)
  Log:
  ircnet ircd notes
  

  Changes:	Modified:
  +14 -0	trunk/doc/IRCD (File Modified) 


jilles      2005/10/12 23:10:04 UTC	(20051012-2865)
  Log:
  Lots of ircnet fixes, including ugly ones.
  

  Changes:	Modified:
  +72 -18	trunk/protocol/ircnet.c (File Modified) 


nenolod     2005/10/12 23:09:06 UTC	(20051012-2863)
  Log:
  Fix a memory corruption error in akill deletion.

  Changes:	Modified:
  +1 -2		trunk/src/node.c (File Modified) 


nenolod     2005/10/12 22:53:56 UTC	(20051012-2861)
  Log:
  Make sure there's a hostbuf in AKILL.

  Changes:	Modified:
  +8 -1		trunk/modules/operserv/akill.c (File Modified) 


nenolod     2005/10/12 21:40:43 UTC	(20051012-2859)
  Log:
  - Fix a compile warning here.
  

  Changes:	Modified:
  +1 -1		trunk/src/confparse.c (File Modified) 


jilles      2005/10/12 21:37:34 UTC	(20051012-2857)
  Log:
  Bail out of chanuser_add() if channel is NULL. This avoids
  crashes with !channels with ircnet ircd, for example.
  

  Changes:	Modified:
  +3 -0		trunk/src/node.c (File Modified) 


jilles      2005/10/12 21:19:57 UTC	(20051012-2855)
  Log:
  Fix chanserv rejoining on kick, as in protocol/charybdis.c 2397
  

  Changes:	Modified:
  +1 -1		trunk/protocol/ircnet.c (File Modified) 


jilles      2005/10/12 11:05:25 UTC	(20051012-2853)
  Log:
  Show origin of CLEAR USERS command in kick reason.
  

  Changes:	Modified:
  +6 -3		trunk/modules/chanserv/clear_users.c (File Modified) 


jilles      2005/10/12 10:16:33 UTC	(20051012-2851)
  Log:
  Avoid kicking any services on /cs clear users, not just chanserv.
  

  Changes:	Modified:
  +1 -1		trunk/modules/chanserv/clear_users.c (File Modified) 


pfish       2005/10/12 09:49:01 UTC	(20051012-2849)
  Log:
  bugfix
  

  Changes:	Modified:
  +2 -1		trunk/modules/chanserv/clear_users.c (File Modified) 


nenolod     2005/10/11 22:17:11 UTC	(20051011-2847)
  Log:
  Unbreak. >_<.
  

  Changes:	Modified:
  +4 -3		trunk/configure (File Modified) 
  +1 -2		trunk/modules/memoserv/Makefile.in (File Modified) 


kog         2005/10/11 12:45:45 UTC	(20051011-2845)
  Log:
  added help dir for helpserv
  

  Changes:	Modified:
  + -		trunk/help/helpserv/ (File Added) 


kog         2005/10/11 12:44:34 UTC	(20051011-2843)
  Log:
  added version tracking... forgot to set
  
  

  Changes:	Modified:
  + -		trunk/modules/helpserv/Makefile.in  (Property Modified)
  + -		trunk/modules/helpserv/help.c  (Property Modified)
  + -		trunk/modules/helpserv/main.c  (Property Modified)


kog         2005/10/11 12:42:06 UTC	(20051011-2841)
  Log:
  initial helpserv commit - Kog
  

  Changes:	Modified:
  + -		trunk/modules/helpserv/ (File Added) 
  +58 -0	trunk/modules/helpserv/Makefile.in (File Added) 
  +101 -0	trunk/modules/helpserv/help.c (File Added) 
  +121 -0	trunk/modules/helpserv/main.c (File Added) 


kog         2005/10/11 12:35:07 UTC	(20051011-2839)
  Log:
  helpserv skeleton add (requested by Kuja) 
  

  Changes:	Modified:
  +1 -0		trunk/configure.ac (File Modified) 
  +38 -0	trunk/dist/example.conf (File Modified) 
  +37 -0	trunk/dist/example.userserv.conf (File Modified) 
  +1 -0		trunk/include/account.h (File Modified) 
  +20 -10	trunk/include/services.h (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  +61 -0	trunk/src/conf.c (File Modified) 


kog         2005/10/11 07:53:30 UTC	(20051011-2837)
  Log:
  removed comments from top that didn't need to be there
  

  Changes:	Modified:
  +2 -3		trunk/modules/memoserv/Makefile.in (File Modified) 


terminal    2005/10/11 05:27:26 UTC	(20051011-2835)
  Log:
   - lots of Win32-related fixes
   - externs used by modules are now "E" and use dllexport on Windows
   - help_addentry/delentry were not defined in headers, nickserv mark/list referenced them with an incorrect argument count

  Changes:	Modified:
  +11 -0	trunk/include/atheme.h (File Modified) 
  +8 -8		trunk/include/commandtree.h (File Modified) 
  +6 -1		trunk/include/extern.h (File Modified) 
  +6 -6		trunk/include/hook.h (File Modified) 
  +10 -10	trunk/include/module.h (File Modified) 
  +47 -47	trunk/include/phandler.h (File Modified) 
  +7 -7		trunk/include/pmodule.h (File Modified) 
  +6 -6		trunk/include/servers.h (File Modified) 
  +5 -5		trunk/include/servtree.h (File Modified) 
  +5 -1		trunk/libatheme/memory.c (File Modified) 
  +1 -1		trunk/modules/nickserv/list.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +4 -0		trunk/modules/operserv/modrestart.c (File Modified) 
  +1 -1		trunk/src/atheme.c (File Modified) 


terminal    2005/10/11 03:43:19 UTC	(20051011-2833)
  Log:
  changed config_load() to use fopen() instead of open() for windows compatibility

  Changes:	Modified:
  +9 -9		trunk/src/confparse.c (File Modified) 


terminal    2005/10/11 03:27:03 UTC	(20051011-2831)
  Log:
  remove a debug printf that managed to stay in

  Changes:	Modified:
  +1 -1		trunk/libatheme/balloc.c (File Modified) 


terminal    2005/10/11 03:24:28 UTC	(20051011-2829)
  Log:
  zeroing memory in local mmap implementation for windows compatibility

  Changes:	Modified:
  +7 -3		trunk/libatheme/balloc.c (File Modified) 


jilles      2005/10/10 23:55:34 UTC	(20051010-2827)
  Log:
  Fall back to TS5 if no numeric was specified or our uplink
  does not support TS6. Do some crude validation on the
  configured numeric (sid).
  

  Changes:	Modified:
  +41 -8	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/10/10 21:53:24 UTC	(20051010-2825)
  Log:
  - ConfTable changes for later fun.
  

  Changes:	Modified:
  +2 -0		trunk/include/confparse.h (File Modified) 


nenolod     2005/10/10 21:03:25 UTC	(20051010-2823)
  Log:
  - bump us up to 0.3beta5.
  

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


terminal    2005/10/10 04:12:13 UTC	(20051010-2821)
  Log:
  Some fixes to get closer to a compile on Win32/MinGW.

  Changes:	Modified:
  +2 -0		trunk/include/extern.h (File Modified) 
  +12 -5	trunk/include/stdinc.h (File Modified) 
  +2 -0		trunk/src/atheme.c (File Modified) 
  +9 -0		trunk/src/function.c (File Modified) 
  +7 -1		trunk/src/module.c (File Modified) 
  +6 -0		trunk/src/signal.c (File Modified) 


pfish       2005/10/10 00:15:26 UTC	(20051010-2819)
  Log:
  Wallops when SRA uses override to drop a nick/account 
  

  Changes:	Modified:
  +4 -0		trunk/modules/nickserv/drop.c (File Modified) 
  +3 -0		trunk/modules/userserv/drop.c (File Modified) 


pfish       2005/10/09 23:51:15 UTC	(20051009-2817)
  Log:
  Bugfix /US DROP
  

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


pfish       2005/10/09 23:50:38 UTC	(20051009-2815)
  Log:
  Bugfix /NS DROP
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/drop.c (File Modified) 


kuja        2005/10/09 10:10:07 UTC	(20051009-2813)
  Log:
  My name is Jeff, not John. And the email was @gamesnet.com, not .net

  Changes:	Modified:
  +1 -1		trunk/src/version.sh (File Modified) 


terminal    2005/10/09 09:04:54 UTC	(20051009-2811)
  Log:
  dlX() win32 hack

  Changes:	Modified:
  +10 -0	trunk/libatheme/linker.c (File Modified) 


terminal    2005/10/09 03:00:52 UTC	(20051009-2809)
  Log:
  fix compile on Apple GCC - run not tested
  

  Changes:	Modified:
  +15 -2	trunk/configure (File Modified) 
  +11 -0	trunk/configure.ac (File Modified) 


terminal    2005/10/09 02:25:13 UTC	(20051009-2807)
  Log:
  oops, fixed delete all case again (untested)

  Changes:	Modified:
  +25 -25	trunk/modules/memoserv/delete.c (File Modified) 


nenolod     2005/10/09 01:39:26 UTC	(20051009-2805)
  Log:
  Fix whitespace issue in /info
  

  Changes:	Modified:
  +1 -1		trunk/src/version.sh (File Modified) 


terminal    2005/10/09 01:35:38 UTC	(20051009-2803)
  Log:
  adding myself to core listing thingey

  Changes:	Modified:
  +1 -0		trunk/src/version.sh (File Modified) 


terminal    2005/10/09 01:29:49 UTC	(20051009-2801)
  Log:
  fixes for 0/string delete index

  Changes:	Modified:
  +2 -2		trunk/modules/memoserv/delete.c (File Modified) 


nenolod     2005/10/09 01:14:40 UTC	(20051009-2799)
  Log:
  memoct_new stuff
  

  Changes:	Modified:
  +3 -0		trunk/backend/flatfile.c (File Modified) 
  +3 -0		trunk/backend/mysql.c (File Modified) 
  +3 -0		trunk/backend/postgresql.c (File Modified) 


nenolod     2005/10/09 01:00:31 UTC	(20051009-2797)
  Log:
  20:00 <+Terminal> be clean, dammit
  

  Changes:	Modified:
  +0 -1		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/09 00:59:11 UTC	(20051009-2795)
  Log:
  /me fwaps Kog x3
  

  Changes:	Modified:
  +7 -7		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/09 00:48:55 UTC	(20051009-2793)
  Log:
  - Truncate the ACCOUNT_MEMOS table before dumping to it. (duncecap goes to me on that one.)
  - We don't even need user_t *tu in memoserv read, so let's not use it. (duncecap goes to Kog on that one.)
  

  Changes:	Modified:
  +1 -0		trunk/backend/mysql.c (File Modified) 
  +1 -0		trunk/backend/postgresql.c (File Modified) 
  +2 -5		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/09 00:40:33 UTC	(20051009-2791)
  Log:
  0.3beta4

  Changes:	Modified:
  +11 -11	trunk/configure (File Modified) 
  +1 -1		trunk/configure.ac (File Modified) 


nenolod     2005/10/09 00:34:59 UTC	(20051009-2789)
  Log:
  /me fwaps Kog

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/09 00:27:33 UTC	(20051009-2787)
  Log:
  Possible MemoServ storage fix, untested.

  Changes:	Modified:
  +1 -1		trunk/backend/flatfile.c (File Modified) 
  +1 -1		trunk/backend/mysql.c (File Modified) 
  +1 -1		trunk/backend/postgresql.c (File Modified) 
  +1 -1		trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/10/09 00:07:16 UTC	(20051009-2785)
  Log:
  Bugfix /ns register.

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 


nenolod     2005/10/09 00:04:02 UTC	(20051009-2783)
  Log:
  Fix hostsetting on charybdis.

  Changes:	Modified:
  +2 -3		trunk/protocol/charybdis.c (File Modified) 


pfish       2005/10/08 22:55:21 UTC	(20051008-2781)
  Log:
  Fix another error with pgsql memo storage
  

  Changes:	Modified:
  +1 -0		trunk/SQL/atheme_init.sql (File Modified) 


pfish       2005/10/08 22:41:47 UTC	(20051008-2779)
  Log:
  Fix pgsql schema.
  

  Changes:	Modified:
  +1 -1		trunk/SQL/atheme_init.sql (File Modified) 


nenolod     2005/10/08 21:01:27 UTC	(20051008-2777)
  Log:
  WTF was that there for :/

  Changes:	Modified:
  + -		trunk/modules/hostserv/ (File Deleted) 


nenolod     2005/10/08 20:49:21 UTC	(20051008-2775)
  Log:
  Save memos to SQL, fix the infamous MySQL bug -- beu was seeking through the master resultset. :/

  Changes:	Modified:
  +49 -2	trunk/backend/mysql.c (File Modified) 
  +42 -0	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/10/08 20:32:23 UTC	(20051008-2773)
  Log:
  Remove a check here for now.

  Changes:	Modified:
  +0 -12	trunk/modules/nickserv/vhost.c (File Modified) 
  +0 -12	trunk/modules/userserv/vhost.c (File Modified) 


nenolod     2005/10/08 20:28:51 UTC	(20051008-2771)
  Log:
  Add memoserv stuff to SQL schemas.

  Changes:	Modified:
  +21 -0	trunk/SQL/atheme_init.mysql (File Modified) 
  +10 -0	trunk/SQL/atheme_init.sql (File Modified) 


nenolod     2005/10/08 20:21:38 UTC	(20051008-2769)
  Log:
  Save memos to the flatfile database

  Changes:	Modified:
  +35 -0	trunk/backend/flatfile.c (File Modified) 


nenolod     2005/10/08 20:08:06 UTC	(20051008-2767)
  Log:
  Grammar is a good thing. Lets use some.

  Changes:	Modified:
  +1 -2		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/08 20:04:32 UTC	(20051008-2765)
  Log:
  someone made a mistake here...

  Changes:	Modified:
  +3 -3		trunk/modules/memoserv/list.c (File Modified) 


nenolod     2005/10/08 20:02:35 UTC	(20051008-2763)
  Log:
  SRA passthrough for channel drop.

  Changes:	Modified:
  +2 -2		trunk/modules/chanserv/drop.c (File Modified) 


nenolod     2005/10/08 20:01:48 UTC	(20051008-2761)
  Log:
  SRA passthrough for the account drop command.

  Changes:	Modified:
  +5 -4		trunk/modules/nickserv/drop.c (File Modified) 
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


nenolod     2005/10/08 19:56:56 UTC	(20051008-2759)
  Log:
  documentation updates

  Changes:	Modified:
  +6 -0		trunk/dist/example.conf (File Modified) 
  +6 -0		trunk/dist/example.userserv.conf (File Modified) 


nenolod     2005/10/08 19:34:46 UTC	(20051008-2757)
  Log:
  Fix error(s) in userserv/vhost.

  Changes:	Modified:
  +5 -5		trunk/modules/userserv/vhost.c (File Modified) 


nenolod     2005/10/08 19:10:25 UTC	(20051008-2755)
  Log:
  Place MemoServ section below OperServ.
  

  Changes:	Modified:
  +21 -21	trunk/dist/example.conf (File Modified) 
  +21 -21	trunk/dist/example.userserv.conf (File Modified) 


nenolod     2005/10/08 19:06:11 UTC	(20051008-2753)
  Log:
  - integrate vhost system into the core.
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 
  +155 -1	trunk/modules/nickserv/Makefile.in (File Modified) 
  + -		trunk/modules/nickserv/vhost.c (File Added) 
  +155 -1	trunk/modules/userserv/Makefile.in (File Modified) 
  + -		trunk/modules/userserv/vhost.c (File Added) 


pfish       2005/10/07 21:25:08 UTC	(20051007-2751)
  Log:
  - Fix empty notice
  - Display [unread] on new memos on MS LIST
  

  Changes:	Modified:
  +4 -1		trunk/modules/memoserv/list.c (File Modified) 


kog         2005/10/07 19:24:57 UTC	(20051007-2749)
  Log:
  read now gives notice of receipt if sender online, memo if sender offline 
  

  Changes:	Modified:
  +35 -7	trunk/modules/memoserv/read.c (File Modified) 


alambert    2005/10/07 18:18:19 UTC	(20051007-2747)
  Log:
  OS MODE: Make sure we specify which channel doesn't exist. Reported by pi.

  Changes:	Modified:
  +1 -1		trunk/modules/operserv/mode.c (File Modified) 


nenolod     2005/10/07 03:45:59 UTC	(20051007-2745)
  Log:
  glibc sucks.

  Changes:	Modified:
  +1 -1		trunk/src/function.c (File Modified) 


kog         2005/10/07 01:43:55 UTC	(20051007-2743)
  Log:
  notify hook now uses notice, not myuser_notice
  

  Changes:	Modified:
  +5 -3		trunk/modules/memoserv/main.c (File Modified) 


jilles      2005/10/07 00:50:12 UTC	(20051007-2741)
  Log:
  Improve message on login/identify to a frozen nick/username.
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 


jilles      2005/10/07 00:49:45 UTC	(20051007-2739)
  Log:
  Quotes need to be used in pairs.
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/set.c (File Modified) 
  +2 -3		trunk/modules/userserv/set.c (File Modified) 


pfish       2005/10/07 00:28:21 UTC	(20051007-2737)
  Log:
  remove subject from syntax
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/10/06 23:07:28 UTC	(20051006-2735)
  Log:
  Change user_identify hook to take user_t instead of myuser_t.
  

  Changes:	Modified:
  +1 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +1 -1		trunk/modules/userserv/login.c (File Modified) 


pfish       2005/10/06 22:52:39 UTC	(20051006-2733)
  Log:
  - Port NickServ/SET additions (emailmemos, nomemo) over to UserServ.
  - Add help for NS/US SET emailmemos
  

  Changes:	Modified:
  + -		trunk/help/nickserv/set_emailmemos (File Added) 
  + -		trunk/help/userserv/set_emailmemos (File Added) 
  +2 -0		trunk/modules/nickserv/set.c (File Modified) 
  +108 -0	trunk/modules/userserv/set.c (File Modified) 


kog         2005/10/06 21:21:25 UTC	(20051006-2731)
  Log:
  hooks user_identify
  

  Changes:	Modified:
  +20 -1	trunk/modules/memoserv/main.c (File Modified) 


pfish       2005/10/06 21:13:13 UTC	(20051006-2729)
  Log:
  fix formatting for nomemo/add set emailmemos to help
  

  Changes:	Modified:
  +2 -1		trunk/modules/nickserv/help.c (File Modified) 


kog         2005/10/06 21:10:27 UTC	(20051006-2727)
  Log:
  moved new memo notice into modules/memoserv/main.c 
  

  Changes:	Modified:
  +0 -6		trunk/modules/nickserv/identify.c (File Modified) 
  +0 -6		trunk/modules/userserv/login.c (File Modified) 


nenolod     2005/10/06 17:17:52 UTC	(20051006-2725)
  Log:
  free(n->data) is incorrect, use free(memo) instead.
  

  Changes:	Modified:
  +2 -1		trunk/modules/memoserv/delete.c (File Modified) 


jilles      2005/10/06 11:40:01 UTC	(20051006-2723)
  Log:
  - Use myuser->name for the sender field, not their current nick
  - Fix MU_EMAILMEMOS check in forward
  - Use myuser_notice() for notifying target user (if logged in)
    giving both nick and myuser->name of sender (sender is still
    only notified about logged in recipient if it is with the
    registered nick)
  - Make the send and forward code a bit more similar
  

  Changes:	Modified:
  +12 -8	trunk/modules/memoserv/forward.c (File Modified) 
  +19 -16	trunk/modules/memoserv/send.c (File Modified) 


kog         2005/10/06 10:56:35 UTC	(20051006-2721)
  Log:
  third party contrib for random password generation (nickserv and userserv modules include) -- Kog
  

  Changes:	Modified:
  + -		trunk/contrib/ns_generatepass.c (File Added) 
  + -		trunk/contrib/us_generatepass.c (File Added) 


jilles      2005/10/06 10:52:54 UTC	(20051006-2719)
  Log:
  Send a notice to all users already logged in to an account
  on login.
  

  Changes:	Modified:
  +2 -0		trunk/modules/nickserv/identify.c (File Modified) 
  +2 -0		trunk/modules/userserv/login.c (File Modified) 


jilles      2005/10/06 10:50:45 UTC	(20051006-2717)
  Log:
  Add myuser_notice() to send a notice to all users
  logged in to a certain myuser.
  

  Changes:	Modified:
  +1 -0		trunk/include/extern.h (File Modified) 
  +24 -0	trunk/src/node.c (File Modified) 


jilles      2005/10/06 10:28:21 UTC	(20051006-2715)
  Log:
  Correct "too long" error message.
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 


jilles      2005/10/06 10:26:04 UTC	(20051006-2713)
  Log:
  - Fix send to self check with identify as
  - Correct MEMOLEN check
  - Improve "is target online" check a bit, not fully correct yet,
    but shouldn't crash anymore
  

  Changes:	Modified:
  +3 -3		trunk/modules/memoserv/forward.c (File Modified) 
  +5 -4		trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 09:53:48 UTC	(20051006-2711)
  Log:
  Allow users to forward memos to the e-mail address listed on their registration.
  - Usage: NickServ SET EMAILMEMOS [ON|OFF]
  - The default is off.
  

  Changes:	Modified:
  +8 -0		trunk/modules/memoserv/forward.c (File Modified) 
  +9 -1		trunk/modules/memoserv/send.c (File Modified) 
  +9 -1		trunk/src/function.c (File Modified) 


kog         2005/10/06 09:36:45 UTC	(20051006-2709)
  Log:
  added notification of new memos - should probably be hook? - Kog
  

  Changes:	Modified:
  +7 -1		trunk/modules/nickserv/identify.c (File Modified) 


kog         2005/10/06 09:33:43 UTC	(20051006-2707)
  Log:
  added notification of new memos - should probably be hook? - Kog
  

  Changes:	Modified:
  +7 -1		trunk/modules/userserv/login.c (File Modified) 


pfish       2005/10/06 09:02:13 UTC	(20051006-2705)
  Log:
  make info aware of emailmemos
  

  Changes:	Modified:
  +7 -0		trunk/modules/nickserv/info.c (File Modified) 


kog         2005/10/06 08:56:07 UTC	(20051006-2703)
  Log:
  keeps track of new memo count via memoct_new in myuser_t. List will display new memo count 
  

  Changes:	Modified:
  +7 -2		trunk/modules/memoserv/delete.c (File Modified) 
  +3 -2		trunk/modules/memoserv/forward.c (File Modified) 
  +2 -2		trunk/modules/memoserv/list.c (File Modified) 
  +8 -2		trunk/modules/memoserv/read.c (File Modified) 
  +1 -0		trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 08:54:12 UTC	(20051006-2701)
  Log:
  add emailmemos to the table
  

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/set.c (File Modified) 


pfish       2005/10/06 08:50:49 UTC	(20051006-2699)
  Log:
  fix errors
  

  Changes:	Modified:
  +2 -1		trunk/modules/nickserv/set.c (File Modified) 


pfish       2005/10/06 08:46:50 UTC	(20051006-2697)
  Log:
  Add NickServ/SET EMAILMEMOS flag
  

  Changes:	Modified:
  +1 -0		trunk/include/account.h (File Modified) 
  +53 -0	trunk/modules/nickserv/set.c (File Modified) 


pfish       2005/10/06 08:15:56 UTC	(20051006-2695)
  Log:
  enable version tracking
  

  Changes:	Modified:
  + -		trunk/modules/memoserv/delete.c  (Property Modified)
  + -		trunk/modules/memoserv/forward.c  (Property Modified)
  + -		trunk/modules/memoserv/read.c  (Property Modified)


kog         2005/10/06 08:08:12 UTC	(20051006-2693)
  Log:
  fixed delete all issue
  

  Changes:	Modified:
  +2 -1		trunk/modules/memoserv/delete.c (File Modified) 


pfish       2005/10/06 07:58:54 UTC	(20051006-2691)
  Log:
  add DEL as an alias for DELETE
  

  Changes:	Modified:
  +4 -1		trunk/modules/memoserv/delete.c (File Modified) 


kog         2005/10/06 07:52:28 UTC	(20051006-2689)
  Log:
  moved memo_newcount out of mymemo_ and added memoct_new to myuser_
  

  Changes:	Modified:
  +1 -1		trunk/include/account.h (File Modified) 


kog         2005/10/06 07:46:22 UTC	(20051006-2687)
  Log:
  moved struct smalloc until after checks to avoid extra free() calls, changed NULL check to (!memonum) to prevent compiler complaints about pointers 
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/delete.c (File Modified) 
  +4 -10	trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 
  +3 -8		trunk/modules/memoserv/send.c (File Modified) 


kog         2005/10/06 07:31:53 UTC	(20051006-2685)
  Log:
  makes sure arg is a valid int via atoi == NULL check 
  
  

  Changes:	Modified:
  +6 -0		trunk/modules/memoserv/delete.c (File Modified) 
  +7 -0		trunk/modules/memoserv/forward.c (File Modified) 
  +8 -1		trunk/modules/memoserv/read.c (File Modified) 


pfish       2005/10/06 07:27:18 UTC	(20051006-2683)
  Log:
  add help for nickserv set nomemo (new feature)
  
  

  Changes:	Modified:
  + -		trunk/help/nickserv/set_nomemo (File Added) 
  +1 -0		trunk/modules/nickserv/help.c (File Modified) 
  +2 -0		trunk/modules/nickserv/set.c (File Modified) 


pfish       2005/10/06 06:40:24 UTC	(20051006-2681)
  Log:
  change notice() output to match everything else.
  

  Changes:	Modified:
  +2 -2		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -1		trunk/modules/memoserv/send.c (File Modified) 


nenolod     2005/10/06 04:27:44 UTC	(20051006-2679)
  Log:
  I hate glibc.

  Changes:	Modified:
  +4 -4		trunk/include/libatheme.h (File Modified) 


nenolod     2005/10/06 04:22:32 UTC	(20051006-2677)
  Log:
  Fixes. :/
  

  Changes:	Modified:
  +1 -1		trunk/include/libatheme.h (File Modified) 
  +5 -5		trunk/libatheme/libatheme.c (File Modified) 


pfish       2005/10/06 04:13:56 UTC	(20051006-2675)
  Log:
  change them -> tmu to be more consistent
  

  Changes:	Modified:
  +5 -5		trunk/modules/memoserv/forward.c (File Modified) 


alambert    2005/10/06 04:09:41 UTC	(20051006-2673)
  Log:
  MS FORWARD: move NOMEMO check for pfish

  Changes:	Modified:
  +10 -9	trunk/modules/memoserv/forward.c (File Modified) 


nenolod     2005/10/06 04:03:49 UTC	(20051006-2671)
  Log:
  Prepare for libatheme => claro.base/claro.net/claro.string
  

  Changes:	Modified:
  +1 -1		trunk/include/atheme.h (File Modified) 
  +0 -7		trunk/include/common.h (File Modified) 
  +9 -1		trunk/include/libatheme.h (File Modified) 
  +6 -6		trunk/libatheme/balloc.c (File Modified) 
  +1 -1		trunk/libatheme/callback.c (File Modified) 
  +15 -15	trunk/libatheme/connection.c (File Modified) 
  +2 -2		trunk/libatheme/dlink.c (File Modified) 
  +5 -5		trunk/libatheme/event.c (File Modified) 
  +1 -1		trunk/libatheme/hook.c (File Modified) 
  +23 -5	trunk/libatheme/libatheme.c (File Modified) 
  +1 -0		trunk/libatheme/linker.c (File Modified) 
  +1 -2		trunk/src/atheme.c (File Modified) 


pfish       2005/10/06 03:44:13 UTC	(20051006-2669)
  Log:
  lets try nomemo again
  

  Changes:	Modified:
  +7 -0		trunk/modules/nickserv/info.c (File Modified) 


pfish       2005/10/06 02:58:01 UTC	(20051006-2667)
  Log:
  Also warn user when sending memo to online user, but still send memo anyways.
  

  Changes:	Modified:
  +1 -0		trunk/modules/memoserv/forward.c (File Modified) 
  +1 -0		trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 02:52:48 UTC	(20051006-2665)
  Log:
  small format fix on the memo list making it a bit easier to parse
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/list.c (File Modified) 


pfish       2005/10/06 02:46:19 UTC	(20051006-2663)
  Log:
  tell a user whos online when another user forwards them a memo
  

  Changes:	Modified:
  +6 -0		trunk/modules/memoserv/forward.c (File Modified) 


pfish       2005/10/06 02:38:29 UTC	(20051006-2661)
  Log:
  Tell a user thats online when they get a new memo.
  

  Changes:	Modified:
  +9 -1		trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 02:24:51 UTC	(20051006-2659)
  Log:
  fix a crash here when user isn't ID'ed
  

  Changes:	Modified:
  +10 -11	trunk/modules/memoserv/forward.c (File Modified) 


kog         2005/10/06 01:58:46 UTC	(20051006-2657)
  Log:
  fixed strncasecmp in delete, make sure target isn't sender on forward/send, inbox full equality test fix
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/delete.c (File Modified) 
  +9 -1		trunk/modules/memoserv/forward.c (File Modified) 
  +10 -3	trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 01:44:50 UTC	(20051006-2655)
  Log:
  fix module header (this is not memoserv/read)
  

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/forward.c (File Modified) 


pfish       2005/10/06 01:41:35 UTC	(20051006-2653)
  Log:
  don't allow a user to forward to another user with nomemo enabled
  

  Changes:	Modified:
  +10 -0	trunk/modules/memoserv/forward.c (File Modified) 


pfish       2005/10/06 01:27:38 UTC	(20051006-2651)
  Log:
  Don't allow memos to be sent to users with the NOMEMO flag set.
  

  Changes:	Modified:
  +10 -0	trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 01:21:00 UTC	(20051006-2649)
  Log:
  Add NOMEMO flag to NickServ/SET --
  MemoServ will not allow users to send memos to users with nomemo enabled.
  

  Changes:	Modified:
  +1 -0		trunk/include/account.h (File Modified) 
  +54 -0	trunk/modules/nickserv/set.c (File Modified) 


kog         2005/10/06 01:20:29 UTC	(20051006-2647)
  Log:
  login check on functions, should be unix formatted, free memo struct on send/delete if returning, hardcoded memo limit changed to me.mdlimit
  

  Changes:	Modified:
  +16 -5	trunk/modules/memoserv/delete.c (File Modified) 
  +14 -3	trunk/modules/memoserv/forward.c (File Modified) 
  +8 -0		trunk/modules/memoserv/list.c (File Modified) 
  +8 -1		trunk/modules/memoserv/read.c (File Modified) 
  +14 -1	trunk/modules/memoserv/send.c (File Modified) 


pfish       2005/10/06 00:37:55 UTC	(20051006-2645)
  Log:
  we need to start a comment here
  

  Changes:	Modified:
  +1 -1		trunk/dist/example.conf (File Modified) 


kog         2005/10/06 00:37:18 UTC	(20051006-2643)
  Log:
  added modloads for memoserv, memoserv conf block
  

  Changes:	Modified:
  +47 -0	trunk/dist/example.userserv.conf (File Modified) 


kog         2005/10/06 00:36:32 UTC	(20051006-2641)
  Log:
  removed jEdit artifact from head of file
  

  Changes:	Modified:
  +0 -1		trunk/dist/example.conf (File Modified) 


kog         2005/10/06 00:32:10 UTC	(20051006-2639)
  Log:
  added memoserv modloads, memoserv block for config - Kog 
  

  Changes:	Modified:
  +48 -1	trunk/dist/example.conf (File Modified) 


nenolod     2005/10/06 00:11:24 UTC	(20051006-2637)
  Log:
  M-: (indent-c) (save-buffer)

  Changes:	Modified:
  +1 -1		trunk/modules/memoserv/read.c (File Modified) 


nenolod     2005/10/06 00:10:11 UTC	(20051006-2635)
  Log:
  Corrections.

  Changes:	Modified:
  +5 -9		trunk/modules/memoserv/delete.c (File Modified) 


nenolod     2005/10/06 00:07:05 UTC	(20051006-2633)
  Log:
  Death to MS-DOS.

  Changes:	Modified:
  +112 -112	trunk/modules/memoserv/delete.c (File Modified) 
  +124 -124	trunk/modules/memoserv/forward.c (File Modified) 
  +76 -76	trunk/modules/memoserv/list.c (File Modified) 
  +105 -105	trunk/modules/memoserv/read.c (File Modified) 


kog         2005/10/05 23:46:16 UTC	(20051005-2631)
  Log:
  delete uses SAFE list iterator, has boundary for all param and 1 memo, no pointer voodoo badness, forward initial commit, Makefile should include new files - Kog
  

  Changes:	Modified:
  +240 -4	trunk/modules/memoserv/Makefile.in (File Modified) 
  + -		trunk/modules/memoserv/delete.c (File Added) 
  + -		trunk/modules/memoserv/forward.c (File Added) 


kog         2005/10/05 23:04:53 UTC	(20051005-2629)
  Log:
  Fixed various pointer issues, time display fixed
  

  Changes:	Modified:
  +17 -18	trunk/modules/memoserv/list.c (File Modified) 


kog         2005/10/05 23:03:24 UTC	(20051005-2627)
  Log:
  initial commit of read, should work - kog
  

  Changes:	Modified:
  + -		trunk/modules/memoserv/read.c (File Added) 


kog         2005/10/05 23:01:11 UTC	(20051005-2625)
  Log:
  Fixed lots of pointer issues, extra vars - should work, but needs some more checks on messagebox full/target
  

  Changes:	Modified:
  +21 -21	trunk/modules/memoserv/send.c (File Modified) 


nenolod     2005/10/05 22:53:57 UTC	(20051005-2623)
  Log:
  Remove old access check.
  

  Changes:	Modified:
  +1 -16	trunk/src/help.c (File Modified) 


kog         2005/10/05 19:44:58 UTC	(20051005-2621)
  Log:
  updated fantasy command !help - Kuja
  

  Changes:	Modified:
  +17 -2	trunk/modules/chanserv/help.c (File Modified) 


nenolod     2005/10/05 19:02:20 UTC	(20051005-2619)
  Log:
  - Improved unreal vhost support.
  - Add ultimate3 vhost support.
  - Add hyperion vhost support.
  

  Changes:	Modified:
  +9 -0		trunk/protocol/hyperion.c (File Modified) 
  +10 -0	trunk/protocol/ultimate3.c (File Modified) 
  +1 -0		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/10/05 18:49:33 UTC	(20051005-2617)
  Log:
  Update this.
  

  Changes:	Modified:
  +4 -2		trunk/doc/RELEASE (File Modified) 


nenolod     2005/10/05 18:18:41 UTC	(20051005-2615)
  Log:
  Smarter SQL backend detection.
  

  Changes:	Modified:
  +4 -4		trunk/configure (File Modified) 
  +4 -4		trunk/configure.ac (File Modified) 


nenolod     2005/10/05 17:58:34 UTC	(20051005-2613)
  Log:
  - Add hostserv skeleton dir.
  - Add hostchange routines for charybdis, plexus and unrealircd.
  

  Changes:	Modified:
  + -		trunk/modules/hostserv/ (File Added) 
  +13 -0	trunk/protocol/charybdis.c (File Modified) 
  +9 -0		trunk/protocol/plexus.c (File Modified) 
  +9 -0		trunk/protocol/unreal.c (File Modified) 


nenolod     2005/10/05 17:20:13 UTC	(20051005-2611)
  Log:
  - Add sethost_sts() handler. (Modules which support vhosts can use this. :P)
  

  Changes:	Modified:
  +2 -0		trunk/include/phandler.h (File Modified) 
  +6 -0		trunk/src/phandler.c (File Modified) 


nenolod     2005/10/05 07:12:06 UTC	(20051005-2609)
  Log:
  Add ms_helptree.
  

  Changes:	Modified:
  +1 -0		trunk/modules/memoserv/main.c (File Modified) 


nenolod     2005/10/05 07:02:32 UTC	(20051005-2607)
  Log:
  Add -lcrypt to libs if necessary.
  

  Changes:	Modified:
  +6 -3		trunk/configure (File Modified) 
  +4 -1		trunk/configure.ac (File Modified) 


nenolod     2005/10/05 06:59:36 UTC	(20051005-2605)
  Log:
  Atheme uses strcasecmp instead of stricmp, so use an override here.
  

  Changes:	Modified:
  +2 -0		trunk/include/xmlrpc.h (File Modified) 


nenolod     2005/10/05 06:57:45 UTC	(20051005-2603)
  Log:
  Help system stuff.
  

  Changes:	Modified:
  +8 -10	trunk/modules/memoserv/help.c (File Modified) 


nenolod     2005/10/05 06:51:04 UTC	(20051005-2601)
  Log:
  - Add crypto/posix module for crypt(3) encryption.
  

  Changes:	Modified:
  +77 -4	trunk/configure (File Modified) 
  +4 -0		trunk/configure.ac (File Modified) 
  +33 -1	trunk/crypto/Makefile.in (File Modified) 
  + -		trunk/crypto/posix.c (File Added) 


nenolod     2005/10/05 06:40:04 UTC	(20051005-2599)
  Log:
  Clean up after the gnetdev branch import mess :P
  

  Changes:	Modified:
  + -		trunk/contrib/cs_ping.c (File Added) 
  +1 -114	trunk/modules/chanserv/Makefile.in (File Modified) 
  + -		trunk/modules/chanserv/ping.c (File Deleted) 
  + -		trunk/modules/memoserv/Makefile (File Deleted) 
  + -		trunk/modules/memoserv/help.so (File Deleted) 
  + -		trunk/modules/memoserv/list.so (File Deleted) 
  + -		trunk/modules/memoserv/main.so (File Deleted) 
  + -		trunk/modules/memoserv/send.so (File Deleted) 
  +0 -1		trunk/modules/nickserv/Makefile.in (File Modified) 
  +0 -1		trunk/modules/userserv/Makefile.in (File Modified) 


kog         2005/10/05 06:37:06 UTC	(20051005-2597)
  Log:
  initial commit - kog
  

  Changes:	Modified:
  +1 -0		trunk/configure.ac (File Modified) 
  +18 -1	trunk/include/account.h (File Modified) 
  +2 -1		trunk/include/common.h (File Modified) 
  +12 -0	trunk/include/services.h (File Modified) 
  +1 -1		trunk/modules/Makefile.in (File Modified) 
  +2 -1		trunk/modules/chanserv/Makefile.in (File Modified) 
  +599 -2	trunk/modules/chanserv/help.c (File Modified) 
  + -		trunk/modules/chanserv/ping.c (File Added) 
  + -		trunk/modules/memoserv/ (File Added) 
  + -		trunk/modules/memoserv/Makefile (File Added) 
  + -		trunk/modules/memoserv/Makefile.in (File Added) 
  + -		trunk/modules/memoserv/help.c (File Added) 
  + -		trunk/modules/memoserv/help.so (File Added) 
  + -		trunk/modules/memoserv/list.c (File Added) 
  + -		trunk/modules/memoserv/list.so (File Added) 
  + -		trunk/modules/memoserv/main.c (File Added) 
  + -		trunk/modules/memoserv/main.so (File Added) 
  + -		trunk/modules/memoserv/send.c (File Added) 
  + -		trunk/modules/memoserv/send.so (File Added) 
  +1 -0		trunk/modules/nickserv/Makefile.in (File Modified) 
  +1 -0		trunk/modules/userserv/Makefile.in (File Modified) 
  +61 -0	trunk/src/conf.c (File Modified) 


nenolod     2005/10/05 06:27:52 UTC	(20051005-2595)
  Log:
  remove this :P
  

  Changes:	Modified:
  + -		trunk/modules/memoserv/ (File Deleted) 


nenolod     2005/10/05 06:10:31 UTC	(20051005-2593)
  Log:
  Updated infotext in preparation for the 0.3 release.
  

  Changes:	Modified:
  +11 -10	trunk/src/version.sh (File Modified) 


nenolod     2005/10/05 05:50:50 UTC	(20051005-2591)
  Log:
  More upstream patches for xmlrpc.c.
  

  Changes:	Modified:
  +42 -24	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/10/05 05:10:45 UTC	(20051005-2589)
  Log:
  Mmm, tail recursion.
  

  Changes:	Modified:
  +1 -0		trunk/include/node.h (File Modified) 


nenolod     2005/10/05 04:48:41 UTC	(20051005-2587)
  Log:
  Jump from Atheme Public License 0.9 to final v1 draft.
  

  Changes:	Modified:
  +9 -0		trunk/COPYING (File Modified) 
  +9 -0		trunk/doc/LICENSE (File Modified) 
  +15 -0	trunk/src/version.sh (File Modified) 


pfish       2005/10/05 04:29:35 UTC	(20051005-2585)
  Log:
  new help system for nickserv/set
  

  Changes:	Modified:
  +15 -0	trunk/modules/nickserv/set.c (File Modified) 


alambert    2005/10/05 04:22:13 UTC	(20051005-2583)
  Log:
  Fix verification e-mails with UserServ. Reported by Kuja.

  Changes:	Modified:
  +15 -5	trunk/src/function.c (File Modified) 


nenolod     2005/10/05 04:18:07 UTC	(20051005-2581)
  Log:
  Indent xmlrpc source :P
  

  Changes:	Modified:
  +905 -732	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/10/05 04:13:41 UTC	(20051005-2579)
  Log:
  Synchronize atheme patches with upstream XMLRPC code.
  

  Changes:	Modified:
  +1 -0		trunk/include/xmlrpc.h (File Modified) 
  +752 -835	trunk/src/xmlrpc.c (File Modified) 


alambert    2005/10/05 03:44:48 UTC	(20051005-2577)
  Log:
  UserServ: add help for SET subcommands

  Changes:	Modified:
  +13 -0	trunk/modules/userserv/set.c (File Modified) 


alambert    2005/10/05 02:46:11 UTC	(20051005-2575)
  Log:
  First shot at moving UserServ to new help system (SET needs work)

  Changes:	Modified:
  +4 -1		trunk/modules/userserv/drop.c (File Modified) 
  +4 -2		trunk/modules/userserv/freeze.c (File Modified) 
  +2 -53	trunk/modules/userserv/help.c (File Modified) 
  +4 -1		trunk/modules/userserv/hold.c (File Modified) 
  +4 -1		trunk/modules/userserv/info.c (File Modified) 
  +4 -1		trunk/modules/userserv/list.c (File Modified) 
  +4 -1		trunk/modules/userserv/listmail.c (File Modified) 
  +4 -1		trunk/modules/userserv/login.c (File Modified) 
  +4 -1		trunk/modules/userserv/logout.c (File Modified) 
  +4 -1		trunk/modules/userserv/mark.c (File Modified) 
  +4 -1		trunk/modules/userserv/myaccess.c (File Modified) 
  +4 -1		trunk/modules/userserv/register.c (File Modified) 
  +4 -1		trunk/modules/userserv/resetpass.c (File Modified) 
  +4 -1		trunk/modules/userserv/sendpass.c (File Modified) 
  +1 -1		trunk/modules/userserv/set.c (File Modified) 
  +6 -1		trunk/modules/userserv/status.c (File Modified) 
  +4 -1		trunk/modules/userserv/taxonomy.c (File Modified) 
  +4 -1		trunk/modules/userserv/verify.c (File Modified) 


alambert    2005/10/05 00:03:41 UTC	(20051005-2573)
  Log:
  US DROP: use command_delete() in _moddeinit() -- not command_add()\!

  Changes:	Modified:
  +1 -1		trunk/modules/userserv/drop.c (File Modified) 


nenolod     2005/10/04 20:37:47 UTC	(20051004-2571)
  Log:
  Fix bug #55 -- mode retention. Reported by Lauren.
  

  Changes:	Modified:
  +2 -0		trunk/src/node.c (File Modified) 


nenolod     2005/10/04 20:20:12 UTC	(20051004-2569)
  Log:
  - Fix bug #48 (!op, et al requires a parameter). Contributed by Kuja.
  

  Changes:	Modified:
  +6 -4		trunk/modules/chanserv/halfop.c (File Modified) 
  +7 -4		trunk/modules/chanserv/op.c (File Modified) 
  +7 -4		trunk/modules/chanserv/voice.c (File Modified) 


nenolod     2005/10/04 07:34:23 UTC	(20051004-2567)
  Log:
  Mmm, hacks.
  

  Changes:	Modified:
  +23 -1	trunk/modules/userserv/help.c (File Modified) 


nenolod     2005/10/04 07:21:31 UTC	(20051004-2565)
  Log:
  Fix build error with /ns help.
  

  Changes:	Modified:
  +2 -36	trunk/modules/nickserv/help.c (File Modified) 


pfish       2005/10/04 07:09:30 UTC	(20051004-2563)
  Log:
  Phase 2/final of the NickServ help system changeover. 
  

  Changes:	Modified:
  +3 -0		trunk/modules/nickserv/listmail.c (File Modified) 
  +3 -0		trunk/modules/nickserv/logout.c (File Modified) 
  +3 -0		trunk/modules/nickserv/mark.c (File Modified) 
  +3 -0		trunk/modules/nickserv/myaccess.c (File Modified) 
  +3 -0		trunk/modules/nickserv/register.c (File Modified) 
  +3 -0		trunk/modules/nickserv/resetpass.c (File Modified) 
  +3 -0		trunk/modules/nickserv/sendpass.c (File Modified) 
  +3 -0		trunk/modules/nickserv/status.c (File Modified) 
  +3 -0		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +3 -0		trunk/modules/nickserv/verify.c (File Modified) 


nenolod     2005/10/04 06:59:29 UTC	(20051004-2561)
  Log:
  Remove unused table.
  

  Changes:	Modified:
  +0 -11	trunk/modules/operserv/help.c (File Modified) 


nenolod     2005/10/04 06:56:29 UTC	(20051004-2559)
  Log:
  OperServ help system stuff.
  

  Changes:	Modified:
  +7 -0		trunk/modules/operserv/akill.c (File Modified) 
  +6 -11	trunk/modules/operserv/help.c (File Modified) 
  +5 -0		trunk/modules/operserv/inject.c (File Modified) 
  +5 -0		trunk/modules/operserv/mode.c (File Modified) 
  +5 -0		trunk/modules/operserv/raw.c (File Modified) 
  +5 -0		trunk/modules/operserv/rehash.c (File Modified) 
  +5 -0		trunk/modules/operserv/restart.c (File Modified) 
  +5 -0		trunk/modules/operserv/shutdown.c (File Modified) 
  +5 -0		trunk/modules/operserv/update.c (File Modified) 


pfish       2005/10/04 06:44:30 UTC	(20051004-2557)
  Log:
  Phase 1 of help system change.
  

  Changes:	Modified:
  +4 -1		trunk/modules/nickserv/drop.c (File Modified) 
  +4 -2		trunk/modules/nickserv/freeze.c (File Modified) 
  +4 -1		trunk/modules/nickserv/ghost.c (File Modified) 
  +4 -1		trunk/modules/nickserv/help.c (File Modified) 
  +4 -1		trunk/modules/nickserv/hold.c (File Modified) 
  +6 -1		trunk/modules/nickserv/identify.c (File Modified) 
  +4 -1		trunk/modules/nickserv/info.c (File Modified) 
  +4 -1		trunk/modules/nickserv/link.c (File Modified) 
  +4 -1		trunk/modules/nickserv/list.c (File Modified) 
  +1 -1		trunk/modules/nickserv/listmail.c (File Modified) 
  +1 -1		trunk/modules/nickserv/logout.c (File Modified) 
  +1 -1		trunk/modules/nickserv/mark.c (File Modified) 
  +1 -1		trunk/modules/nickserv/myaccess.c (File Modified) 
  +1 -1		trunk/modules/nickserv/register.c (File Modified) 
  +1 -1		trunk/modules/nickserv/resetpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/sendpass.c (File Modified) 
  +1 -1		trunk/modules/nickserv/set.c (File Modified) 
  +1 -1		trunk/modules/nickserv/status.c (File Modified) 
  +1 -1		trunk/modules/nickserv/taxonomy.c (File Modified) 
  +1 -1		trunk/modules/nickserv/verify.c (File Modified) 


nenolod     2005/10/04 06:42:24 UTC	(20051004-2555)
  Log:
  - Finish up with ChanServ.
  

  Changes:	Modified:
  +0 -21	trunk/modules/chanserv/help.c (File Modified) 
  +25 -0	trunk/modules/chanserv/set.c (File Modified) 


nenolod     2005/10/04 06:33:01 UTC	(20051004-2553)
  Log:
  On to set functions. 
  
  

  Changes:	Modified:
  +5 -0		trunk/modules/chanserv/close.c (File Modified) 
  +4 -0		trunk/modules/chanserv/flags.c (File Modified) 
  +5 -0		trunk/modules/chanserv/ftransfer.c (File Modified) 
  +0 -8		trunk/modules/chanserv/help.c (File Modified) 
  +5 -0		trunk/modules/chanserv/hold.c (File Modified) 
  +5 -0		trunk/modules/chanserv/list.c (File Modified) 
  +5 -0		trunk/modules/chanserv/mark.c (File Modified) 
  +5 -0		trunk/modules/chanserv/status.c (File Modified) 
  +5 -0		trunk/modules/chanserv/taxonomy.c (File Modified) 


nenolod     2005/10/04 06:14:07 UTC	(20051004-2551)
  Log:
  Committing what I have of the converted ChanServ modules.
  

  Changes:	Modified:
  +5 -0		trunk/modules/chanserv/akick.c (File Modified) 
  +8 -0		trunk/modules/chanserv/ban.c (File Modified) 
  +4 -0		trunk/modules/chanserv/drop.c (File Modified) 
  +8 -0		trunk/modules/chanserv/halfop.c (File Modified) 
  +7 -34	trunk/modules/chanserv/help.c (File Modified) 
  +5 -0		trunk/modules/chanserv/info.c (File Modified) 
  +5 -0		trunk/modules/chanserv/invite.c (File Modified) 
  +8 -0		trunk/modules/chanserv/kick.c (File Modified) 
  +8 -0		trunk/modules/chanserv/op.c (File Modified) 
  +5 -0		trunk/modules/chanserv/recover.c (File Modified) 
  +5 -0		trunk/modules/chanserv/register.c (File Modified) 
  +8 -0		trunk/modules/chanserv/topic.c (File Modified) 
  +8 -0		trunk/modules/chanserv/voice.c (File Modified) 
  +12 -1	trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2005/10/04 05:22:21 UTC	(20051004-2549)
  Log:
  Woohoo! :P
  

  Changes:	Modified:
  +1 -0		trunk/modules/operserv/main.c (File Modified) 
  +1 -0		trunk/modules/userserv/main.c (File Modified) 


nenolod     2005/10/04 05:16:38 UTC	(20051004-2547)
  Log:
  Add some ns_helptree/cs_helptree declarations.
  

  Changes:	Modified:
  +1 -0		trunk/modules/chanserv/main.c (File Modified) 
  +1 -0		trunk/modules/nickserv/main.c (File Modified) 


nenolod     2005/10/04 05:14:02 UTC	(20051004-2545)
  Log:
  Convert the Global module.
  

  Changes:	Modified:
  +18 -8	trunk/modules/global/main.c (File Modified) 


alambert    2005/10/04 05:11:51 UTC	(20051004-2543)
  Log:
  add naive sanity checking to atheme.account_register -- see comments

  Changes:	Modified:
  +40 -1	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/10/04 05:06:05 UTC	(20051004-2541)
  Log:
  Help system rewrite. Need to convert the modules next.
  

  Changes:	Modified:
  +4 -1		trunk/include/atheme.h (File Modified) 
  +2 -3		trunk/include/extern.h (File Modified) 
  +64 -12	trunk/src/help.c (File Modified) 


nenolod     2005/10/04 04:24:53 UTC	(20051004-2539)
  Log:
  - Add memoserv directory for memoserv stuff.
  

  Changes:	Modified:
  + -		trunk/modules/memoserv/ (File Added) 


nenolod     2005/10/04 04:16:15 UTC	(20051004-2537)
  Log:
  Fix spelling error.

  Changes:	Modified:
  +2 -2		trunk/COPYING (File Modified) 
  +2 -2		trunk/doc/LICENSE (File Modified) 


nenolod     2005/10/04 04:13:25 UTC	(20051004-2535)
  Log:
  Add guranteed freedom clause.

  Changes:	Modified:
  +6 -0		trunk/COPYING (File Modified) 
  +6 -0		trunk/doc/LICENSE (File Modified) 


nenolod     2005/10/04 03:42:33 UTC	(20051004-2533)
  Log:
  Remove knee-jerk reaction anti-DDoS clause.
  

  Changes:	Modified:
  +0 -5		trunk/COPYING (File Modified) 
  +0 -5		trunk/doc/LICENSE (File Modified) 


nenolod     2005/10/03 18:26:49 UTC	(20051003-2531)
  Log:
  s/make threats/enter into assault/g
  

  Changes:	Modified:
  +3 -3		trunk/COPYING (File Modified) 
  +3 -3		trunk/doc/LICENSE (File Modified) 


nenolod     2005/10/03 17:57:06 UTC	(20051003-2529)
  Log:
  Add terminus upon litigation clause, and terminus upon DDoS clause
  

  Changes:	Modified:
  +6 -1		trunk/COPYING (File Modified) 
  +7 -2		trunk/doc/LICENSE (File Modified) 


nenolod     2005/10/03 17:40:09 UTC	(20051003-2527)
  Log:
  - Add /cs version to list what version of Atheme is running. (requested feature by many)
  - Add !help which lists an overview of ChanServ helptopics (because SRVX and OtherSide services do so.)
  - Add Kuja to contributors.
  

  Changes:	Modified:
  +1 -0		trunk/modules/chanserv/Makefile.in (File Modified) 
  +63 -2	trunk/modules/chanserv/help.c (File Modified) 
  + -		trunk/modules/chanserv/version.c (File Added) 
  +1 -0		trunk/src/version.sh (File Modified) 


pfish       2005/10/03 09:14:30 UTC	(20051003-2525)
  Log:
  update example configs with resetpass
  

  Changes:	Modified:
  +2 -0		trunk/dist/example.conf (File Modified) 
  +2 -0		trunk/dist/example.userserv.conf (File Modified) 


pfish       2005/10/03 08:11:58 UTC	(20051003-2523)
  Log:
  Port NICKSERV/RESETPASS to UserServ, along with help files.

  Changes:	Modified:
  + -		trunk/help/userserv/resetpass (File Added) 
  +1 -0		trunk/modules/userserv/Makefile.in (File Modified) 
  +83 -0	trunk/modules/userserv/help.c (File Modified) 
  + -		trunk/modules/userserv/resetpass.c (File Added) 


pfish       2005/10/03 07:57:58 UTC	(20051003-2521)
  Log:
  forgot to add this

  Changes:	Modified:
  + -		trunk/help/nickserv/resetpass (File Added) 


pfish       2005/10/03 07:57:21 UTC	(20051003-2519)
  Log:
  Add help for NICKSERV RESETPASS.

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/help.c (File Modified) 


pfish       2005/10/03 04:23:20 UTC	(20051003-2517)
  Log:
  Allow a root to override a mark while resetting a password, thanks alambert for fixing that!

  Changes:	Modified:
  +13 -1	trunk/modules/nickserv/resetpass.c (File Modified) 


nenolod     2005/10/03 03:06:55 UTC	(20051003-2515)
  Log:
  - Add ircd->type, which is a hint for module coders to see what type of IRCd is being run on the network.
  

  Changes:	Modified:
  +1 -0		trunk/include/phandler.h (File Modified) 
  +20 -0	trunk/include/pmodule.h (File Modified) 
  +2 -1		trunk/protocol/asuka.c (File Modified) 
  +2 -1		trunk/protocol/bahamut.c (File Modified) 
  +2 -1		trunk/protocol/bircd.c (File Modified) 
  +2 -1		trunk/protocol/charybdis.c (File Modified) 
  +2 -1		trunk/protocol/dreamforge.c (File Modified) 
  +2 -1		trunk/protocol/hyperion.c (File Modified) 
  +2 -1		trunk/protocol/inspircd.c (File Modified) 
  +2 -1		trunk/protocol/ircnet.c (File Modified) 
  +2 -1		trunk/protocol/monkey.c (File Modified) 
  +2 -1		trunk/protocol/plexus.c (File Modified) 
  +2 -1		trunk/protocol/ptlink.c (File Modified) 
  +2 -1		trunk/protocol/ratbox.c (File Modified) 
  +2 -1		trunk/protocol/scylla.c (File Modified) 
  +2 -1		trunk/protocol/shadowircd.c (File Modified) 
  +2 -1		trunk/protocol/sorcery.c (File Modified) 
  +2 -1		trunk/protocol/ultimate3.c (File Modified) 
  +2 -1		trunk/protocol/undernet.c (File Modified) 
  +2 -1		trunk/protocol/unreal.c (File Modified) 


pfish       2005/10/02 23:34:28 UTC	(20051002-2513)
  Log:
  Send wallops when a oper resets someones password.

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/resetpass.c (File Modified) 


nenolod     2005/10/02 23:20:26 UTC	(20051002-2511)
  Log:
  Remember to free what we allocate.
  

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/resetpass.c (File Modified) 


pfish       2005/10/02 23:13:01 UTC	(20051002-2509)
  Log:
  add resetpass to makefile/remove unneeded comment

  Changes:	Modified:
  +1 -0		trunk/modules/nickserv/Makefile.in (File Modified) 
  +1 -2		trunk/modules/nickserv/resetpass.c (File Modified) 


pfish       2005/10/02 23:10:24 UTC	(20051002-2507)
  Log:
  Add NICKSERV RESETPASS. Opers can generate a random password for a nickname.

  Changes:	Modified:
  + -		trunk/modules/nickserv/resetpass.c (File Added) 


jilles      2005/10/02 16:24:17 UTC	(20051002-2505)
  Log:
  Stop redundant modes to be set on join.
  

  Changes:	Modified:
  +9 -6		trunk/src/node.c (File Modified) 


nenolod     2005/10/02 00:06:02 UTC	(20051002-2503)
  Log:
  Put in a missing newline here :/

  Changes:	Modified:
  +2 -0		trunk/ChangeLog (File Modified) 


nenolod     2005/10/01 04:58:28 UTC	(20051001-2501)
  Log:
  Indent print_help &c.

  Changes:	Modified:
  +10 -11	trunk/src/atheme.c (File Modified) 


nenolod     2005/10/01 04:56:52 UTC	(20051001-2499)
  Log:
  Test commit.

  Changes:	Modified:
  +1 -1		trunk/src/atheme.c (File Modified) 


nenolod     2005/10/01 04:35:25 UTC	(20051001-2497)
  Log:
  Indent sources.
  
  Changes:	Modified:
  +1 -1		trunk/src/authcookie.c (File Modified) 
  +4 -5		trunk/src/cmode.c (File Modified) 
  +11 -19	trunk/src/commandtree.c (File Modified) 
  +28 -30	trunk/src/conf.c (File Modified) 
  +1 -1		trunk/src/crypto.c (File Modified) 
  +2 -3		trunk/src/dbhandler.c (File Modified) 
  +2 -2		trunk/src/flags.c (File Modified) 
  +20 -28	trunk/src/function.c (File Modified) 
  +1 -1		trunk/src/match.c (File Modified) 
  +17 -20	trunk/src/module.c (File Modified) 
  +526 -527	trunk/src/node.c (File Modified) 
  +1 -2		trunk/src/parse.c (File Modified) 
  +33 -35	trunk/src/phandler.c (File Modified) 
  +3 -7		trunk/src/pmodule.c (File Modified) 
  +23 -33	trunk/src/ptasks.c (File Modified) 
  +8 -11	trunk/src/services.c (File Modified) 
  +3 -6		trunk/src/servtree.c (File Modified) 
  +64 -65	trunk/src/signal.c (File Modified) 
  +2 -3		trunk/src/ubase64.c (File Modified) 
  +9 -9		trunk/src/uid.c (File Modified) 
  +1 -2		trunk/src/uplink.c (File Modified) 
  +3 -2		trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/10/01 04:32:24 UTC	(20051001-2495)
  Log:
  Update config files.
  
  Changes:	Modified:
  +7 -1		trunk/dist/example.conf (File Modified) 
  +6 -0		trunk/dist/example.userserv.conf (File Modified) 


nenolod     2005/10/01 04:28:47 UTC	(20051001-2493)
  Log:
  Fix tabbing mess. :/
  
  Changes:	Modified:
  +8 -8		trunk/ChangeLog (File Modified) 


nenolod     2005/10/01 04:26:53 UTC	(20051001-2491)
  Log:
  Reindent protocol modules.
  
  Changes:	Modified:
  +99 -107	trunk/protocol/asuka.c (File Modified) 
  +131 -140	trunk/protocol/bahamut.c (File Modified) 
  +99 -107	trunk/protocol/bircd.c (File Modified) 
  +56 -67	trunk/protocol/charybdis.c (File Modified) 
  +129 -138	trunk/protocol/dreamforge.c (File Modified) 
  +98 -113	trunk/protocol/hyperion.c (File Modified) 
  +112 -120	trunk/protocol/inspircd.c (File Modified) 
  +88 -96	trunk/protocol/ircnet.c (File Modified) 
  +122 -131	trunk/protocol/monkey.c (File Modified) 
  +51 -59	trunk/protocol/plexus.c (File Modified) 
  +51 -59	trunk/protocol/ptlink.c (File Modified) 
  +57 -66	trunk/protocol/ratbox.c (File Modified) 
  +42 -50	trunk/protocol/scylla.c (File Modified) 
  +51 -59	trunk/protocol/shadowircd.c (File Modified) 
  +129 -138	trunk/protocol/sorcery.c (File Modified) 
  +151 -210	trunk/protocol/ultimate3.c (File Modified) 
  +88 -96	trunk/protocol/undernet.c (File Modified) 
  +158 -169	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/10/01 04:23:24 UTC	(20051001-2489)
  Log:
  ChangeLog cleanups.
  
  Changes:	Modified:
  +1 -1		trunk/ChangeLog (File Modified) 


nenolod     2005/10/01 04:22:21 UTC	(20051001-2487)
  Log:
  Really, i do this time.
  
  Changes:	Modified:
  +0 -8		trunk/ChangeLog (File Modified) 


nenolod     2005/10/01 04:18:55 UTC	(20051001-2483)
  Log:
  Commit hacks are working now. :P
  
  Changes:	Modified:
  +0 -24	trunk/ChangeLog (File Modified) 


nenolod     2005/10/01 03:22:41 UTC	(20051001-2475)
  Log:
  - Add atheme.account.set_metadata for setting metadata.

  Modified:
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/10/01 00:50:38 UTC	(20051001-2473)
  Log:
  - Send a response out on success for atheme.logout. (oops.)

  Modified:
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/10/01 00:47:40 UTC	(20051001-2471)
  Log:
  - Add atheme.logout, which destroys an authcookie ticket. Should be self explanatory. :P

  Modified:
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/09/30 21:36:58 UTC	(20050930-2469)
  Log:
  Add authcookie_init() to startup procedure, fixes XMLRPC atheme.login crash

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/09/30 06:21:15 UTC	(20050930-2467)
  Log:
  Forgot the header.
  

  Modified:
	trunk/include/authcookie.h (File Modified) 


nenolod     2005/09/30 06:18:48 UTC	(20050930-2465)
  Log:
  Fixes :P
  

  Modified:
	trunk/src/authcookie.c (File Modified) 


nenolod     2005/09/30 06:13:09 UTC	(20050930-2463)
  Log:
  XMLRPC fixes.
  

  Modified:
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/09/30 06:06:33 UTC	(20050930-2461)
  Log:
  Move position of authcookie.h elsewhere.
  

  Modified:
	trunk/include/atheme.h (File Modified) 


nenolod     2005/09/30 04:24:55 UTC	(20050930-2459)
  Log:
  Use uplink-specific vhosts if available. 
  Reported by Trystan.
  

  Modified:
	trunk/src/uplink.c (File Modified) 


nenolod     2005/09/30 04:22:12 UTC	(20050930-2457)
  Log:
  - Add .indent.pro to protocol/
  - Add ultimate3 protocol support.
  
  Contributed by Trystan.
  

  Modified:
	trunk/include/protocol/ultimate3.h (File Added) 
	trunk/protocol/.indent.pro (File Added) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/protocol/ultimate3.c (File Added) 


nenolod     2005/09/30 01:22:43 UTC	(20050930-2455)
  Log:
  - Add atheme.login, which creates an authentication ticket.
  

  Modified:
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/09/30 01:14:59 UTC	(20050930-2453)
  Log:
  Add authcookie stuff. Some connection.c tweaks too.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/authcookie.h (File Added) 
	trunk/libatheme/connection.c (File Modified) 
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/authcookie.c (File Added) 


nenolod     2005/09/29 19:05:29 UTC	(20050929-2451)
  Log:
  Populate cptr->hbuf with information.
  

  Modified:
	trunk/include/connection.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 


nenolod     2005/09/29 18:37:16 UTC	(20050929-2449)
  Log:
  - Add atheme.verify_account for account activity verification.
  

  Modified:
	trunk/modules/xmlrpc/Makefile.in (File Modified) 
	trunk/modules/xmlrpc/account.c (File Modified) 


nenolod     2005/09/29 05:29:24 UTC	(20050929-2447)
  Log:
  - Don't allow users to register their UID as a nick.
  - Remove unused node_t *n (reported by Trystan.)
  

  Modified:
	trunk/modules/nickserv/register.c (File Modified) 
	trunk/modules/operserv/uptime.c (File Modified) 
	trunk/src/.indent.pro (File Modified) 


jilles      2005/09/29 01:21:15 UTC	(20050929-2445)
  Log:
  Avoid quit_sts() crashes on SIGINT and SIGUSR1 as well.
  

  Modified:
	trunk/src/signal.c (File Modified) 


jilles      2005/09/28 22:42:46 UTC	(20050928-2443)
  Log:
  Fix crash on shutdown if a connection with ircd was never established.
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/09/28 21:45:50 UTC	(20050928-2441)
  Log:
  - fix a bug in test.method (echoserver.)
  

  Modified:
	trunk/modules/xmlrpc/main.c (File Modified) 


nenolod     2005/09/28 18:25:05 UTC	(20050928-2439)
  Log:
  - Enable $Id$ stuff on xmlrpc.c, base64.c.
  - Fix echoserver method.
  - Add atheme.register_account (which works), and atheme.verify_account (/ns verify equivilant, not implemented yet.)
  

  Modified:
	trunk/modules/xmlrpc/account.c (File Added) 
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/src/base64.c  (Property Modified)
	trunk/src/xmlrpc.c  (Property Modified)


alambert    2005/09/28 06:27:03 UTC	(20050928-2437)
  Log:
  back out 2345...the one time I don't test and I screw it up :-) types don't match, will play tomorrow

  Modified:
	trunk/src/xmlrpc.c (File Modified) 


alambert    2005/09/28 06:21:50 UTC	(20050928-2435)
  Log:
  be sure to encode XMLRPC error reasons -- they're strings, after all

  Modified:
	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/09/28 06:14:07 UTC	(20050928-2433)
  Log:
  - Finish up the XMLRPC server code.
  - Add a test method, test.method which echos back the first param. (echo server).
  

  Modified:
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/09/28 06:07:31 UTC	(20050928-2431)
  Log:
  Whoo! :P
  

  Modified:
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/src/xmlrpc.c (File Modified) 


nenolod     2005/09/28 05:39:37 UTC	(20050928-2429)
  Log:
  More changes :/
  

  Modified:
	trunk/Makefile.in (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/base64.c (File Added) 
	trunk/src/xmlrpc.c (File Added) 
	trunk/xmlrpc-lib/ (File Deleted) 


nenolod     2005/09/28 05:25:28 UTC	(20050928-2427)
  Log:
  - Add XMLRPC server module. Untested.
  - Add configuration block to example.conf concerning the XMLRPC server.
  - Remove unnecessary include -I../../xmlrpc-lib from the Makefiles.
  - Add xmlrpc as a subdir in modules/Makefile.in.
  

  Modified:
	trunk/dist/example.conf (File Modified) 
	trunk/dist/example.userserv.conf (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/modules/xmlrpc/Makefile.in (File Modified) 
	trunk/modules/xmlrpc/main.c (File Modified) 
	trunk/xmlrpc-lib/Makefile.in (File Modified) 


nenolod     2005/09/28 05:00:36 UTC	(20050928-2425)
  Log:
  Move some stuff around =)
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/doc/XMLRPC (File Modified) 
	trunk/include/atheme.h (File Modified) 
	trunk/include/xmlrpc.h (File Added) 
	trunk/modules/xmlrpc/ (File Added) 
	trunk/modules/xmlrpc/Makefile.in (File Added) 
	trunk/modules/xmlrpc/main.c (File Added) 
	trunk/xmlrpc-lib/.indent.pro (File Added) 
	trunk/xmlrpc-lib/base64.c (File Modified) 
	trunk/xmlrpc-lib/xmlrpc.c (File Modified) 
	trunk/xmlrpc-lib/xmlrpc.h (File Deleted) 


nenolod     2005/09/28 04:48:23 UTC	(20050928-2423)
  Log:
  Link against tweaked libnomadxmlrpc.
  

  Modified:
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/09/28 04:34:18 UTC	(20050928-2421)
  Log:
  XMLRPC library fixes. (buffer_st was missing.)
  

  Modified:
	trunk/Makefile.in (File Modified) 
	trunk/xmlrpc-lib/xmlrpc.h (File Modified) 


nenolod     2005/09/28 04:24:54 UTC	(20050928-2419)
  Log:
  Import trystan's XMLRPC library with integration hacks.
  

  Modified:
	trunk/doc/XMLRPC (File Added) 
	trunk/testsuite/xmlrpc-lib.c (File Added) 
	trunk/xmlrpc-lib/ (File Added) 
	trunk/xmlrpc-lib/Makefile.in (File Added) 
	trunk/xmlrpc-lib/README.Atheme (File Added) 
	trunk/xmlrpc-lib/base64.c (File Added) 
	trunk/xmlrpc-lib/xmlrpc.c (File Added) 
	trunk/xmlrpc-lib/xmlrpc.h (File Added) 


nenolod     2005/09/28 04:06:09 UTC	(20050928-2417)
  Log:
  Version bump: 0.3beta3.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/09/28 02:48:18 UTC	(20050928-2415)
  Log:
  - Add gen_echoserver which echos back incoming data, a demonstration of connection_write_raw().
  

  Modified:
	trunk/contrib/gen_echoserver.c (File Added) 


nenolod     2005/09/28 02:40:36 UTC	(20050928-2413)
  Log:
  - Add connection_write_raw() which is the same thing as connection_write,
    but without format parsing or mangling.
  

  Modified:
	trunk/include/connection.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 


nenolod     2005/09/28 02:32:46 UTC	(20050928-2411)
  Log:
  This massive commit does the following:
  
  - Adds connection_write(connection_t *to, char *format, ...) for writing to connection_t's.
  - Removes the debugging wallops from the libatheme code (which shouldn't be there)
  - Fixes a missing symbol error in gen_listenerdemo.c
  

  Modified:
	trunk/contrib/gen_listenerdemo.c (File Modified) 
	trunk/include/connection.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 


nenolod     2005/09/28 01:51:23 UTC	(20050928-2409)
  Log:
  Add gen_listenerdemo.
  

  Modified:
	trunk/contrib/gen_listenerdemo.c (File Added) 


nenolod     2005/09/28 01:18:00 UTC	(20050928-2407)
  Log:
  - Remove unused code from poll.c
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


jilles      2005/09/28 01:14:31 UTC	(20050928-2405)
  Log:
  Reassign slots in pollfds[] for each update_poll_fds().
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/09/27 17:34:30 UTC	(20050927-2403)
  Log:
  Listener code is working, almost.
  

  Modified:
	trunk/libatheme/connection.c (File Modified) 


pfish       2005/09/27 08:55:25 UTC	(20050927-2401)
  Log:
  make protocol modules unloadable...otherwise we'll crash if someone tries to unload
  
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/09/27 06:12:23 UTC	(20050927-2399)
  Log:
  Add connection_accept_tcp() for accepting a connection off of a 
  listener.
  

  Modified:
	trunk/include/connection.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 


jilles      2005/09/26 23:32:10 UTC	(20050926-2397)
  Log:
  Fix chanserv rejoining on kick.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/26 23:01:54 UTC	(20050926-2395)
  Log:
  - Change channel_mode() to allow a new variant where the mode
    change is also sent out
  - Don't core in channel_mode() if there are too few parameters
    to modes
  - Improve services deop logic a bit; keep all services opped, not
    just chanserv
  - Use new channel_mode() in /os mode. It won't desync services
    anymore but you can only use modes atheme knows about.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/modules/operserv/mode.c (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/cmode.c (File Modified) 


nenolod     2005/09/26 17:12:47 UTC	(20050926-2393)
  Log:
  Fix a crash bug with /os mode. Reported by Jamie.
  

  Modified:
	trunk/modules/operserv/mode.c (File Modified) 


nenolod     2005/09/26 02:25:29 UTC	(20050926-2391)
  Log:
  Add SET EMAIL to the help screen for /cs help set.
  

  Modified:
	trunk/modules/chanserv/help.c (File Modified) 


nenolod     2005/09/26 02:22:53 UTC	(20050926-2389)
  Log:
  Add documentation for /cs <#chan> set email.
  Also contributed by Kong Somvannda <somvannda -at- yahoo.com>.
  

  Modified:
	trunk/help/cservice/set_email (File Added) 
	trunk/modules/chanserv/help.c (File Modified) 


nenolod     2005/09/26 02:10:56 UTC	(20050926-2387)
  Log:
  Add /cs set <#chan> email, allowing for the setting of channel e-mail contact addresses.
  
  Contributed by Kong Somvannda <somvannda -at- yahoo.com>.
  

  Modified:
	trunk/modules/chanserv/set.c (File Modified) 


jilles      2005/09/26 01:06:21 UTC	(20050926-2385)
  Log:
  Move most of m_privmsg() to ptasks.c.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/ptasks.c (File Modified) 


jilles      2005/09/25 23:59:54 UTC	(20050926-2383)
  Log:
  - Ignore /stats target, unbreaking TS6 /stats and allowing stuff like
    /stats u ChanServ. Stuff like /stats u juped.server will be replied
    to as if it were targetted to services, too.
  - Pass the UID to handle_stats() for P10, don't resolve it to a nick.
    handle_stats() will call user_find(), not user_find_named().
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


jilles      2005/09/25 23:48:30 UTC	(20050925-2381)
  Log:
  Use numeric_sts() with CLIENT_NAME for /admin, /info, /version, /stats.
  

  Modified:
	trunk/src/ptasks.c (File Modified) 


jilles      2005/09/25 20:31:13 UTC	(20050925-2379)
  Log:
  - Move server->children removal up
  - Free server->uplink->children node
  - Only attempt to remove users with a uid from the uid hash (did remove/free
    on NULL nodes before)
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/09/25 20:24:31 UTC	(20050925-2377)
  Log:
  uhash/shash vulnerability fixes...
  

  Modified:
	trunk/src/node.c (File Modified) 


jilles      2005/09/25 20:03:04 UTC	(20050925-2375)
  Log:
  Don't reference invalid memory if the first character of
  the buffer in irc_packet() is '\n'.
  

  Modified:
	trunk/src/packet.c (File Modified) 


nenolod     2005/09/25 19:58:45 UTC	(20050925-2373)
  Log:
  Don't link a nickname if muptr->pass == NULL.
  

  Modified:
	trunk/modules/nickserv/link.c (File Modified) 


nenolod     2005/09/25 08:25:06 UTC	(20050925-2371)
  Log:
  Unbreak fantasy commands on P10. :P
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/09/25 04:31:48 UTC	(20050925-2369)
  Log:
  Fix a core with UserServ::HELP, reported by Cloppy.
  

  Modified:
	trunk/modules/userserv/help.c (File Modified) 


nenolod     2005/09/25 04:19:04 UTC	(20050925-2367)
  Log:
  Don't require nickserv {}.
  

  Modified:
	trunk/src/conf.c (File Modified) 


nenolod     2005/09/25 04:16:42 UTC	(20050925-2365)
  Log:
  Fix the example configuration for UserServ-based environment.
  

  Modified:
	trunk/dist/example.userserv.conf (File Modified) 


nenolod     2005/09/25 03:07:30 UTC	(20050925-2363)
  Log:
  UserServ modifications, part 3 of 3. It's ready for testing.
  

  Modified:
	trunk/help/userserv/ghost (File Deleted) 
	trunk/help/userserv/identify (File Deleted) 
	trunk/help/userserv/link (File Deleted) 
	trunk/help/userserv/login (File Added) 


nenolod     2005/09/25 03:05:34 UTC	(20050925-2361)
  Log:
  UserServ modifications, part 2 of 3.
  

  Modified:
	trunk/help/userserv/ (File Added) 
	trunk/modules/userserv/Makefile.in (File Modified) 
	trunk/modules/userserv/drop.c (File Modified) 
	trunk/modules/userserv/freeze.c (File Modified) 
	trunk/modules/userserv/help.c (File Modified) 
	trunk/modules/userserv/hold.c (File Modified) 
	trunk/modules/userserv/identify.c (File Deleted) 
	trunk/modules/userserv/info.c (File Modified) 
	trunk/modules/userserv/list.c (File Modified) 
	trunk/modules/userserv/listmail.c (File Modified) 
	trunk/modules/userserv/login.c (File Added) 
	trunk/modules/userserv/mark.c (File Modified) 
	trunk/modules/userserv/myaccess.c (File Modified) 
	trunk/modules/userserv/register.c (File Modified) 
	trunk/modules/userserv/sendpass.c (File Modified) 
	trunk/modules/userserv/set.c (File Modified) 
	trunk/modules/userserv/taxonomy.c (File Modified) 
	trunk/modules/userserv/verify.c (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/09/25 02:49:10 UTC	(20050925-2359)
  Log:
  UserServ modifications, part 1 of 2 (?).
  

  Modified:
	trunk/modules/userserv/drop.c (File Modified) 
	trunk/modules/userserv/freeze.c (File Modified) 
	trunk/modules/userserv/help.c (File Modified) 
	trunk/modules/userserv/hold.c (File Modified) 
	trunk/modules/userserv/identify.c (File Modified) 
	trunk/modules/userserv/info.c (File Modified) 
	trunk/modules/userserv/list.c (File Modified) 
	trunk/modules/userserv/listmail.c (File Modified) 
	trunk/modules/userserv/logout.c (File Modified) 
	trunk/modules/userserv/main.c (File Modified) 
	trunk/modules/userserv/mark.c (File Modified) 
	trunk/modules/userserv/myaccess.c (File Modified) 
	trunk/modules/userserv/register.c (File Modified) 
	trunk/modules/userserv/sendpass.c (File Modified) 
	trunk/modules/userserv/set.c (File Modified) 
	trunk/modules/userserv/status.c (File Modified) 
	trunk/modules/userserv/taxonomy.c (File Modified) 
	trunk/modules/userserv/verify.c (File Modified) 


nenolod     2005/09/25 02:36:39 UTC	(20050925-2357)
  Log:
  Add userserv example.
  

  Modified:
	trunk/dist/example.userserv.conf (File Added) 


nenolod     2005/09/25 02:28:25 UTC	(20050925-2355)
  Log:
  Config parsing stuff for UserServ.
  

  Modified:
	trunk/src/conf.c (File Modified) 


nenolod     2005/09/25 02:22:25 UTC	(20050925-2353)
  Log:
  Add a config structure to the core for UserServ, since I'm lazy and 
  don't want to bother with ondemand linking for this. (memory is cheap, 
  etc.)
  

  Modified:
	trunk/include/services.h (File Modified) 


nenolod     2005/09/24 20:49:53 UTC	(20050924-2351)
  Log:
  shash fix

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/09/24 05:43:12 UTC	(20050924-2349)
  Log:
  Add /cs clear <#chan> users, which allows users with CA_RECOVER to 
  masskick a channel.
  

  Modified:
	trunk/modules/chanserv/Makefile.in (File Modified) 
	trunk/modules/chanserv/clear_users.c (File Added) 


nenolod     2005/09/24 02:47:05 UTC	(20050924-2347)
  Log:
  Fix a uhash bug.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/09/24 02:44:06 UTC	(20050924-2345)
  Log:
  fixes :P
  

  Modified:
	trunk/modules/chanserv/clear.c (File Modified) 


nenolod     2005/09/24 02:29:24 UTC	(20050924-2343)
  Log:
  Add /cs clear <#chan> bans for clearing the channel banlist.
  This module, and chanserv/clear serve as an example for writing pluggable 
  commands.
  

  Modified:
	trunk/modules/chanserv/Makefile.in (File Modified) 
	trunk/modules/chanserv/clear_bans.c (File Added) 


nenolod     2005/09/24 02:12:20 UTC	(20050924-2341)
  Log:
  Err, yeah. A few mistakes :P.
  

  Modified:
	trunk/modules/chanserv/clear.c (File Modified) 


nenolod     2005/09/24 02:08:22 UTC	(20050924-2339)
  Log:
  Add clear command, extended by other plugin modules. I haven't written 
  any yet. :P
  

  Modified:
	trunk/modules/chanserv/Makefile.in (File Modified) 
	trunk/modules/chanserv/clear.c (File Added) 


jilles      2005/09/24 02:01:26 UTC	(20050924-2337)
  Log:
  Add support for remote WHOIS and TRACE requests,
  for all supported ircds except inspircd (which
  already lacks several other special commands).
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/ptasks.c (File Modified) 


jilles      2005/09/23 22:36:23 UTC	(20050923-2335)
  Log:
  Change first argument of PING/PONG to a name. This is to
  improve TS5 compatibility; ratbox/charybdis itself do not
  use this argument for routing.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/23 22:32:01 UTC	(20050923-2333)
  Log:
  Use a new macro ME to substitute either our SID or our name,
  reducing TS5-TS6 differences.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/23 22:21:59 UTC	(20050923-2331)
  Log:
  Allow TS5 entities on the network in the charybdis module.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/src/node.c (File Modified) 


jilles      2005/09/23 21:45:42 UTC	(20050923-2329)
  Log:
  Complete support for TMODE.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/23 14:46:11 UTC	(20050923-2327)
  Log:
  Use TS6 prefix in charybdis_on_logout().
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/23 14:24:21 UTC	(20050923-2325)
  Log:
  Disallow /os akill <uid>.
  

  Modified:
	trunk/modules/operserv/akill.c (File Modified) 


jilles      2005/09/23 14:09:59 UTC	(20050923-2323)
  Log:
  Don't accept a uid from a user in /us acc.
  

  Modified:
	trunk/modules/userserv/status.c (File Modified) 


jilles      2005/09/23 14:08:56 UTC	(20050923-2321)
  Log:
  Don't accept a uid from a user in /ns acc.
  

  Modified:
	trunk/modules/nickserv/status.c (File Modified) 


jilles      2005/09/23 14:01:26 UTC	(20050923-2319)
  Log:
  Correct error message on /cs invite of nonexistent nick.
  

  Modified:
	trunk/modules/chanserv/invite.c (File Modified) 


jilles      2005/09/23 13:58:19 UTC	(20050923-2317)
  Log:
  Use user_find_named() where appropriate in chanserv commands.
  

  Modified:
	trunk/modules/chanserv/ban.c (File Modified) 
	trunk/modules/chanserv/halfop.c (File Modified) 
	trunk/modules/chanserv/invite.c (File Modified) 
	trunk/modules/chanserv/kick.c (File Modified) 
	trunk/modules/chanserv/op.c (File Modified) 
	trunk/modules/chanserv/voice.c (File Modified) 
	trunk/modules/chanserv/why.c (File Modified) 


jilles      2005/09/23 13:46:06 UTC	(20050923-2315)
  Log:
  Add user_find_named(), a la ratbox find_named_person().
  This should be used to prevent users from chasing
  people via UID.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/node.c (File Modified) 


jilles      2005/09/23 12:25:06 UTC	(20050923-2313)
  Log:
  Fix JOIN 0.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/23 12:17:05 UTC	(20050923-2311)
  Log:
  TS6 fixes.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/23 04:42:15 UTC	(20050923-2309)
  Log:
  chanuser_add() was in wrong place :/

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/23 04:38:01 UTC	(20050923-2307)
  Log:
  continuation of last commit...

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/23 04:36:58 UTC	(20050923-2305)
  Log:
  don't block channel messages... oops

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/23 04:30:02 UTC	(20050923-2303)
  Log:
  charybdis TS6 fixes

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/23 04:12:31 UTC	(20050923-2301)
  Log:
  MySQL detection fixes.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/09/23 04:10:02 UTC	(20050923-2299)
  Log:
  - TS6ify charybdis protocol support.
  - Optimize m_nick() stuff in several protocol modules.
  - Add IP tracking for IRCd's that we know how to handle it with.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/include/users.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/node.c (File Modified) 


pfish       2005/09/22 22:30:59 UTC	(20050922-2297)
  Log:
  display a _channels_ metadata
  

  Modified:
	trunk/modules/chanserv/taxonomy.c (File Modified) 


pfish       2005/09/22 22:26:32 UTC	(20050922-2295)
  Log:
  fix close help
  

  Modified:
	trunk/modules/chanserv/help.c (File Modified) 


pfish       2005/09/21 22:13:03 UTC	(20050921-2293)
  Log:
  use me.actual instead of me.name here (fixes synch timer wallops)
  

  Modified:
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/09/21 19:19:24 UTC	(20050921-2291)
  Log:
  Add a note about viewsvn.atheme.org.
  

  Modified:
	trunk/SVN-Access (File Modified) 


nenolod     2005/09/21 18:24:09 UTC	(20050921-2289)
  Log:
  Make charybdis TS6ish. Probably does not work. Should compile though.
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 


jilles      2005/09/21 16:34:48 UTC	(20050921-2287)
  Log:
  Make it look like a proper TS5/TS6 handshake.
  

  Modified:
	trunk/testsuite/authenticate.t (File Modified) 


nenolod     2005/09/21 16:25:50 UTC	(20050921-2285)
  Log:
  Add a chanserv testsuite.
  

  Modified:
	trunk/testsuite/regchan.t (File Added) 


nenolod     2005/09/21 06:40:15 UTC	(20050921-2283)
  Log:
  Some stuff for a future testsuite.
  

  Modified:
	trunk/testsuite/ (File Added) 
	trunk/testsuite/authenticate.t (File Added) 
	trunk/testsuite/burstuser.t (File Added) 
	trunk/testsuite/reguser.t (File Added) 


pfish       2005/09/21 06:04:46 UTC	(20050921-2281)
  Log:
  add chanserv close help
  

  Modified:
	trunk/modules/chanserv/help.c (File Modified) 


nenolod     2005/09/21 00:27:40 UTC	(20050921-2279)
  Log:
  - strlcpy should have been strncpy in this case since we didn't want to null-terminate in replace() yet.
  

  Modified:
	trunk/src/function.c (File Modified) 


jilles      2005/09/19 19:23:33 UTC	(20050919-2277)
  Log:
  room -> channel
  

  Modified:
	trunk/help/cservice/mark (File Modified) 
	trunk/help/nickserv/set_noop (File Modified) 
	trunk/modules/nickserv/myaccess.c (File Modified) 
	trunk/modules/operserv/uptime.c (File Modified) 
	trunk/modules/userserv/myaccess.c (File Modified) 


pfish       2005/09/19 07:23:37 UTC	(20050919-2275)
  Log:
  remove old account stuff from help
  

  Modified:
	trunk/help/cservice/set_neverop (File Deleted) 
	trunk/help/cservice/set_noop (File Deleted) 
	trunk/modules/chanserv/help.c (File Modified) 


jilles      2005/09/18 19:50:18 UTC	(20050918-2273)
  Log:
  Use server_t.userlist in server_eob().
  

  Modified:
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 


nenolod     2005/09/18 19:36:22 UTC	(20050918-2271)
  Log:
  ditto
  

  Modified:
	trunk/modules/Makefile.in (File Modified) 


nenolod     2005/09/18 19:35:52 UTC	(20050918-2269)
  Log:
  Netsplit stuff and cruft removal from configure.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/include/servers.h (File Modified) 
	trunk/src/node.c (File Modified) 


nenolod     2005/09/18 18:38:26 UTC	(20050918-2267)
  Log:
  Fixes.
  

  Modified:
	trunk/src/packet.c (File Modified) 


nenolod     2005/09/16 21:53:11 UTC	(20050916-2263)
  Log:
  Revert tokenize stuff.
  

  Modified:
	trunk/src/tokenize.c (File Modified) 


nenolod     2005/09/16 21:22:34 UTC	(20050916-2261)
  Log:
  Change out strncpy() for strlcpy(). This time the string is properly terminated, instead of being null-terminated prematurely.
  

  Modified:
	trunk/src/confparse.c (File Modified) 


pfish       2005/09/16 21:08:37 UTC	(20050916-2259)
  Log:
  revert r2247 (confparse.c only), parser broke
  

  Modified:
	trunk/src/confparse.c (File Modified) 


nenolod     2005/09/16 07:58:28 UTC	(20050916-2257)
  Log:
  remove unnecessary memset()
  

  Modified:
	trunk/src/flags.c (File Modified) 


nenolod     2005/09/16 07:50:13 UTC	(20050916-2255)
  Log:
  - ban() cleanups c/o Dianora
  

  Modified:
	trunk/src/services.c (File Modified) 


nenolod     2005/09/16 07:47:34 UTC	(20050916-2253)
  Log:
  - Optimizations to sts() c/o Dianora.
  

  Modified:
	trunk/src/send.c (File Modified) 


nenolod     2005/09/16 07:46:02 UTC	(20050916-2251)
  Log:
  - more tokenize cleanups c/o Dianora
  

  Modified:
	trunk/src/tokenize.c (File Modified) 


nenolod     2005/09/16 07:27:49 UTC	(20050916-2249)
  Log:
  - tokenize cleanups c/o Dianora.
  

  Modified:
	trunk/src/tokenize.c (File Modified) 


nenolod     2005/09/16 07:04:29 UTC	(20050916-2247)
  Log:
  - Replace strncpy() instances with safer strlcpy().
  - Grammatical comment fixes.
  
  Reported by Dianora.
  

  Modified:
	trunk/src/confparse.c (File Modified) 
	trunk/src/function.c (File Modified) 
	trunk/src/module.c (File Modified) 


nenolod     2005/09/16 06:46:13 UTC	(20050916-2245)
  Log:
  - Fix a buffer underrun vulnerability in irc_read().
  - Optimizations to our linebuf implementation.
  
  Vulnerability reported by Diane Bruce (Dianora on Undernet, EFnet).
  Optimizations also came from her.
  

  Modified:
	trunk/src/packet.c (File Modified) 


nenolod     2005/09/14 17:20:49 UTC	(20050914-2243)
  Log:
  - More fixes.
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/09/14 17:07:33 UTC	(20050914-2241)
  Log:
  Fix issue with CPU hogging

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/09/14 16:07:45 UTC	(20050914-2239)
  Log:
  Add block allocator patch (it didnt get in there when I reverted back to wohali's algorithm :X)
  

  Modified:
	trunk/patches/balloc.patch (File Added) 


nenolod     2005/09/14 08:09:20 UTC	(20050914-2237)
  Log:
  - Revert back to old block allocator.
  - Place new block allocator in patches/ for bored people to play with on rainy days.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/balloc.h (File Modified) 
	trunk/include/compat.h (File Deleted) 
	trunk/include/extern.h (File Modified) 
	trunk/libatheme/balloc.c (File Modified) 
	trunk/libatheme/libatheme.c (File Modified) 
	trunk/libatheme/string.c (File Modified) 
	trunk/patches/README (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/compat.c (File Deleted) 
	trunk/src/function.c (File Modified) 


nenolod     2005/09/14 07:29:13 UTC	(20050914-2235)
  Log:
  heavily renovated block allocator, with a spiffy new API.
  compatibility shims have been added for use with older Atheme modules,
  this is located in src/compat.c.
  
  reviewed by patrick.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/balloc.h (File Modified) 
	trunk/include/compat.h (File Added) 
	trunk/include/extern.h (File Modified) 
	trunk/libatheme/balloc.c (File Modified) 
	trunk/libatheme/libatheme.c (File Modified) 
	trunk/libatheme/string.c (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/compat.c (File Added) 
	trunk/src/function.c (File Modified) 


pfish       2005/09/14 03:07:54 UTC	(20050914-2233)
  Log:
  fix debug info not showing what module is being unloaded, and also be consistant by sending a wallops as module_load does.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/09/12 23:51:10 UTC	(20050912-2231)
  Log:
  - Because we can't check if the first byte of NULL is NULL or not.
  

  Modified:
	trunk/src/match.c (File Modified) 


jilles      2005/09/12 20:56:14 UTC	(20050912-2229)
  Log:
  Fix a crash when config_options.chan is not set.
  

  Modified:
	trunk/src/services.c (File Modified) 


jilles      2005/09/12 18:37:45 UTC	(20050912-2227)
  Log:
  Allow unopered SRAs in staffonly channels.
  

  Modified:
	trunk/src/node.c (File Modified) 


jilles      2005/09/12 16:19:10 UTC	(20050912-2225)
  Log:
  Add notion of oper-only cmodes. If a nonoper executes
  /cs set mlock, these will remain unchanged.
  Oper-only channel, admin-only channel, large ban list
  and permanent cmodes have been marked oper-only if
  atheme knows them.
  

  Modified:
	trunk/include/phandler.h (File Modified) 
	trunk/modules/chanserv/set.c (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


jilles      2005/09/12 14:29:54 UTC	(20050912-2223)
  Log:
  Add charybdis cmode +FQ support.
  

  Modified:
	trunk/include/protocol/charybdis.h (File Modified) 
	trunk/protocol/charybdis.c (File Modified) 


nenolod     2005/09/11 18:55:33 UTC	(20050911-2221)
  Log:
  Wallops when /os mode is used.
  

  Modified:
	trunk/modules/operserv/mode.c (File Modified) 


nenolod     2005/09/11 18:51:54 UTC	(20050911-2219)
  Log:
  MySQL fixes? (until mysql-beu branch is ready for merge.)
  

  Modified:
	trunk/backend/mysql.c (File Modified) 


nenolod     2005/09/11 18:44:19 UTC	(20050911-2217)
  Log:
  Only load modules from the conf at startup.
  

  Modified:
	trunk/src/conf.c (File Modified) 


nenolod     2005/09/10 18:30:51 UTC	(20050910-2215)
  Log:
  - Add charybdis protocol module.
  

  Modified:
	trunk/include/protocol/charybdis.h (File Added) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/protocol/charybdis.c (File Added) 


jilles      2005/09/09 23:14:27 UTC	(20050909-2213)
  Log:
  More (ca->host != NULL) to (ca->myuser == NULL).
  Just cleanup in src/node.c, fixing akick listing in
  modules/chanserv/akick.c
  

  Modified:
	trunk/modules/chanserv/akick.c (File Modified) 
	trunk/src/node.c (File Modified) 


jilles      2005/09/09 22:53:49 UTC	(20050909-2211)
  Log:
  Fix deletion of nick access entries on channel drop
  (ca->host is never NULL now).
  

  Modified:
	trunk/src/node.c (File Modified) 


jilles      2005/09/09 22:29:47 UTC	(20050909-2209)
  Log:
  Remove snoop channel messages from /ns info and /cs info.
  

  Modified:
	trunk/modules/chanserv/info.c (File Modified) 
	trunk/modules/nickserv/info.c (File Modified) 


nenolod     2005/09/09 04:28:48 UTC	(20050909-2207)
  Log:
  Fix a minor bug relating to polling sockets.
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/09/07 19:26:37 UTC	(20050907-2205)
  Log:
  Properly use the hashtable on user lookups (made our burst processing 90% faster.)
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/09/07 19:10:17 UTC	(20050907-2203)
  Log:
  Add --enable-profile option to enable use of a profiler.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/09/07 18:21:20 UTC	(20050907-2201)
  Log:
  Clear out events on struct pollfd when we are through handling the poll. 
  (This way we dont look to make a write if we have nothing to write.)
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/09/07 18:12:20 UTC	(20050907-2199)
  Log:
  - Solve duplicate FD issue in poll.c.
  - Remove usleep() hack that we shouldn't need anymore.
  

  Modified:
	trunk/libatheme/connection.c (File Modified) 
	trunk/libatheme/poll.c (File Modified) 
	trunk/libatheme/select.c (File Modified) 


pfish       2005/09/07 04:52:49 UTC	(20050907-2197)
  Log:
  fix notice origin
  

  Modified:
	trunk/modules/nickserv/freeze.c (File Modified) 


pfish       2005/09/07 04:37:04 UTC	(20050907-2195)
  Log:
  enable help for freeze
  

  Modified:
	trunk/modules/nickserv/help.c (File Modified) 


nenolod     2005/09/07 04:33:09 UTC	(20050907-2193)
  Log:
  Remove code that did no good.
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/09/07 04:30:03 UTC	(20050907-2191)
  Log:
  Memory corruption fix.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/09/07 03:56:50 UTC	(20050907-2189)
  Log:
  Fix restart retardedness.
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/09/07 03:47:06 UTC	(20050907-2187)
  Log:
  Add tracking of oper and invisible users. (statistical information)
  

  Modified:
	trunk/src/cmode.c (File Modified) 


nenolod     2005/09/07 02:43:08 UTC	(20050907-2185)
  Log:
  Add server uplink/child tracking.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/include/servers.h (File Modified) 
	trunk/modules/userserv/Makefile.in (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/node.c (File Modified) 
	trunk/src/packet.c (File Modified) 


pfish       2005/09/06 22:37:58 UTC	(20050906-2183)
  Log:
  add help for freeze
  

  Modified:
	trunk/help/nickserv/freeze (File Added) 


pfish       2005/09/06 09:27:08 UTC	(20050906-2181)
  Log:
  update example conf/docs
  

  Modified:
	trunk/dist/example.conf (File Modified) 


pfish       2005/09/06 09:17:45 UTC	(20050906-2179)
  Log:
  Add NICKSERV FREEZE:
  Don't allow logins from frozen nicknames.
  Usage: FREEZE <username> <ON|OFF> [reason]
  

  Modified:
	trunk/modules/nickserv/Makefile.in (File Modified) 
	trunk/modules/nickserv/freeze.c (File Added) 
	trunk/modules/nickserv/identify.c (File Modified) 
	trunk/modules/nickserv/info.c (File Modified) 
	trunk/modules/userserv/Makefile.in (File Modified) 
	trunk/modules/userserv/freeze.c (File Added) 
	trunk/modules/userserv/identify.c (File Modified) 
	trunk/modules/userserv/info.c (File Modified) 


jilles      2005/09/06 00:10:02 UTC	(20050906-2177)
  Log:
  Improve logic on identify when already logged in.
  

  Modified:
	trunk/modules/nickserv/identify.c (File Modified) 
	trunk/modules/userserv/identify.c (File Modified) 


jilles      2005/09/05 23:18:00 UTC	(20050905-2175)
  Log:
  Implement limitation of number of sessions allowed to be
  logged in to one nick, via serverinfo::maxlogins in
  atheme.conf. This is checked on identify only.
  Interaction with nickname linking is currently
  doubtful.
  

  Modified:
	trunk/dist/example.conf (File Modified) 
	trunk/include/atheme.h (File Modified) 
	trunk/modules/nickserv/identify.c (File Modified) 
	trunk/modules/userserv/identify.c (File Modified) 
	trunk/src/conf.c (File Modified) 


jilles      2005/09/05 21:32:17 UTC	(20050905-2173)
  Log:
  Use EMAILLEN (- 1) instead of hardcoded 128 to verify
  email address length.
  

  Modified:
	trunk/modules/nickserv/register.c (File Modified) 
	trunk/modules/nickserv/set.c (File Modified) 
	trunk/modules/userserv/register.c (File Modified) 
	trunk/modules/userserv/set.c (File Modified) 
	trunk/src/function.c (File Modified) 


jilles      2005/09/05 21:22:11 UTC	(20050905-2171)
  Log:
  - Move some *LEN defines to common.h
  - Use separate define for email address length instead of
    NICKLEN + HOSTLEN + 1
  - Make clear that *LEN are the buffer lengths (including '\0')
  - Shorten GECOSLEN to 51, add 1 to USERLEN, HOSTLEN (this breaks
    binary compatibility, recompile all modules)
  

  Modified:
	trunk/include/account.h (File Modified) 
	trunk/include/atheme.h (File Modified) 
	trunk/include/common.h (File Modified) 
	trunk/include/connection.h (File Modified) 
	trunk/modules/nickserv/set.c (File Modified) 
	trunk/modules/nickserv/verify.c (File Modified) 
	trunk/modules/userserv/set.c (File Modified) 
	trunk/modules/userserv/verify.c (File Modified) 
	trunk/src/node.c (File Modified) 


pfish       2005/09/05 20:48:58 UTC	(20050905-2167)
  Log:
  warn on already loaded module
  

  Modified:
	trunk/modules/operserv/modload.c (File Modified) 


jilles      2005/09/05 18:22:54 UTC	(20050905-2165)
  Log:
  Properly initialize mask and modemask in ban(), don't use old
  stack garbage.
  

  Modified:
	trunk/src/services.c (File Modified) 


nenolod     2005/09/05 17:38:57 UTC	(20050905-2163)
  Log:
  char *origin *only* in function declarations!!!!!!!!!!!
  

  Modified:
	trunk/modules/operserv/modinspect.c (File Modified) 


pfish       2005/09/05 09:59:21 UTC	(20050905-2161)
  Log:
  fix some errors here
  
  

  Modified:
	trunk/modules/operserv/modinspect.c (File Modified) 


nenolod     2005/09/05 04:05:51 UTC	(20050905-2159)
  Log:
  Update code.
  

  Modified:
	trunk/modules/nickserv/status.c (File Modified) 


nenolod     2005/09/05 04:00:50 UTC	(20050905-2157)
  Log:
  Fix a crash issue with ACC <nick that does not exist.>
  

  Modified:
	trunk/modules/nickserv/status.c (File Modified) 


nenolod     2005/09/05 03:49:21 UTC	(20050905-2155)
  Log:
  Fix a minor error here, I fixed this a while ago but forgot to commit.
  

  Modified:
	trunk/modules/operserv/modinspect.c (File Modified) 


nenolod     2005/09/05 02:12:42 UTC	(20050905-2153)
  Log:
  Update documentation.
  

  Modified:
	trunk/dist/example.conf (File Modified) 


nenolod     2005/09/05 02:10:48 UTC	(20050905-2151)
  Log:
  Add /os modinspect command.
  

  Modified:
	trunk/modules/operserv/Makefile.in (File Modified) 
	trunk/modules/operserv/modinspect.c (File Added) 


nenolod     2005/09/05 01:55:54 UTC	(20050905-2149)
  Log:
  Fix some warnings.
  

  Modified:
	trunk/include/sockio.h (File Modified) 
	trunk/libatheme/linker.c (File Modified) 


nenolod     2005/09/05 01:46:10 UTC	(20050905-2147)
  Log:
  Update protocol components.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/09/05 01:40:07 UTC	(20050905-2145)
  Log:
  Update backend modules, module header.
  

  Modified:
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/mysql.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 
	trunk/include/module.h (File Modified) 


nenolod     2005/09/05 01:32:47 UTC	(20050905-2143)
  Log:
  UserServ modifications.
  

  Modified:
	trunk/modules/userserv/Makefile.in (File Modified) 
	trunk/modules/userserv/ghost.c (File Deleted) 
	trunk/modules/userserv/link.c (File Deleted) 


nenolod     2005/09/05 01:32:13 UTC	(20050905-2141)
  Log:
  Put userserv back.
  

  Modified:
	trunk/modules/userserv/ (File Added) 


nenolod     2005/09/05 01:31:54 UTC	(20050905-2139)
  Log:
  Remove userserv dir.
  

  Modified:
	trunk/modules/userserv/ (File Deleted) 


nenolod     2005/09/05 01:30:08 UTC	(20050905-2137)
  Log:
  Remove dead module.
  

  Modified:
	trunk/modules/userserv/link.c (File Deleted) 


nenolod     2005/09/05 01:28:25 UTC	(20050905-2135)
  Log:
  Update OperServ modules.
  

  Modified:
	trunk/modules/operserv/akill.c (File Modified) 
	trunk/modules/operserv/help.c (File Modified) 
	trunk/modules/operserv/inject.c (File Modified) 
	trunk/modules/operserv/jupe.c (File Modified) 
	trunk/modules/operserv/main.c (File Modified) 
	trunk/modules/operserv/mode.c (File Modified) 
	trunk/modules/operserv/modlist.c (File Modified) 
	trunk/modules/operserv/modload.c (File Modified) 
	trunk/modules/operserv/modrestart.c (File Modified) 
	trunk/modules/operserv/modunload.c (File Modified) 
	trunk/modules/operserv/noop.c (File Modified) 
	trunk/modules/operserv/raw.c (File Modified) 
	trunk/modules/operserv/rehash.c (File Modified) 
	trunk/modules/operserv/restart.c (File Modified) 
	trunk/modules/operserv/shutdown.c (File Modified) 
	trunk/modules/operserv/update.c (File Modified) 
	trunk/modules/operserv/uptime.c (File Modified) 


nenolod     2005/09/05 01:19:23 UTC	(20050905-2133)
  Log:
  Nickserv modules.
  

  Modified:
	trunk/modules/nickserv/drop.c (File Modified) 
	trunk/modules/nickserv/ghost.c (File Modified) 
	trunk/modules/nickserv/help.c (File Modified) 
	trunk/modules/nickserv/hold.c (File Modified) 
	trunk/modules/nickserv/identify.c (File Modified) 
	trunk/modules/nickserv/info.c (File Modified) 
	trunk/modules/nickserv/link.c (File Modified) 
	trunk/modules/nickserv/list.c (File Modified) 
	trunk/modules/nickserv/listmail.c (File Modified) 
	trunk/modules/nickserv/logout.c (File Modified) 
	trunk/modules/nickserv/main.c (File Modified) 
	trunk/modules/nickserv/mark.c (File Modified) 
	trunk/modules/nickserv/myaccess.c (File Modified) 
	trunk/modules/nickserv/register.c (File Modified) 
	trunk/modules/nickserv/sendpass.c (File Modified) 
	trunk/modules/nickserv/set.c (File Modified) 
	trunk/modules/nickserv/status.c (File Modified) 
	trunk/modules/nickserv/taxonomy.c (File Modified) 
	trunk/modules/nickserv/verify.c (File Modified) 


beu         2005/09/05 01:08:12 UTC	(20050905-2131)
  Log:
  Backout make DESTDIR= patch 'til we have a portable solution.
  

  Modified:
	trunk/backend/Makefile.in (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/crypto/Makefile.in (File Modified) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/09/05 00:59:19 UTC	(20050905-2129)
  Log:
  Finish updating ChanServ modules.
  

  Modified:
	trunk/modules/chanserv/info.c (File Modified) 
	trunk/modules/chanserv/invite.c (File Modified) 
	trunk/modules/chanserv/kick.c (File Modified) 
	trunk/modules/chanserv/list.c (File Modified) 
	trunk/modules/chanserv/mark.c (File Modified) 
	trunk/modules/chanserv/op.c (File Modified) 
	trunk/modules/chanserv/recover.c (File Modified) 
	trunk/modules/chanserv/register.c (File Modified) 
	trunk/modules/chanserv/set.c (File Modified) 
	trunk/modules/chanserv/status.c (File Modified) 
	trunk/modules/chanserv/taxonomy.c (File Modified) 
	trunk/modules/chanserv/topic.c (File Modified) 
	trunk/modules/chanserv/voice.c (File Modified) 
	trunk/modules/chanserv/why.c (File Modified) 
	trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2005/09/05 00:44:16 UTC	(20050905-2127)
  Log:
  Update some more modules.
  

  Modified:
	trunk/modules/chanserv/flags.c (File Modified) 
	trunk/modules/chanserv/ftransfer.c (File Modified) 
	trunk/modules/chanserv/halfop.c (File Modified) 
	trunk/modules/chanserv/help.c (File Modified) 
	trunk/modules/chanserv/hold.c (File Modified) 


nenolod     2005/09/04 23:34:32 UTC	(20050904-2125)
  Log:
  Update a set of module headers.
  

  Modified:
	trunk/modules/chanserv/akick.c (File Modified) 
	trunk/modules/chanserv/ban.c (File Modified) 
	trunk/modules/chanserv/close.c (File Modified) 
	trunk/modules/chanserv/drop.c (File Modified) 
	trunk/modules/chanserv/flags.c (File Modified) 
	trunk/modules/chanserv/main.c (File Modified) 
	trunk/modules/global/main.c (File Modified) 


nenolod     2005/09/04 23:25:05 UTC	(20050904-2123)
  Log:
  Add vendor and version fields to DECLARE_MODULE_V1().
  Now I get to update 63 files. YAY FOR ME!#&$%(*&$(!@#@$%%!@
  

  Modified:
	trunk/include/module.h (File Modified) 


nenolod     2005/09/04 23:01:39 UTC	(20050904-2121)
  Log:
  Add a tools directory for developer tools/modules. I guess you would call this an SDK?
  

  Modified:
	trunk/tools/ (File Added) 


nenolod     2005/09/04 21:06:11 UTC	(20050904-2119)
  Log:
  Add version and vendor fields to the module header.
  

  Modified:
	trunk/include/module.h (File Modified) 


jilles      2005/09/04 17:24:58 UTC	(20050904-2115)
  Log:
  Give proper error message instead of coring on
  /msg chanserv flags <badname> target flags.
  

  Modified:
	trunk/modules/chanserv/flags.c (File Modified) 


nenolod     2005/09/04 08:37:42 UTC	(20050904-2113)
  Log:
  Add ACC command to nickserv/status, as implemented on DALnet.
  

  Modified:
	trunk/modules/nickserv/status.c (File Modified) 


beu         2005/09/04 07:15:47 UTC	(20050904-2111)
  Log:
  `make DESTDIR=/path/to/foo install` support.
  

  Modified:
	trunk/backend/Makefile.in (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/crypto/Makefile.in (File Modified) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/09/04 06:05:51 UTC	(20050904-2107)
  Log:
  Make sure clean recurses subdirectories.
  

  Modified:
	trunk/modules/Makefile.in (File Modified) 


nenolod     2005/09/04 06:03:57 UTC	(20050904-2105)
  Log:
  gen_pw() goodness.
  

  Modified:
	trunk/modules/nickserv/register.c (File Modified) 
	trunk/modules/userserv/register.c (File Modified) 


nenolod     2005/09/04 05:59:17 UTC	(20050904-2103)
  Log:
  Add gen_pw() which generates a random string, intended for passwords and keys.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/function.c (File Modified) 


pfish       2005/09/04 05:40:49 UTC	(20050904-2099)
  Log:
  propset
  

  Modified:
	trunk/modules/operserv/uptime.c  (Property Modified)


pfish       2005/09/04 05:35:28 UTC	(20050904-2097)
  Log:
  add operserv/uptime module for network information
  

  Modified:
	trunk/modules/operserv/Makefile.in (File Modified) 
	trunk/modules/operserv/uptime.c (File Added) 


nenolod     2005/09/04 00:56:04 UTC	(20050904-2095)
  Log:
  More userserv stuff.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/modules/Makefile.in (File Modified) 


jilles      2005/09/04 00:40:23 UTC	(20050904-2093)
  Log:
  Always allow founder to set flags.
  

  Modified:
	trunk/modules/chanserv/flags.c (File Modified) 


nenolod     2005/09/03 23:02:15 UTC	(20050903-2091)
  Log:
  Remove ghost module.
  

  Modified:
	trunk/modules/userserv/Makefile.in (File Modified) 
	trunk/modules/userserv/ghost.c (File Deleted) 


nenolod     2005/09/03 22:56:23 UTC	(20050903-2089)
  Log:
  Copy over nickserv directory as skeleton for UserServ.
  

  Modified:
	trunk/modules/userserv/ (File Added) 


nenolod     2005/09/03 20:42:14 UTC	(20050903-2083)
  Log:
  Fix beu's real name in /info... because i was an idiot and didn't get it down right. 
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/09/03 18:48:48 UTC	(20050903-2081)
  Log:
  Fix a bug relating to hashtable lookups. Fixes several bugs reported by 
  brian@notheme.org.
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/09/03 04:12:41 UTC	(20050903-2079)
  Log:
  Fix /cs why breakage.

  Modified:
	trunk/modules/chanserv/why.c (File Modified) 
	trunk/src/services.c (File Modified) 


nenolod     2005/09/03 03:51:56 UTC	(20050903-2077)
  Log:
  Remove race condition in ban(). Reported by many, over the last five months.
  

  Modified:
	trunk/src/services.c (File Modified) 


nenolod     2005/09/03 03:42:37 UTC	(20050903-2075)
  Log:
  Fix typo.

  Modified:
	trunk/modules/chanserv/why.c (File Modified) 


nenolod     2005/09/03 03:41:55 UTC	(20050903-2073)
  Log:
  Fix a crash when no parameters are provided.

  Modified:
	trunk/modules/chanserv/why.c (File Modified) 


nenolod     2005/09/03 02:50:45 UTC	(20050903-2071)
  Log:
  Clean up build system issues.

  Modified:
	trunk/modules/Makefile.in (File Modified) 


nenolod     2005/09/03 02:38:43 UTC	(20050903-2069)
  Log:
  Add /cs why <chan> <nick>. Explains why services is taking the onjoin actions it is taking.
  

  Modified:
	trunk/dist/example.conf (File Modified) 
	trunk/modules/chanserv/Makefile.in (File Modified) 
	trunk/modules/chanserv/why.c (File Added) 


nenolod     2005/09/02 06:55:32 UTC	(20050902-2067)
  Log:
  Fix a load error, discovered by pfish. (We probably should have reviewed this instead of impulsively merged it... oh well *sigh*).
  

  Modified:
	trunk/modules/operserv/main.c (File Modified) 


nenolod     2005/09/02 06:47:59 UTC	(20050902-2065)
  Log:
  Fix compile issues. (Hotpatching is fun.)
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/09/02 06:46:31 UTC	(20050902-2063)
  Log:
  Fix a bug. Reported by notheme-dev@lists.equalslashed.net.
  

  Modified:
	trunk/modules/chanserv/xop.c (File Modified) 


nenolod     2005/09/02 06:44:01 UTC	(20050902-2061)
  Log:
  Forgot to remove a reference here, oops!
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/09/02 06:43:22 UTC	(20050902-2059)
  Log:
  Display published names in modlist, vs internal ones.
  

  Modified:
	trunk/modules/operserv/modlist.c (File Modified) 


nenolod     2005/09/02 06:40:10 UTC	(20050902-2057)
  Log:
  More tweaks. :/
  
  

  Modified:
	trunk/modules/operserv/modunload.c (File Modified) 
	trunk/src/module.c (File Modified) 


nenolod     2005/09/02 06:05:31 UTC	(20050902-2055)
  Log:
  Surpress an error here.
  

  Modified:
	trunk/modules/Makefile.in (File Modified) 


nenolod     2005/09/02 05:49:31 UTC	(20050902-2051)
  Log:
  Ok, so we missed one thing in that merge. This puts it back.
  

  Modified:
	trunk/Makefile.in (File Modified) 


nenolod     2005/09/02 05:45:25 UTC	(20050902-2049)
  Log:
  Step 2; reinstate trunk using my tree.
  

  Modified:
	trunk/ (File Added) 
	trunk/modules/nickserv/hold.c (File Modified) 
	trunk/src/.indent.pro (File Modified) 


nenolod     2005/09/02 05:32:06 UTC	(20050902-2045)
  Log:
  Fix compile warning.
  

  Modified:
	branches/nenolod/modules/operserv/help.c (File Modified) 


nenolod     2005/09/02 05:31:43 UTC	(20050902-2043)
  Log:
  Remove crap here that I forgot about.
  

  Modified:
	branches/nenolod/modules/operserv/main.c (File Modified) 


nenolod     2005/09/02 05:30:19 UTC	(20050902-2041)
  Log:
  Almost there!
  

  Modified:
	branches/nenolod/backend/mysql.c (File Modified) 
	branches/nenolod/backend/postgresql.c (File Modified) 
	branches/nenolod/src/atheme.c (File Modified) 
	branches/nenolod/src/services.c (File Modified) 


nenolod     2005/09/02 05:23:10 UTC	(20050902-2039)
  Log:
  Documentation updates.
  

  Modified:
	branches/nenolod/dist/example.conf (File Modified) 


nenolod     2005/09/02 05:13:29 UTC	(20050902-2037)
  Log:
  Prepare the OperServ modules for being dynamically linked to a parent module.
  

  Modified:
	branches/nenolod/modules/operserv/Makefile.in (File Modified) 
	branches/nenolod/modules/operserv/akill.c (File Added) 
	branches/nenolod/modules/operserv/help.c (File Modified) 
	branches/nenolod/modules/operserv/inject.c (File Modified) 
	branches/nenolod/modules/operserv/jupe.c (File Modified) 
	branches/nenolod/modules/operserv/kline.c (File Deleted) 
	branches/nenolod/modules/operserv/main.c (File Modified) 
	branches/nenolod/modules/operserv/mode.c (File Modified) 
	branches/nenolod/modules/operserv/modlist.c (File Modified) 
	branches/nenolod/modules/operserv/modload.c (File Modified) 
	branches/nenolod/modules/operserv/modrestart.c (File Modified) 
	branches/nenolod/modules/operserv/modunload.c (File Modified) 
	branches/nenolod/modules/operserv/noop.c (File Modified) 
	branches/nenolod/modules/operserv/raw.c (File Modified) 
	branches/nenolod/modules/operserv/rehash.c (File Modified) 
	branches/nenolod/modules/operserv/restart.c (File Modified) 
	branches/nenolod/modules/operserv/shutdown.c (File Modified) 
	branches/nenolod/modules/operserv/update.c (File Modified) 


nenolod     2005/09/02 04:47:59 UTC	(20050902-2035)
  Log:
  
  operserv -> operserv/main
  

  Modified:
	branches/nenolod/modules/operserv/main.c (File Added) 
	branches/nenolod/src/Makefile.in (File Modified) 
	branches/nenolod/src/oservice.c (File Deleted) 


nenolod     2005/09/02 04:46:05 UTC	(20050902-2033)
  Log:
  Refresh configure script.
  

  Modified:
	branches/nenolod/configure (File Modified) 
	branches/nenolod/configure.ac (File Modified) 
	branches/nenolod/modules/Makefile.in (File Modified) 
	branches/nenolod/modules/operserv/Makefile.in (File Added) 


nenolod     2005/09/02 04:41:57 UTC	(20050902-2031)
  Log:
  Reorganize operserv module structure.
  

  Modified:
	branches/nenolod/modules/operserv/help.c (File Added) 
	branches/nenolod/modules/operserv/inject.c (File Added) 
	branches/nenolod/modules/operserv/jupe.c (File Added) 
	branches/nenolod/modules/operserv/kline.c (File Added) 
	branches/nenolod/modules/operserv/mode.c (File Added) 
	branches/nenolod/modules/operserv/modlist.c (File Added) 
	branches/nenolod/modules/operserv/modload.c (File Added) 
	branches/nenolod/modules/operserv/modrestart.c (File Added) 
	branches/nenolod/modules/operserv/modunload.c (File Added) 
	branches/nenolod/modules/operserv/noop.c (File Added) 
	branches/nenolod/modules/operserv/raw.c (File Added) 
	branches/nenolod/modules/operserv/rehash.c (File Added) 
	branches/nenolod/modules/operserv/restart.c (File Added) 
	branches/nenolod/modules/operserv/shutdown.c (File Added) 
	branches/nenolod/modules/operserv/update.c (File Added) 
	branches/nenolod/modules/os_help.c (File Deleted) 
	branches/nenolod/modules/os_inject.c (File Deleted) 
	branches/nenolod/modules/os_jupe.c (File Deleted) 
	branches/nenolod/modules/os_kline.c (File Deleted) 
	branches/nenolod/modules/os_mode.c (File Deleted) 
	branches/nenolod/modules/os_modlist.c (File Deleted) 
	branches/nenolod/modules/os_modload.c (File Deleted) 
	branches/nenolod/modules/os_modrestart.c (File Deleted) 
	branches/nenolod/modules/os_modunload.c (File Deleted) 
	branches/nenolod/modules/os_noop.c (File Deleted) 
	branches/nenolod/modules/os_raw.c (File Deleted) 
	branches/nenolod/modules/os_rehash.c (File Deleted) 
	branches/nenolod/modules/os_restart.c (File Deleted) 
	branches/nenolod/modules/os_shutdown.c (File Deleted) 
	branches/nenolod/modules/os_update.c (File Deleted) 


nenolod     2005/09/02 03:37:54 UTC	(20050902-2029)
  Log:
  Add Global to config file.
  

  Modified:
	branches/nenolod/dist/example.conf (File Modified) 


nenolod     2005/09/02 03:36:47 UTC	(20050902-2027)
  Log:
  Global is now a bloody module in it's entirety.
  

  Modified:
	branches/nenolod/configure (File Modified) 
	branches/nenolod/configure.ac (File Modified) 
	branches/nenolod/modules/global/main.c (File Modified) 
	branches/nenolod/modules/gs_global.c (File Deleted) 
	branches/nenolod/modules/gs_help.c (File Deleted) 


nenolod     2005/09/02 02:52:48 UTC	(20050902-2025)
  Log:
  Add module initialization code to global/main.
  

  Modified:
	branches/nenolod/modules/global/main.c (File Modified) 


nenolod     2005/09/02 00:56:14 UTC	(20050902-2023)
  Log:
  src/gservice.c -> global/main
  

  Modified:
	branches/nenolod/modules/global/main.c (File Added) 
	branches/nenolod/src/Makefile.in (File Modified) 
	branches/nenolod/src/gservice.c (File Deleted) 
	branches/nenolod/src/services.c (File Modified) 


nenolod     2005/09/02 00:54:34 UTC	(20050902-2021)
  Log:
  Add Makefile here
  

  Modified:
	branches/nenolod/modules/global/Makefile.in (File Added) 


nenolod     2005/09/01 23:53:13 UTC	(20050901-2019)
  Log:
  Fix compile error, typoed DECLARE_MODULE_V1()
  

  Modified:
	branches/nenolod/protocol/sorcery.c (File Modified) 


nenolod     2005/09/01 23:52:22 UTC	(20050901-2017)
  Log:
  Fix compile warning with nickserv/help.
  

  Modified:
	branches/nenolod/modules/nickserv/help.c (File Modified) 


nenolod     2005/09/01 23:51:09 UTC	(20050901-2015)
  Log:
  Add nickserv to SUBDIRS.
  

  Modified:
	branches/nenolod/modules/Makefile.in (File Modified) 


nenolod     2005/09/01 23:48:14 UTC	(20050901-2013)
  Log:
  Documentation updates.
  

  Modified:
	branches/nenolod/dist/example.conf (File Modified) 


nenolod     2005/09/01 23:31:07 UTC	(20050901-2011)
  Log:
  * Finish converting modules so that they meet the new spec, global and operserv remain.
  * Make sure the right svn:keywords are set on the modules.
  

  Modified:
	branches/nenolod/modules/nickserv/hold.c  (Property Modified)
	branches/nenolod/modules/nickserv/info.c (File Modified) 
	branches/nenolod/modules/nickserv/link.c (File Modified) 
	branches/nenolod/modules/nickserv/list.c (File Modified) 
	branches/nenolod/modules/nickserv/listmail.c (File Modified) (Property Modified)
	branches/nenolod/modules/nickserv/logout.c (File Modified) 
	branches/nenolod/modules/nickserv/mark.c (File Modified) 
	branches/nenolod/modules/nickserv/myaccess.c (File Modified) (Property Modified)
	branches/nenolod/modules/nickserv/register.c (File Modified) 
	branches/nenolod/modules/nickserv/sendpass.c (File Modified) 
	branches/nenolod/modules/nickserv/set.c (File Modified) 
	branches/nenolod/modules/nickserv/status.c (File Modified) 
	branches/nenolod/modules/nickserv/taxonomy.c (File Modified) 
	branches/nenolod/modules/nickserv/verify.c (File Modified) (Property Modified)


nenolod     2005/09/01 23:16:20 UTC	(20050901-2009)
  Log:
  Prepare some modules.
  

  Modified:
	branches/nenolod/modules/nickserv/drop.c (File Modified) 
	branches/nenolod/modules/nickserv/ghost.c (File Modified) 
	branches/nenolod/modules/nickserv/help.c (File Modified) 
	branches/nenolod/modules/nickserv/hold.c (File Modified) 
	branches/nenolod/modules/nickserv/identify.c (File Modified) 


nenolod     2005/09/01 23:10:42 UTC	(20050901-2007)
  Log:
  Add module shims.
  

  Modified:
	branches/nenolod/modules/nickserv/main.c (File Modified) 


nenolod     2005/09/01 23:06:54 UTC	(20050901-2005)
  Log:
  More fun
  

  Modified:
	branches/nenolod/modules/nickserv/Makefile.in (File Modified) 
	branches/nenolod/modules/nickserv/ns_set.c (File Deleted) 
	branches/nenolod/modules/nickserv/ns_status.c (File Deleted) 
	branches/nenolod/modules/nickserv/set.c (File Added) 
	branches/nenolod/modules/nickserv/status.c (File Added) 


nenolod     2005/09/01 23:04:21 UTC	(20050901-2003)
  Log:
  More fun!
  

  Modified:
	branches/nenolod/modules/nickserv/drop.c (File Added) 
	branches/nenolod/modules/nickserv/ghost.c (File Added) 
	branches/nenolod/modules/nickserv/help.c (File Added) 
	branches/nenolod/modules/nickserv/hold.c (File Added) 
	branches/nenolod/modules/nickserv/identify.c (File Added) 
	branches/nenolod/modules/nickserv/info.c (File Added) 
	branches/nenolod/modules/nickserv/link.c (File Added) 
	branches/nenolod/modules/nickserv/list.c (File Added) 
	branches/nenolod/modules/nickserv/listmail.c (File Added) 
	branches/nenolod/modules/nickserv/logout.c (File Added) 
	branches/nenolod/modules/nickserv/mark.c (File Added) 
	branches/nenolod/modules/nickserv/myaccess.c (File Added) 
	branches/nenolod/modules/nickserv/ns_set.c (File Added) 
	branches/nenolod/modules/nickserv/ns_status.c (File Added) 
	branches/nenolod/modules/nickserv/register.c (File Added) 
	branches/nenolod/modules/nickserv/sendpass.c (File Added) 
	branches/nenolod/modules/nickserv/taxonomy.c (File Added) 
	branches/nenolod/modules/nickserv/verify.c (File Added) 
	branches/nenolod/modules/ns_drop.c (File Deleted) 
	branches/nenolod/modules/ns_ghost.c (File Deleted) 
	branches/nenolod/modules/ns_help.c (File Deleted) 
	branches/nenolod/modules/ns_hold.c (File Deleted) 
	branches/nenolod/modules/ns_identify.c (File Deleted) 
	branches/nenolod/modules/ns_info.c (File Deleted) 
	branches/nenolod/modules/ns_link.c (File Deleted) 
	branches/nenolod/modules/ns_list.c (File Deleted) 
	branches/nenolod/modules/ns_listmail.c (File Deleted) 
	branches/nenolod/modules/ns_logout.c (File Deleted) 
	branches/nenolod/modules/ns_mark.c (File Deleted) 
	branches/nenolod/modules/ns_myaccess.c (File Deleted) 
	branches/nenolod/modules/ns_register.c (File Deleted) 
	branches/nenolod/modules/ns_sendpass.c (File Deleted) 
	branches/nenolod/modules/ns_set.c (File Deleted) 
	branches/nenolod/modules/ns_status.c (File Deleted) 
	branches/nenolod/modules/ns_taxonomy.c (File Deleted) 
	branches/nenolod/modules/ns_verify.c (File Deleted) 


nenolod     2005/09/01 22:59:30 UTC	(20050901-2001)
  Log:
  Refresh configure scripts.
  

  Modified:
	branches/nenolod/configure (File Modified) 
	branches/nenolod/configure.ac (File Modified) 


nenolod     2005/09/01 04:30:39 UTC	(20050901-1999)
  Log:
  src/nickserv.c -> modules/nickserv/main.c
  

  Modified:
	branches/nenolod/modules/nickserv/Makefile.in (File Added) 
	branches/nenolod/modules/nickserv/main.c (File Added) 
	branches/nenolod/src/Makefile.in (File Modified) 
	branches/nenolod/src/nickserv.c (File Deleted) 
	branches/nenolod/src/services.c (File Modified) 


nenolod     2005/09/01 04:28:13 UTC	(20050901-1997)
  Log:
  Finish up here.
  

  Modified:
	branches/nenolod/protocol/bahamut.c (File Modified) 
	branches/nenolod/protocol/hyperion.c (File Modified) 
	branches/nenolod/protocol/inspircd.c (File Modified) 
	branches/nenolod/protocol/ircnet.c (File Modified) 
	branches/nenolod/protocol/monkey.c (File Modified) 
	branches/nenolod/protocol/plexus.c (File Modified) 
	branches/nenolod/protocol/ptlink.c (File Modified) 
	branches/nenolod/protocol/ratbox.c (File Modified) 
	branches/nenolod/protocol/scylla.c (File Modified) 
	branches/nenolod/protocol/shadowircd.c (File Modified) 
	branches/nenolod/protocol/sorcery.c (File Modified) 
	branches/nenolod/protocol/undernet.c (File Modified) 


nenolod     2005/09/01 04:23:22 UTC	(20050901-1995)
  Log:
  More protocol modules get a module header!
  

  Modified:
	branches/nenolod/protocol/asuka.c (File Modified) 
	branches/nenolod/protocol/bahamut.c (File Modified) 
	branches/nenolod/protocol/bircd.c (File Modified) 
	branches/nenolod/protocol/dreamforge.c (File Modified) 


nenolod     2005/09/01 04:21:34 UTC	(20050901-1993)
  Log:
  More stuffness.
  

  Modified:
	branches/nenolod/backend/flatfile.c (File Modified) 
	branches/nenolod/modules/chanserv/close.c (File Modified) 
	branches/nenolod/modules/chanserv/help.c (File Modified) 
	branches/nenolod/modules/chanserv/main.c (File Modified) 
	branches/nenolod/protocol/unreal.c (File Modified) 
	branches/nenolod/src/module.c (File Modified) 


nenolod     2005/09/01 03:37:21 UTC	(20050901-1991)
  Log:
  Well the core builds again. :)
  

  Modified:
	branches/nenolod/src/module.c (File Modified) 


nenolod     2005/09/01 03:26:45 UTC	(20050901-1989)
  Log:
  Finish up here. Make sure it works, and if so, merge with trunk.
  

  Modified:
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 
	branches/nenolod/modules/chanserv/register.c (File Modified) 
	branches/nenolod/modules/chanserv/set.c (File Modified) 
	branches/nenolod/modules/chanserv/status.c (File Modified) 
	branches/nenolod/modules/chanserv/taxonomy.c (File Modified) 
	branches/nenolod/modules/chanserv/topic.c (File Modified) 
	branches/nenolod/modules/chanserv/voice.c (File Modified) 
	branches/nenolod/modules/chanserv/xop.c (File Modified) 


nenolod     2005/09/01 03:17:03 UTC	(20050901-1987)
  Log:
  Fix compile warnings/errors.
  

  Modified:
	branches/nenolod/modules/chanserv/help.c (File Modified) 
	branches/nenolod/modules/chanserv/info.c (File Modified) 
	branches/nenolod/modules/chanserv/invite.c (File Modified) 
	branches/nenolod/modules/chanserv/list.c (File Modified) 


nenolod     2005/09/01 03:14:44 UTC	(20050901-1983)
  Log:
  Convert some more modules, whee!
  

  Modified:
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 
	branches/nenolod/modules/chanserv/hold.c (File Modified) 
	branches/nenolod/modules/chanserv/info.c (File Modified) 
	branches/nenolod/modules/chanserv/invite.c (File Modified) 
	branches/nenolod/modules/chanserv/kick.c (File Modified) 
	branches/nenolod/modules/chanserv/list.c (File Modified) 
	branches/nenolod/modules/chanserv/mark.c (File Modified) 
	branches/nenolod/modules/chanserv/op.c (File Modified) 
	branches/nenolod/modules/chanserv/recover.c (File Modified) 


nenolod     2005/09/01 03:03:36 UTC	(20050901-1981)
  Log:
  Alter makefile for modules/chanserv.
  

  Modified:
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 


nenolod     2005/09/01 03:02:53 UTC	(20050901-1979)
  Log:
  Sync properties, update some more modules
  

  Modified:
	branches/nenolod/modules/chanserv/close.c  (Property Modified)
	branches/nenolod/modules/chanserv/ftransfer.c (File Modified) (Property Modified)
	branches/nenolod/modules/chanserv/halfop.c (File Modified) 
	branches/nenolod/modules/chanserv/help.c (File Modified) 
	branches/nenolod/modules/chanserv/hold.c (File Modified) (Property Modified)


nenolod     2005/09/01 02:55:43 UTC	(20050901-1977)
  Log:
  Prepare some modules.
  

  Modified:
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 
	branches/nenolod/modules/chanserv/akick.c (File Modified) 
	branches/nenolod/modules/chanserv/ban.c (File Modified) 
	branches/nenolod/modules/chanserv/close.c (File Modified) 
	branches/nenolod/modules/chanserv/drop.c (File Modified) 
	branches/nenolod/modules/chanserv/flags.c (File Modified) 


nenolod     2005/08/31 02:30:13 UTC	(20050831-1973)
  Log:
  Add chanserv modules section to example.conf.
  

  Modified:
	branches/nenolod/dist/example.conf (File Modified) 


nenolod     2005/08/30 19:18:35 UTC	(20050830-1971)
  Log:
  Progress.
  

  Modified:
	branches/nenolod/include/module.h (File Modified) 
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 
	branches/nenolod/modules/chanserv/akick.c (File Modified) 


nenolod     2005/08/30 19:07:40 UTC	(20050830-1969)
  Log:
  Add module_find_published() for searching by published module names.
  

  Modified:
	branches/nenolod/include/module.h (File Modified) 
	branches/nenolod/src/module.c (File Modified) 


nenolod     2005/08/30 19:04:43 UTC	(20050830-1967)
  Log:
  Update our linker to work using the moduleheader_t stuff.
  

  Modified:
	branches/nenolod/src/module.c (File Modified) 


nenolod     2005/08/30 18:57:10 UTC	(20050830-1965)
  Log:
  More tweaks here.
  

  Modified:
	branches/nenolod/include/module.h (File Modified) 


nenolod     2005/08/30 17:35:36 UTC	(20050830-1963)
  Log:
  New module API, provide an example of it's use.
  

  Modified:
	branches/nenolod/include/module.h (File Modified) 
	branches/nenolod/modules/chanserv/main.c (File Modified) 


nenolod     2005/08/30 17:08:23 UTC	(20050830-1961)
  Log:
  Sync with trunk fixes... psuedo code for modular bindings.
  

  Modified:
	branches/nenolod/include/pmodule.h (File Modified) 
	branches/nenolod/modules/chanserv/akick.c (File Modified) 
	branches/nenolod/src/pmodule.c (File Modified) 


nenolod     2005/08/30 07:32:35 UTC	(20050830-1953)
  Log:
  Move modules into their proper locations.
  

  Modified:
	branches/nenolod/modules/chanserv/akick.c (File Added) 
	branches/nenolod/modules/chanserv/ban.c (File Added) 
	branches/nenolod/modules/chanserv/close.c (File Added) 
	branches/nenolod/modules/chanserv/drop.c (File Added) 
	branches/nenolod/modules/chanserv/flags.c (File Added) 
	branches/nenolod/modules/chanserv/ftransfer.c (File Added) 
	branches/nenolod/modules/chanserv/halfop.c (File Added) 
	branches/nenolod/modules/chanserv/help.c (File Added) 
	branches/nenolod/modules/chanserv/hold.c (File Added) 
	branches/nenolod/modules/chanserv/info.c (File Added) 
	branches/nenolod/modules/chanserv/invite.c (File Added) 
	branches/nenolod/modules/chanserv/kick.c (File Added) 
	branches/nenolod/modules/chanserv/list.c (File Added) 
	branches/nenolod/modules/chanserv/mark.c (File Added) 
	branches/nenolod/modules/chanserv/op.c (File Added) 
	branches/nenolod/modules/chanserv/recover.c (File Added) 
	branches/nenolod/modules/chanserv/register.c (File Added) 
	branches/nenolod/modules/chanserv/set.c (File Added) 
	branches/nenolod/modules/chanserv/status.c (File Added) 
	branches/nenolod/modules/chanserv/taxonomy.c (File Added) 
	branches/nenolod/modules/chanserv/topic.c (File Added) 
	branches/nenolod/modules/chanserv/voice.c (File Added) 
	branches/nenolod/modules/chanserv/xop.c (File Added) 
	branches/nenolod/modules/cs_akick.c (File Deleted) 
	branches/nenolod/modules/cs_ban.c (File Deleted) 
	branches/nenolod/modules/cs_close.c (File Deleted) 
	branches/nenolod/modules/cs_drop.c (File Deleted) 
	branches/nenolod/modules/cs_flags.c (File Deleted) 
	branches/nenolod/modules/cs_ftransfer.c (File Deleted) 
	branches/nenolod/modules/cs_halfop.c (File Deleted) 
	branches/nenolod/modules/cs_help.c (File Deleted) 
	branches/nenolod/modules/cs_hold.c (File Deleted) 
	branches/nenolod/modules/cs_info.c (File Deleted) 
	branches/nenolod/modules/cs_invite.c (File Deleted) 
	branches/nenolod/modules/cs_kick.c (File Deleted) 
	branches/nenolod/modules/cs_list.c (File Deleted) 
	branches/nenolod/modules/cs_mark.c (File Deleted) 
	branches/nenolod/modules/cs_op.c (File Deleted) 
	branches/nenolod/modules/cs_recover.c (File Deleted) 
	branches/nenolod/modules/cs_register.c (File Deleted) 
	branches/nenolod/modules/cs_set.c (File Deleted) 
	branches/nenolod/modules/cs_status.c (File Deleted) 
	branches/nenolod/modules/cs_taxonomy.c (File Deleted) 
	branches/nenolod/modules/cs_topic.c (File Deleted) 
	branches/nenolod/modules/cs_voice.c (File Deleted) 
	branches/nenolod/modules/cs_xop.c (File Deleted) 


nenolod     2005/08/30 07:28:42 UTC	(20050830-1951)
  Log:
  chanserv/main builds now.
  

  Modified:
	branches/nenolod/modules/chanserv/main.c (File Modified) 


nenolod     2005/08/30 07:27:53 UTC	(20050830-1949)
  Log:
  Buildsystem tweaks.
  

  Modified:
	branches/nenolod/configure (File Modified) 
	branches/nenolod/configure.ac (File Modified) 
	branches/nenolod/modules/Makefile.in (File Modified) 
	branches/nenolod/modules/chanserv/Makefile.in (File Modified) 


nenolod     2005/08/30 07:21:13 UTC	(20050830-1947)
  Log:
  Sync unreal fix.
  

  Modified:
	branches/nenolod/configure (File Modified) 
	branches/nenolod/configure.ac (File Modified) 
	branches/nenolod/modules/Makefile.in (File Modified) 
	branches/nenolod/protocol/unreal.c (File Modified) 


nenolod     2005/08/30 06:53:13 UTC	(20050830-1939)
  Log:
  Whee!
  

  Modified:
	branches/nenolod/modules/chanserv/main.c (File Modified) 
	branches/nenolod/src/Makefile.in (File Modified) 
	branches/nenolod/src/cservice.c (File Deleted) 
	branches/nenolod/src/services.c (File Modified) 


nenolod     2005/08/30 06:48:03 UTC	(20050830-1937)
  Log:
  Branch off my own tree for working with modularizing core services in.
  

  Modified:
	branches/nenolod/ (File Added) 


pfish       2005/08/29 20:10:14 UTC	(20050829-1935)
  Log:
  shouldn't we show what the nonexistant server is instead of ..
  

  Modified:
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/29 19:43:17 UTC	(20050829-1933)
  Log:
  Use a block allocator to ensure that the message trie isn't allocated dirty memory.
  

  Modified:
	trunk/src/pmodule.c (File Modified) 


nenolod     2005/08/29 18:47:30 UTC	(20050829-1931)
  Log:
  UnrealIRCd protocol is about as sane as a meth addict on crack.
  

  Modified:
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/29 18:28:26 UTC	(20050829-1929)
  Log:
  s/messagetree_del/messagetree_delete/g;
  

  Modified:
	trunk/src/pmodule.c (File Modified) 


nenolod     2005/08/29 18:21:05 UTC	(20050829-1927)
  Log:
  Flashy radix trie stuff. Reviewed, and poked at with a stick by me.
  

  Modified:
	trunk/include/pmodule.h (File Modified) 
	trunk/src/pmodule.c (File Modified) 


nenolod     2005/08/29 02:21:12 UTC	(20050829-1925)
  Log:
  Add backend/mysql to the example.conf.
  

  Modified:
	trunk/dist/example.conf (File Modified) 


nenolod     2005/08/29 02:18:20 UTC	(20050829-1923)
  Log:
  Set svn:keywords on mysql.c
  

  Modified:
	trunk/backend/mysql.c  (Property Modified)


beu         2005/08/29 02:13:48 UTC	(20050829-1921)
  Log:
  Add initial MySQL backend port (done mostly by zparta).
  Reviewed by nenolod.
  

  Modified:
	trunk/SQL/atheme_init.mysql (File Modified) 
	trunk/backend/Makefile.in (File Modified) 
	trunk/backend/mysql.c (File Added) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/crypto/Makefile.in (File Modified) 
	trunk/include/sysconf.h.in (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/29 00:49:06 UTC	(20050829-1919)
  Log:
  s/cservice/chanserv/g;
  

  Modified:
	trunk/modules/chanserv/main.c (File Modified) 


nenolod     2005/08/29 00:44:59 UTC	(20050829-1917)
  Log:
  There's that.
  

  Modified:
	trunk/modules/chanserv/main.c (File Modified) 


nenolod     2005/08/29 00:40:21 UTC	(20050829-1915)
  Log:
  Add a hook_call_event() when config is done parsing.
  

  Modified:
	trunk/src/conf.c (File Modified) 


nenolod     2005/08/29 00:37:56 UTC	(20050829-1913)
  Log:
  Add a boolean for modules which depend on the config file being parsed.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/atheme.c (File Modified) 


nenolod     2005/08/29 00:32:53 UTC	(20050829-1911)
  Log:
  Add module initialization stuff to chanserv/main.c
  

  Modified:
	trunk/modules/chanserv/main.c (File Modified) 


nenolod     2005/08/29 00:28:42 UTC	(20050829-1909)
  Log:
  More stuff, not used yet -- but will be in the future.
  

  Modified:
	trunk/modules/chanserv/Makefile.in (File Added) 
	trunk/modules/chanserv/main.c (File Added) 


nenolod     2005/08/29 00:21:49 UTC	(20050829-1907)
  Log:
  Start in on restructuring the modules a little bit.
  

  Modified:
	trunk/modules/chanserv/ (File Added) 
	trunk/modules/global/ (File Added) 
	trunk/modules/nickserv/ (File Added) 
	trunk/modules/operserv/ (File Added) 


beu         2005/08/28 20:47:02 UTC	(20050828-1905)
  Log:
  Fix typo (test commit :D)

  Modified:
	trunk/README (File Modified) 


nenolod     2005/08/28 20:14:18 UTC	(20050828-1903)
  Log:
  shash() enhancements

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/28 19:17:56 UTC	(20050828-1901)
  Log:
  Add beu/zparta to AUTHORS, move trystan out of core (what was he doing there?),
  remove brian from the authors list entirely.
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/08/28 19:07:17 UTC	(20050828-1899)
  Log:
  Add MySQL schema.
  
  Contributed by zparta. <http://zparta.hispan.se>
  Reviewed by nenolod.
  

  Modified:
	trunk/SQL/atheme_init.mysql (File Added) 


jilles      2005/08/28 18:33:40 UTC	(20050828-1897)
  Log:
  Test if svn write still works.
  

  Modified:
	trunk/SVN-Access (File Modified) 


nenolod     2005/08/28 18:11:25 UTC	(20050828-1895)
  Log:
  * Cleanup more changelog stuff from the SVN migration.
  * Further sanity checking in libatheme/callback.c
  

  Modified:
	trunk/ChangeLog (File Modified) 
	trunk/libatheme/callback.c (File Modified) 


nenolod     2005/08/28 18:08:29 UTC	(20050828-1891)
  Log:
  Add .execname to the state object.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/src/atheme.c (File Modified) 


pfish       2005/08/27 23:32:09 UTC	(20050827-1889)
  Log:
  test svn write
  

  Modified:
	trunk/SVN-Access (File Modified) 


nenolod     2005/08/27 23:10:21 UTC	(20050827-1887)
  Log:
  Update README document.
  

  Modified:
	trunk/README (File Modified) 


nenolod     2005/08/27 21:55:33 UTC	(20050827-1883)
  Log:
  Remove more automake stuff.
  

  Modified:
	trunk/autoconf/depcomp (File Deleted) 
	trunk/autoconf/ltmain.sh (File Deleted) 
	trunk/autoconf/missing (File Deleted) 


nenolod     2005/08/27 21:45:04 UTC	(20050827-1881)
  Log:
  Clean up my mess from playing with Changelog.pl

  Modified:
	trunk/ChangeLog (File Modified) 


nenolod     2005/08/27 21:33:42 UTC	(20050827-1879)
  Log:
  Test commit from new SVN server

  Modified:
	trunk/SVN-Access (File Added) 


nenolod     2005/08/27 19:50:43 UTC	(20050827-1869)
  Log:
  Speedups for linked list management. Patch reviewed by jilles.
  

  Modified:
	trunk/libatheme/dlink.c (File Modified) 


jilles      2005/08/25 16:51:35 UTC	(20050825-1863)
  Log:
  Add some consts.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/match.c (File Modified) 


jilles      2005/08/25 16:42:47 UTC	(20050825-1861)
  Log:
  Unbreak the compile. Not sure if callback.c will work, though.
  

  Modified:
	trunk/include/callback.h (File Modified) 
	trunk/libatheme/callback.c (File Modified) 


nenolod     2005/08/25 04:11:00 UTC	(20050825-1857)
  Log:
  Oops, forgot to add a check here. My bad.
  

  Modified:
	trunk/modules/ns_identify.c (File Modified) 


nenolod     2005/08/25 04:03:08 UTC	(20050825-1855)
  Log:
  Fix a minor bug with /ns identify.
  

  Modified:
	trunk/modules/ns_identify.c (File Modified) 


w00t        2005/08/24 10:26:27 UTC	(20050824-1853)
  Log:
  typos-- (special, you are a pedantic SOB :P but so am i so its all good.)

  Modified:
	trunk/src/parse.c (File Modified) 


nenolod     2005/08/24 07:04:33 UTC	(20050824-1849)
  Log:
  Oops.
  

  Modified:
	trunk/include/callback.h (File Modified) 


nenolod     2005/08/24 07:00:42 UTC	(20050824-1847)
  Log:
  New callback stuff.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/callback.h (File Added) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/libatheme/callback.c (File Modified) 
	trunk/libatheme/libatheme.c (File Modified) 


nenolod     2005/08/24 06:47:21 UTC	(20050824-1845)
  Log:
  Callback routines done.
  

  Modified:
	trunk/libatheme/callback.c (File Modified) 


nenolod     2005/08/24 05:55:45 UTC	(20050824-1843)
  Log:
  Add placeholder callback.c for later development.
  

  Modified:
	trunk/libatheme/callback.c (File Added) 


nenolod     2005/08/22 05:54:15 UTC	(20050822-1841)
  Log:
  WTF here.
  

  Modified:
	trunk/protocol/shadowircd.c (File Modified) 


nenolod     2005/08/22 03:52:50 UTC	(20050822-1839)
  Log:
  Change linker_open() to linker_open_ext() here.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/22 03:50:47 UTC	(20050822-1837)
  Log:
  Add linker_open_ext() which brings back the behaviour of lt_dlopenext().
  

  Modified:
	trunk/include/linker.h (File Modified) 
	trunk/libatheme/linker.c (File Modified) 


nenolod     2005/08/21 21:19:12 UTC	(20050821-1835)
  Log:
  Bail out when there's no origin. Discovered on some sort of UnrealIRCd-based server. :/
  

  Modified:
	trunk/src/cservice.c (File Modified) 
	trunk/src/gservice.c (File Modified) 
	trunk/src/nickserv.c (File Modified) 
	trunk/src/oservice.c (File Modified) 


nenolod     2005/08/21 06:51:11 UTC	(20050821-1833)
  Log:
  Handle a crash where masks are deleted from the ACL.
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


jilles      2005/08/20 23:18:02 UTC	(20050820-1831)
  Log:
  Fix display of nicks in access lists.
  

  Modified:
	trunk/modules/cs_flags.c (File Modified) 


nenolod     2005/08/20 04:42:00 UTC	(20050820-1829)
  Log:
  Clarify an error message.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/20 04:38:35 UTC	(20050820-1827)
  Log:
  Remove an unnecessary block allocator here.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/08/20 04:33:07 UTC	(20050820-1825)
  Log:
  DO NOT INSTALL CONTRIB MODULES TO $PREFIX/MODULES!*$(!*#(#(#@%%
  

  Modified:
	trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/08/20 04:26:20 UTC	(20050820-1823)
  Log:
  Don't allow users to link to nicknames currently in use on the network.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/20 04:24:51 UTC	(20050820-1821)
  Log:
  Add information concerning InspIRCd.
  

  Modified:
	trunk/doc/IRCD (File Modified) 


jilles      2005/08/19 21:24:08 UTC	(20050819-1817)
  Log:
  Do nothing explicitly on install in libatheme/Makefile.in.
  

  Modified:
	trunk/libatheme/Makefile.in (File Modified) 


jilles      2005/08/19 18:59:23 UTC	(20050819-1815)
  Log:
  Add SVSLOGIN support to hyperion, preserving users'
  services logins regardless of their nick.
  
  There is no NOIDPREFIX ("tildenicks") support.
  

  Modified:
	trunk/doc/IRCD (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 


nenolod     2005/08/19 07:49:19 UTC	(20050819-1813)
  Log:
  Makefile fix.
  

  Modified:
	trunk/libatheme/Makefile.in (File Modified) 


nenolod     2005/08/19 07:47:56 UTC	(20050819-1811)
  Log:
  Documentation update, and remove content from ChangeLog that should not 
  have been there.
  

  Modified:
	trunk/ChangeLog (File Modified) 
	trunk/README (File Modified) 


nenolod     2005/08/18 21:52:30 UTC	(20050818-1809)
  Log:
  Fix ANOTHER crash with nickname linking, reported by hyperion.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/18 21:39:34 UTC	(20050818-1807)
  Log:
  Safer handling of chanacs_t entries.
  

  Modified:
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/08/18 21:35:05 UTC	(20050818-1805)
  Log:
  Fix a crash in ns_link, reported by brian.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/18 21:29:33 UTC	(20050818-1803)
  Log:
  Implement SVID tracking for unreal (autologin), and remove some debug 
  notices from Bahamut.
  

  Modified:
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/18 20:51:50 UTC	(20050818-1801)
  Log:
  Do not install example-traditional.conf.
  

  Modified:
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/18 20:41:30 UTC	(20050818-1799)
  Log:
  Fix some crashes with nickname linking.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/18 20:39:53 UTC	(20050818-1797)
  Log:
  because libdl sucks.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/18 20:39:25 UTC	(20050818-1795)
  Log:
  module code updated to use libatheme's runtime linker.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/18 20:33:21 UTC	(20050818-1793)
  Log:
  More fun.
  

  Modified:
	trunk/include/linker.h (File Modified) 
	trunk/libatheme/linker.c (File Modified) 


nenolod     2005/08/18 20:32:05 UTC	(20050818-1791)
  Log:
  Linker++
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/linker.h (File Added) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/libatheme/linker.c (File Added) 


nenolod     2005/08/18 20:08:26 UTC	(20050818-1789)
  Log:
  trunk builds again...
  

  Modified:
	trunk/modules/ns_set.c (File Modified) 
	trunk/modules/ns_verify.c (File Modified) 


nenolod     2005/08/18 20:04:30 UTC	(20050818-1787)
  Log:
  Correct typo.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/18 20:03:41 UTC	(20050818-1785)
  Log:
  Statically linked library stuff.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/18 20:01:54 UTC	(20050818-1783)
  Log:
  ditto.
  

  Modified:
	trunk/contrib/Makefile.am (File Deleted) 
	trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/08/18 20:00:37 UTC	(20050818-1781)
  Log:
  More work here.
  

  Modified:
	trunk/crypto/Makefile.am (File Deleted) 
	trunk/crypto/Makefile.in (File Modified) 
	trunk/protocol/Makefile.am (File Deleted) 
	trunk/protocol/Makefile.in (File Modified) 


nenolod     2005/08/18 19:57:47 UTC	(20050818-1779)
  Log:
  Remove ltdl stuff from our dynamic linker, linker restored back to 0.2-style behaviour.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/18 19:52:37 UTC	(20050818-1777)
  Log:
  Again, cleanups.
  

  Modified:
	trunk/src/Makefile.am (File Deleted) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/18 19:50:01 UTC	(20050818-1775)
  Log:
  More buildsystem de-automake action!
  

  Modified:
	trunk/dbtool/Makefile.am (File Deleted) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/libatheme/Makefile.am (File Deleted) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/modules/Makefile.am (File Deleted) 
	trunk/modules/Makefile.in (File Modified) 


nenolod     2005/08/18 19:37:23 UTC	(20050818-1773)
  Log:
  ditto.
  

  Modified:
	trunk/backend/Makefile.am (File Deleted) 
	trunk/backend/Makefile.in (File Modified) 


nenolod     2005/08/18 19:35:56 UTC	(20050818-1771)
  Log:
  Death to automake.
  

  Modified:
	trunk/Makefile.am (File Deleted) 
	trunk/Makefile.in (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/18 19:26:05 UTC	(20050818-1769)
  Log:
  Screw libltdl.
  

  Modified:
	trunk/libltdl/ (File Deleted) 


nenolod     2005/08/18 19:20:32 UTC	(20050818-1767)
  Log:
  more ltdl cleanups.
  

  Modified:
	trunk/libltdl/Makefile.am (File Modified) 
	trunk/libltdl/config-h.in (File Deleted) 
	trunk/libltdl/config.guess (File Deleted) 
	trunk/libltdl/config.sub (File Deleted) 


nenolod     2005/08/18 19:16:51 UTC	(20050818-1765)
  Log:
  Clean up the way libltdl works... grr.
  

  Modified:
	trunk/Makefile.in (File Modified) 
	trunk/backend/Makefile.in (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/crypto/Makefile.in (File Modified) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/libltdl/Makefile.am (File Modified) 
	trunk/libltdl/Makefile.in (File Modified) 
	trunk/libltdl/configure (File Deleted) 
	trunk/libltdl/configure.ac (File Deleted) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/18 18:45:28 UTC	(20050818-1763)
  Log:
  More crypto stuff.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/crypto.h (File Added) 
	trunk/src/crypto.c (File Modified) 


nenolod     2005/08/18 18:34:41 UTC	(20050818-1761)
  Log:
  Add basefile crypto.c, nothing there yet.
  

  Modified:
	trunk/src/crypto.c (File Added) 


nenolod     2005/08/18 15:50:30 UTC	(20050818-1759)
  Log:
  Fix protocol modules, since they broke in our move to preallocated buffers.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


jilles      2005/08/18 12:41:46 UTC	(20050818-1757)
  Log:
  Move various LEN defines from users.h to atheme.h; they
  are also needed in account.h.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/users.h (File Modified) 


jilles      2005/08/18 12:40:55 UTC	(20050818-1755)
  Log:
  Make sure it doesn't break the build right now;
  add Makefile.in to svn.
  

  Modified:
	trunk/crypto/Makefile.am (File Modified) 
	trunk/crypto/Makefile.in (File Added) 


nenolod     2005/08/18 06:59:41 UTC	(20050818-1753)
  Log:
  Prepare for crypto modules.
  

  Modified:
	trunk/Makefile.am (File Modified) 
	trunk/Makefile.in (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/crypto/ (File Added) 
	trunk/crypto/Makefile.am (File Added) 


nenolod     2005/08/18 00:28:59 UTC	(20050818-1751)
  Log:
  same for mychan/myuser/chanacs.
  

  Modified:
	trunk/include/account.h (File Modified) 
	trunk/src/node.c (File Modified) 


nenolod     2005/08/18 00:21:17 UTC	(20050818-1749)
  Log:
  Same with modules, again, using block allocation makes our life better.
  

  Modified:
	trunk/include/module.h (File Modified) 
	trunk/src/module.c (File Modified) 


nenolod     2005/08/18 00:13:59 UTC	(20050818-1747)
  Log:
  Convert user_t from sstrdup'd strings to static buffers. Should enhance performance a little bit.
  

  Modified:
	trunk/include/users.h (File Modified) 
	trunk/src/node.c (File Modified) 


nenolod     2005/08/17 21:24:17 UTC	(20050817-1745)
  Log:
  First go at SVID stuff on bahamut.
  

  Modified:
	trunk/protocol/bahamut.c (File Modified) 


jilles      2005/08/17 16:46:05 UTC	(20050817-1743)
  Log:
  Add support for receiving the SIGNON command.
  

  Modified:
	trunk/protocol/hyperion.c (File Modified) 


jilles      2005/08/17 01:43:32 UTC	(20050817-1741)
  Log:
  Fix vhost support. Also add support for applying
  any received SETHOST, SETIDENT and SETNAME.
  

  Modified:
	trunk/protocol/hyperion.c (File Modified) 


jilles      2005/08/17 01:03:04 UTC	(20050817-1739)
  Log:
  opersvs, not klinesvs
  

  Modified:
	trunk/protocol/inspircd.c (File Modified) 


w00t        2005/08/16 12:12:17 UTC	(20050816-1737)
  Log:
  Editing protocol modules really sucks. All gline activity should now be sent by operserv.

  Modified:
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 


w00t        2005/08/16 12:07:57 UTC	(20050816-1735)
  Log:
  fixed chanserv setting/removing glines in unreal protocol mod. one down, 15 to go..

  Modified:
	trunk/protocol/unreal.c (File Modified) 


jilles      2005/08/15 16:25:24 UTC	(20050815-1732)
  Log:
  Properly reset umode +r when a user changes to their
  registered nick.
  
  Not tested other than that it compiles.
  

  Modified:
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


jilles      2005/08/15 01:05:56 UTC	(20050815-1730)
  Log:
  Do not devoice voiced logged in users who do not have access
  to that.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/08/15 00:06:50 UTC	(20050815-1728)
  Log:
  make channel_find() use the hashtable.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/08/15 00:03:45 UTC	(20050815-1726)
  Log:
  make mychan_find() use the hash.
  

  Modified:
	trunk/src/node.c (File Modified) 


jilles      2005/08/14 23:48:22 UTC	(20050814-1724)
  Log:
  Remove superfluous user lookups in chanuser_add().
  Just strip the prefixes and then look up that
  nick and no other.
  

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/08/14 20:43:58 UTC	(20050814-1722)
  Log:
  linked list -> hashtable
  

  Modified:
	trunk/include/pmodule.h (File Modified) 
	trunk/src/pmodule.c (File Modified) 


nenolod     2005/08/14 20:37:18 UTC	(20050814-1720)
  Log:
  put the usleep() back in, ugh.
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/08/14 20:28:49 UTC	(20050814-1718)
  Log:
  Possibly faster polling engine.
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/08/14 20:22:37 UTC	(20050814-1716)
  Log:
  Add connection.pollslot for better FD tracking in the poll loop.
  

  Modified:
	trunk/include/connection.h (File Modified) 


nenolod     2005/08/14 10:14:20 UTC	(20050814-1714)
  Log:
  hackish fix for poll, but it appears to work.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/08/14 10:06:40 UTC	(20050814-1712)
  Log:
  bugfixes for select.c, fixes a libatheme bug that wasn't reported on the tracker.
  

  Modified:
	trunk/libatheme/select.c (File Modified) 


nenolod     2005/08/14 09:49:38 UTC	(20050814-1710)
  Log:
  For some reason, the poll-based socket engine appears to be broken. 
  We will want to fix this some day. But for now, we should merely
  disable it.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/14 09:40:58 UTC	(20050814-1708)
  Log:
  should fix the problem, hopefully.
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/08/14 09:27:00 UTC	(20050814-1706)
  Log:
  fix a potential issue here.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/14 08:12:20 UTC	(20050814-1704)
  Log:
  New stream parsing stuff!!!!!
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/src/packet.c (File Modified) 
	trunk/src/parse.c (File Modified) 


nenolod     2005/08/13 21:40:44 UTC	(20050813-1702)
  Log:
  fix a potential crash here.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/13 21:20:26 UTC	(20050813-1700)
  Log:
  Add help for link.
  

  Modified:
	trunk/help/nickserv/link (File Added) 
	trunk/modules/ns_help.c (File Modified) 


nenolod     2005/08/13 21:06:21 UTC	(20050813-1698)
  Log:
  some windows related stuff leaked into the main tree :/
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/08/12 21:17:57 UTC	(20050812-1696)
  Log:
  Allow users to take ownership via link if they have the nickname password.
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/12 21:14:47 UTC	(20050812-1694)
  Log:
  
  
  k, linking should basically work.
  
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/12 19:34:45 UTC	(20050812-1692)
  Log:
  fix some compile errors, oops.
  

  Modified:
	trunk/include/phandler.h (File Modified) 
	trunk/modules/ns_identify.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/phandler.c (File Modified) 


nenolod     2005/08/12 19:24:22 UTC	(20050812-1690)
  Log:
  Handle notices as messages sent to Services.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/12 19:14:20 UTC	(20050812-1688)
  Log:
  If a user identifies to a new session, nuke the old session.
  

  Modified:
	trunk/modules/ns_identify.c (File Modified) 


nenolod     2005/08/12 19:10:06 UTC	(20050812-1686)
  Log:
  don't worry about changing to linked nicknames.
  

  Modified:
	trunk/src/services.c (File Modified) 


pfish       2005/08/12 10:46:47 UTC	(20050812-1684)
  Log:
  snoop denied messages
  

  Modified:
	trunk/src/commandtree.c (File Modified) 
	trunk/src/services.c (File Modified) 


pfish       2005/08/12 10:03:09 UTC	(20050812-1678)
  Log:
  add ban/unban help files to close bug #49
  

  Modified:
	trunk/help/cservice/ban (File Added) 
	trunk/help/cservice/unban (File Added) 


nenolod     2005/08/12 09:41:45 UTC	(20050812-1674)
  Log:
  change behaviour relating to snoop chan
  

  Modified:
	trunk/src/node.c (File Modified) 
	trunk/src/services.c (File Modified) 


pfish       2005/08/12 09:40:59 UTC	(20050812-1672)
  Log:
  make services aware of unreal's +j
  

  Modified:
	trunk/include/protocol/unreal.h (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/12 09:35:15 UTC	(20050812-1670)
  Log:
  blah check to make sure automatic shit is still working.
  

  Modified:
	trunk/TODO (File Modified) 


pfish       2005/08/12 09:30:33 UTC	(20050812-1666)
  Log:
  if a nickname is linked, be sure to let you know when you query 
  

  Modified:
	trunk/modules/ns_list.c (File Modified) 


pfish       2005/08/12 09:12:34 UTC	(20050812-1664)
  Log:
  fix small snoop spacing

  Modified:
	trunk/modules/cs_taxonomy.c (File Modified) 


nenolod     2005/08/12 08:56:03 UTC	(20050812-1662)
  Log:
  this is much better.
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/12 08:54:15 UTC	(20050812-1660)
  Log:
  the hashing macros did not actually work, now they do.
  

  Modified:
	trunk/include/atheme.h (File Modified) 


nenolod     2005/08/12 08:45:05 UTC	(20050812-1658)
  Log:
  msg() now supports any source target and doesn't implicitly send from ChanServ.
  

  Modified:
	trunk/include/phandler.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/node.c (File Modified) 
	trunk/src/phandler.c (File Modified) 
	trunk/src/services.c (File Modified) 


nenolod     2005/08/12 07:56:24 UTC	(20050812-1656)
  Log:
  with this much breakage, Dianora would be proud!
  

  Modified:
	trunk/modules/ns_link.c (File Modified) 


nenolod     2005/08/12 07:53:15 UTC	(20050812-1654)
  Log:
  breaking things chowns!
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/12 07:49:25 UTC	(20050812-1652)
  Log:
  goddamnit, i should really quit assuming that things are where they need to be.
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/12 07:45:28 UTC	(20050812-1650)
  Log:
  fix again!
  

  Modified:
	trunk/modules/cs_flags.c (File Modified) 


nenolod     2005/08/12 07:41:47 UTC	(20050812-1648)
  Log:
  fix postgresql backend. bah.
  

  Modified:
	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/08/12 00:31:12 UTC	(20050812-1646)
  Log:
  Same for CS FLAGS
  

  Modified:
	trunk/modules/cs_flags.c (File Modified) 


nenolod     2005/08/12 00:29:16 UTC	(20050812-1644)
  Log:
  Ditto for XOP DEL
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/12 00:27:10 UTC	(20050812-1642)
  Log:
  Make sure *all* channel access is applied to the MASTER nickname.
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/12 00:19:35 UTC	(20050812-1640)
  Log:
  Add /ns link command.
  

  Modified:
	trunk/modules/ns_link.c (File Added) 


nenolod     2005/08/12 00:11:22 UTC	(20050812-1638)
  Log:
  add those same checks to is_xop()
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/12 00:09:22 UTC	(20050812-1636)
  Log:
  follow aliases in is_xop()
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/11 23:42:55 UTC	(20050811-1634)
  Log:
  If an account is an "Alias", and the proper metadata is set, display the master account in NS INFO.
  

  Modified:
	trunk/modules/ns_info.c (File Modified) 


nenolod     2005/08/11 23:19:59 UTC	(20050811-1632)
  Log:
  Remove unnecessary is_founder/is_successor checks
  

  Modified:
	trunk/modules/cs_akick.c (File Modified) 
	trunk/modules/cs_flags.c (File Modified) 
	trunk/modules/cs_invite.c (File Modified) 
	trunk/modules/cs_recover.c (File Modified) 
	trunk/modules/cs_set.c (File Modified) 
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/11 22:38:15 UTC	(20050811-1630)
  Log:
  just check for CA_FLAGS in XOP add.
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/11 22:35:22 UTC	(20050811-1628)
  Log:
  - fix runtime linking on Windows
  - add MU_ALIAS to designate that an account is an alias of something else
  

  Modified:
	trunk/include/account.h (File Modified) 
	trunk/libltdl/ltdl.c (File Modified) 


nenolod     2005/08/11 21:56:39 UTC	(20050811-1626)
  Log:
  fix a mistake in trunk's socket abstraction layer.
  

  Modified:
	trunk/libatheme/sockio.c (File Modified) 


nenolod     2005/08/11 07:06:06 UTC	(20050811-1622)
  Log:
  fix a bug here :p
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/10 21:26:55 UTC	(20050810-1620)
  Log:
  windows cant possibly have gettimeofday() so enforce that
  

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/08/10 21:19:48 UTC	(20050810-1618)
  Log:
  add process.c as a placeholder for windows fork() shims.
  

  Modified:
	trunk/libatheme/process.c (File Added) 


nenolod     2005/08/10 19:16:53 UTC	(20050810-1614)
  Log:
  reflect new module extension detection in the example config
  

  Modified:
	trunk/dist/example.conf (File Modified) 


nenolod     2005/08/10 19:13:45 UTC	(20050810-1612)
  Log:
  fun with microsoft windows =)
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/08/10 19:11:23 UTC	(20050810-1610)
  Log:
  Almost ready to go.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/10 18:51:05 UTC	(20050810-1608)
  Log:
  more windows porting fun
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/08/10 17:40:35 UTC	(20050810-1606)
  Log:
  snprintf() is _snprintf() in windows, what is up with that.
  

  Modified:
	trunk/include/stdinc.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 
	trunk/libatheme/sockio.c (File Modified) 


nenolod     2005/08/10 17:28:24 UTC	(20050810-1604)
  Log:
  regenerate makefiles
  

  Modified:
	trunk/Makefile.in (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 


nenolod     2005/08/10 17:26:26 UTC	(20050810-1602)
  Log:
  more windows porting goodness here
  

  Modified:
	trunk/src/atheme.c (File Modified) 


nenolod     2005/08/10 17:22:58 UTC	(20050810-1600)
  Log:
  We are very close to having native windows builds now.
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/extern.h (File Modified) 
	trunk/include/sockio.h (File Added) 
	trunk/include/stdinc.h (File Modified) 
	trunk/libatheme/Makefile.am (File Modified) 
	trunk/libatheme/balloc.c (File Modified) 
	trunk/libatheme/sockio.c (File Added) 


nenolod     2005/08/10 16:34:50 UTC	(20050810-1598)
  Log:
  more windows porting action!
  

  Modified:
	trunk/include/stdinc.h (File Modified) 


nenolod     2005/08/10 16:25:05 UTC	(20050810-1596)
  Log:
  Apply some niceities for MingW.
  

  Modified:
	trunk/include/stdinc.h (File Modified) 


nenolod     2005/08/10 16:11:40 UTC	(20050810-1594)
  Log:
  Use dlopenext() instead of dlopen(), as this will improve our chances of
  locating the module on AIX, HP-UX and Windows.
  

  Modified:
	trunk/src/module.c (File Modified) 


nenolod     2005/08/10 05:45:54 UTC	(20050810-1590)
  Log:
  Add channel access entry metadata, and new chanacs search function, chanacs_find_by_mask().
  

  Modified:
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 
	trunk/include/account.h (File Modified) 
	trunk/include/extern.h (File Modified) 
	trunk/include/metadata.h (File Modified) 
	trunk/src/node.c (File Modified) 


nenolod     2005/08/10 05:11:32 UTC	(20050810-1588)
  Log:
  add experimental code which works with va_list
  

  Modified:
	trunk/libatheme/hook.c (File Modified) 


nenolod     2005/08/10 03:52:37 UTC	(20050810-1586)
  Log:
  Update PostgreSQL schema in expectation for channel access entry 
  metadata.
  

  Modified:
	trunk/SQL/atheme_init.sql (File Modified) 


nenolod     2005/08/09 03:04:21 UTC	(20050809-1584)
  Log:
  we want to be able to ban unregistered users too, i think.
  

  Modified:
	trunk/modules/os_kline.c (File Modified) 


nenolod     2005/08/09 03:01:29 UTC	(20050809-1582)
  Log:
  lets spend less CPU polling sockets please, kthx.
  

  Modified:
	trunk/src/send.c (File Modified) 


nenolod     2005/08/08 23:14:18 UTC	(20050808-1578)
  Log:
  clean up the emergency hack earlier.
  

  Modified:
	trunk/src/cmode.c (File Modified) 


nenolod     2005/08/08 23:07:40 UTC	(20050808-1576)
  Log:
  this is a total shot in the dark...
  

  Modified:
	trunk/src/cmode.c (File Modified) 


nenolod     2005/08/08 23:05:25 UTC	(20050808-1574)
  Log:
  don't set +k 0, ever. don't even *allow* it.
  

  Modified:
	trunk/src/cmode.c (File Modified) 


nenolod     2005/08/08 06:50:43 UTC	(20050808-1572)
  Log:
  remove redundant code in m_burst, if it works port to other P10's.
  

  Modified:
	trunk/protocol/undernet.c (File Modified) 


jilles      2005/08/08 00:12:10 UTC	(20050808-1570)
  Log:
  Reop services on TS deop.
  Use PART/SJOIN to avoid anything getting angry at us which we
  cannot handle well with bahamut.
  

  Modified:
	trunk/protocol/bahamut.c (File Modified) 


alambert    2005/08/07 22:58:16 UTC	(20050807-1568)
  Log:
  Give more feedback in OS MODUNLOAD

  Modified:
	trunk/modules/os_modunload.c (File Modified) 


alambert    2005/08/07 22:51:37 UTC	(20050807-1566)
  Log:
  Add help for OS RAW (it was already in the tables, but it didn't exist)

  Modified:
	trunk/help/oservice/raw (File Added) 


pfish       2005/08/07 22:45:36 UTC	(20050807-1564)
  Log:
  ...
  

  Modified:
	trunk/modules/ns_help.c (File Modified) 


pfish       2005/08/07 22:43:54 UTC	(20050807-1562)
  Log:
  add logout to ns help table

  Modified:
	trunk/modules/ns_help.c (File Modified) 


pfish       2005/08/07 22:41:33 UTC	(20050807-1560)
  Log:
  +that

  Modified:
	trunk/help/nickserv/logout (File Modified) 


alambert    2005/08/07 22:41:26 UTC	(20050807-1558)
  Log:
  Add information on deleting metadata to NS HELP SET PROPERTY

  Modified:
	trunk/help/nickserv/set_property (File Modified) 


pfish       2005/08/07 22:41:04 UTC	(20050807-1556)
  Log:
  add NS LOGOUT help

  Modified:
	trunk/help/nickserv/logout (File Added) 


alambert    2005/08/07 22:39:49 UTC	(20050807-1554)
  Log:
  Add help for NS SET PROPERTY

  Modified:
	trunk/help/nickserv/set_property (File Added) 


alambert    2005/08/07 22:35:32 UTC	(20050807-1552)
  Log:
  Oops -- fix copy/paste error in NS HELP SET EMAIL

  Modified:
	trunk/help/nickserv/set_email (File Modified) 


pfish       2005/08/07 22:33:04 UTC	(20050807-1550)
  Log:
  add nickserv SET neverop/noop help
  

  Modified:
	trunk/help/nickserv/set_neverop (File Added) 
	trunk/help/nickserv/set_noop (File Added) 


alambert    2005/08/07 22:29:11 UTC	(20050807-1548)
  Log:
  Add help for NS SET EMAIL

  Modified:
	trunk/help/nickserv/set_email (File Added) 


alambert    2005/08/07 19:59:47 UTC	(20050807-1546)
  Log:
  Add help for SET HIDEMAIL, SET PASSWORD in NickServ

  Modified:
	trunk/help/nickserv/set_hidemail (File Added) 
	trunk/help/nickserv/set_password (File Added) 


nenolod     2005/08/07 03:28:48 UTC	(20050807-1544)
  Log:
  add command_add_many() to add an array cf commands to a list.
  

  Modified:
	trunk/include/commandtree.h (File Modified) 
	trunk/src/commandtree.c (File Modified) 


nenolod     2005/08/06 20:08:43 UTC	(20050806-1542)
  Log:
  untested fix to bug #34.
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


pfish       2005/08/06 01:22:38 UTC	(20050806-1540)
  Log:
  fix bugid #32
  

  Modified:
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/08/06 01:09:59 UTC	(20050806-1538)
  Log:
  grr, va_list was not where it should have been.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/08/05 20:51:01 UTC	(20050805-1536)
  Log:
  Enable tagging of $Id$ on example.conf, was not being tagged.
  

  Modified:
	trunk/dist/example.conf  (Property Modified)


jilles      2005/08/05 20:37:12 UTC	(20050805-1534)
  Log:
  atheme-ratbox-services.patch was integrated and improved long ago.
  

  Modified:
	trunk/patches/README (File Modified) 
	trunk/patches/atheme-ratbox-services.patch (File Deleted) 


nenolod     2005/08/05 20:30:42 UTC	(20050805-1532)
  Log:
  from should be me.numeric in numeric_sts(), oops.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/08/05 20:10:23 UTC	(20050805-1530)
  Log:
  handle numerics more intelligently.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/08/05 20:02:10 UTC	(20050805-1528)
  Log:
  in ircu based ircds, convert the UID into a regular nick before sending out numerics, for now.
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/08/05 19:57:34 UTC	(20050805-1526)
  Log:
  abstractionalize m_info
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/ptasks.c (File Modified) 


nenolod     2005/08/05 07:22:23 UTC	(20050805-1524)
  Log:
  same for m_version
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/ptasks.c (File Modified) 


nenolod     2005/08/05 07:15:53 UTC	(20050805-1522)
  Log:
  Abstractionalize m_admin in the ircd protocol support.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/ptasks.c (File Modified) 


alambert    2005/08/05 07:03:34 UTC	(20050805-1520)
  Log:
  Sanity-check me.name before accepting the config

  Modified:
	trunk/src/conf.c (File Modified) 


alambert    2005/08/05 01:35:22 UTC	(20050805-1518)
  Log:
  Revert 1516 (backwards compatibility)

  Modified:
	trunk/contrib/ircd_catserv.c (File Modified) 
	trunk/include/servtree.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/services.c (File Modified) 
	trunk/src/servtree.c (File Modified) 


alambert    2005/08/05 01:31:29 UTC	(20050805-1516)
  Log:
  Rename service management functions to match others: del_service -> service_delete; add_service -> service_add; find_service -> service_find

  Modified:
	trunk/contrib/ircd_catserv.c (File Modified) 
	trunk/include/servtree.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/services.c (File Modified) 
	trunk/src/servtree.c (File Modified) 


alambert    2005/08/05 01:10:53 UTC	(20050805-1514)
  Log:
  Remember to free() what we allocate

  Modified:
	trunk/src/conf.c (File Modified) 
	trunk/src/servtree.c (File Modified) 


alambert    2005/08/05 01:02:46 UTC	(20050805-1512)
  Log:
  Release m->modpath when we finish with it

  Modified:
	trunk/src/module.c (File Modified) 


jilles      2005/08/04 17:02:22 UTC	(20050804-1510)
  Log:
  Note that atheme connects to IRCd, not the other way around.
  

  Modified:
	trunk/INSTALL (File Modified) 


pfish       2005/08/04 10:48:04 UTC	(20050804-1506)
  Log:
  Reorder if statements to work/fix notice origin

  Modified:
	trunk/modules/os_kline.c (File Modified) 


pfish       2005/08/04 10:44:06 UTC	(20050804-1504)
  Log:
  add myuser_t/fix name -> target paste error

  Modified:
	trunk/modules/os_kline.c (File Modified) 


pfish       2005/08/04 10:40:51 UTC	(20050804-1502)
  Log:
  Fix error where if user wasnt logged on /
  OperServ would not target was unregistered. Now says target is not online
  if user is registered and not registered if target is not registered.

  Modified:
	trunk/modules/os_kline.c (File Modified) 


pfish       2005/08/04 10:05:37 UTC	(20050804-1498)
  Log:
  Fix 2 MORE crashes with OS NOOP

  Modified:
	trunk/modules/os_noop.c (File Modified) 


pfish       2005/08/04 09:46:42 UTC	(20050804-1494)
  Log:
  remove visual debug identifier

  Modified:
	trunk/modules/os_noop.c (File Modified) 


pfish       2005/08/04 09:44:41 UTC	(20050804-1492)
  Log:
  Fix crash where removing a noop entry without a param

  Modified:
	trunk/modules/os_noop.c (File Modified) 


pfish       2005/08/04 08:43:12 UTC	(20050804-1488)
  Log:
  Fix a crash when !T wasnt supplied

  Modified:
	trunk/modules/os_kline.c (File Modified) 


alambert    2005/08/04 05:00:50 UTC	(20050804-1484)
  Log:
  Add CS HOLD and NS HOLD (to replace SET HOLD commands)

  Modified:
	trunk/help/cservice/hold (File Added) 
	trunk/help/cservice/set_hold (File Deleted) 
	trunk/help/nickserv/hold (File Added) 
	trunk/modules/cs_help.c (File Modified) 
	trunk/modules/cs_hold.c (File Added) 
	trunk/modules/cs_set.c (File Modified) 
	trunk/modules/ns_help.c (File Modified) 
	trunk/modules/ns_hold.c (File Added) 
	trunk/modules/ns_set.c (File Modified) 


alambert    2005/08/04 04:49:00 UTC	(20050804-1482)
  Log:
  Copy/paste cleanups in CS MARK

  Modified:
	trunk/modules/cs_mark.c (File Modified) 


alambert    2005/08/04 04:37:01 UTC	(20050804-1480)
  Log:
  MARK: 'insufficient parameters' -> 'invalid parameters'

  Modified:
	trunk/modules/cs_mark.c (File Modified) 
	trunk/modules/ns_mark.c (File Modified) 


jilles      2005/08/04 01:28:33 UTC	(20050804-1478)
  Log:
  REMOVE is a form of KICK that emits different messages,
  be sure to handle it.
  

  Modified:
	trunk/protocol/hyperion.c (File Modified) 


jilles      2005/08/04 01:16:58 UTC	(20050804-1476)
  Log:
  Add a file with ircd-specific information for each supported ircd.
  There's not much information about ircds other than hyperion and
  ratbox yet.
  

  Modified:
	trunk/INSTALL (File Modified) 
	trunk/doc/IRCD (File Added) 


alambert    2005/08/04 01:05:56 UTC	(20050804-1472)
  Log:
  Add help for NS INFO. Reported by <neo@liveharmony.org.

  Modified:
	trunk/help/nickserv/info (File Added) 
	trunk/modules/ns_help.c (File Modified) 


alambert    2005/08/04 01:01:41 UTC	(20050804-1468)
  Log:
  Add help to NS STATUS; revise help for CS STATUS. Reported by <neo@liveharmony.org>.

  Modified:
	trunk/help/cservice/status (File Modified) 
	trunk/help/nickserv/status (File Added) 
	trunk/modules/ns_help.c (File Modified) 


alambert    2005/08/04 00:50:42 UTC	(20050804-1464)
  Log:
  Add help for NS LIST, CS LIST. Reported by <neo@liveharmony.org.

  Modified:
	trunk/help/cservice/list (File Added) 
	trunk/help/nickserv/list (File Added) 
	trunk/modules/cs_help.c (File Modified) 
	trunk/modules/ns_help.c (File Modified) 


alambert    2005/08/04 00:14:41 UTC	(20050804-1462)
  Log:
  Add notes about account support and channel passwords being removed

  Modified:
	trunk/doc/RELEASE (File Modified) 


jilles      2005/08/04 00:13:04 UTC	(20050804-1460)
  Log:
  - Remove mentions of oscnet
  - Enhance join_chans/leave_chans explanation
  - Remove secure from default channel flags
  

  Modified:
	trunk/dist/example.conf (File Modified) 


jilles      2005/08/03 23:24:08 UTC	(20050803-1458)
  Log:
  Fix crashes with mlock +lk; still doesn't work properly though.
  

  Modified:
	trunk/src/cmode.c (File Modified) 


nenolod     2005/08/03 22:54:57 UTC	(20050803-1456)
  Log:
  remove libatheme_sleep() yay
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/08/03 22:49:36 UTC	(20050803-1454)
  Log:
  same for epoll support.
  

  Modified:
	trunk/libatheme/epoll.c (File Deleted) 


nenolod     2005/08/03 22:48:52 UTC	(20050803-1452)
  Log:
  we don't *really* need kqueue support. removing.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/libatheme/kqueue.c (File Deleted) 


alambert    2005/08/03 21:26:26 UTC	(20050803-1446)
  Log:
  Add help for CS HOP. Reported by <neo@liveharmony.org>

  Modified:
	trunk/modules/cs_help.c (File Modified) 


alambert    2005/08/03 21:03:26 UTC	(20050803-1442)
  Log:
  command_help(): Only show the commands that the user has access to.

  Modified:
	trunk/src/commandtree.c (File Modified) 


alambert    2005/08/03 20:18:50 UTC	(20050803-1438)
  Log:
  Forward port 1434: Add safety checks to chanuser_delete(): bail if chan or user are NULL

  Modified:
	trunk/src/node.c (File Modified) 


alambert    2005/08/03 20:15:08 UTC	(20050803-1436)
  Log:
  Remove redundant chanuser_delete() -- kick() handles it. Fixes a crash when an op and CS are the only users in the channel and the op runs /CS KICKBAN against himself. Reported by <neo@liveharmony.org>.

  Modified:
	trunk/modules/cs_kick.c (File Modified) 


alambert    2005/08/03 19:03:34 UTC	(20050803-1426)
  Log:
  Fix fantasy command access checking. Resolves bug 26 in trunk. Opened bug 48 to track separate issue of vanilla '!op' not working.

  Modified:
	trunk/modules/cs_halfop.c (File Modified) 
	trunk/modules/cs_op.c (File Modified) 
	trunk/modules/cs_voice.c (File Modified) 


nenolod     2005/08/03 10:27:33 UTC	(20050803-1424)
  Log:
  Update release notes in anticipation of 0.3beta1 upcoming.
  

  Modified:
	trunk/doc/RELEASE (File Modified) 


nenolod     2005/08/03 10:12:24 UTC	(20050803-1422)
  Log:
  update version from 0.3-CURRENT to 0.3beta1 in preparation for a beta release of 0.3
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


w00t        2005/08/03 05:34:15 UTC	(20050803-1418)
  Log:
  Hopefully saved prae's sanity

  Modified:
	trunk/modules/os_modlist.c (File Modified) 


alambert    2005/08/02 20:50:52 UTC	(20050802-1416)
  Log:
  Comment updates: safe_query() doesn't handle escaping; transactions make writes safer; failure logging columns moved to metadata.

  Modified:
	trunk/backend/postgresql.c (File Modified) 


alambert    2005/08/02 20:45:31 UTC	(20050802-1414)
  Log:
  Fix CS SET FOUNDER: now, we use metadata to store the new founder.

  Modified:
	trunk/modules/cs_ftransfer.c (File Modified) 
	trunk/modules/cs_set.c (File Modified) 


alambert    2005/08/02 18:07:45 UTC	(20050802-1412)
  Log:
  Remember to free gecos in user_delete()

  Modified:
	trunk/src/node.c (File Modified) 


nenolod     2005/08/02 09:03:42 UTC	(20050802-1410)
  Log:
  i think i got it this time.
  

  Modified:
	trunk/backend/Makefile.in (File Modified) 
	trunk/contrib/Makefile.am (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/02 09:02:11 UTC	(20050802-1408)
  Log:
  have configure generate a module list in contrib as well. sigh
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/contrib/Makefile.am (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/08/02 08:51:48 UTC	(20050802-1406)
  Log:
  forgot includes on that force instruction
  

  Modified:
	trunk/src/Makefile.am (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/02 08:49:50 UTC	(20050802-1404)
  Log:
  make sure version.c is regenerated on every build.
  

  Modified:
	trunk/src/Makefile.am (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/02 08:46:13 UTC	(20050802-1402)
  Log:
  actually, dont use libtool to compile custom modules
  

  Modified:
	trunk/contrib/Makefile.am (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/08/02 08:45:16 UTC	(20050802-1400)
  Log:
  re-enable compilation of custom modules in contrib/
  

  Modified:
	trunk/contrib/Makefile.am (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 


nenolod     2005/08/02 08:40:36 UTC	(20050802-1398)
  Log:
  adding gecos tracking to user_t for security related modules. please look that way, thanks.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/include/users.h (File Modified) 
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/inspircd.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 
	trunk/src/node.c (File Modified) 


w00t        2005/08/02 08:16:25 UTC	(20050802-1396)
  Log:
  Copyright reassignment to ADG

  Modified:
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 


w00t        2005/08/02 07:12:44 UTC	(20050802-1394)
  Log:
  Gone are the dank days of having TS5 in the version replies.. I take it that was another shrike relic

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


alambert    2005/08/02 04:40:09 UTC	(20050802-1392)
  Log:
  Move login failure tracking into metadata. Flatfile: fields are now zeroed, backwards compatible. PostgreSQL: ignored, removed from schema.

  Modified:
	trunk/SQL/atheme_init.sql (File Modified) 
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 
	trunk/include/account.h (File Modified) 
	trunk/modules/ns_identify.c (File Modified) 


alambert    2005/08/02 02:44:43 UTC	(20050802-1390)
  Log:
  Remove 'key' column from 'accounts' table

  Modified:
	trunk/SQL/atheme_init.sql (File Modified) 


pfish       2005/08/02 00:38:53 UTC	(20050802-1388)
  Log:
  add Insufficient parameters for unknown commands

  Modified:
	trunk/modules/os_kline.c (File Modified) 


alambert    2005/08/02 00:32:07 UTC	(20050802-1384)
  Log:
  Strip the key before putting it into metadata. Fully closes bug introduced in r1300. Sorry folks.

  Modified:
	trunk/backend/flatfile.c (File Modified) 


nenolod     2005/08/02 00:30:11 UTC	(20050802-1382)
  Log:
  really fix bug 44 this time.
  

  Modified:
	trunk/modules/os_kline.c (File Modified) 


alambert    2005/08/02 00:13:12 UTC	(20050802-1380)
  Log:
  Don't forget to insert a newline after a myuser line in flatfile.c. SVN >= 1300 did not save databases correctly -- manually insert newlines where needed. Metadata has an extra newline that I'm looking at but I wanted to get this in the trunk ASAP.

  Modified:
	trunk/backend/flatfile.c (File Modified) 


nenolod     2005/08/02 00:09:28 UTC	(20050802-1378)
  Log:
  possibly fix bug 44. not sure if it does or not yet.
  

  Modified:
	trunk/modules/os_kline.c (File Modified) 


alambert    2005/08/02 00:03:35 UTC	(20050802-1376)
  Log:
  Readd support for legacy verification keys in flatfile

  Modified:
	trunk/backend/flatfile.c (File Modified) 


nenolod     2005/08/01 08:57:17 UTC	(20050801-1374)
  Log:
  oops.
  

  Modified:
	trunk/include/culture.h (File Modified) 


nenolod     2005/08/01 07:28:56 UTC	(20050801-1372)
  Log:
  Add an example translation file outlining the proposed format.
  

  Modified:
	trunk/translations/sample.language (File Added) 


nenolod     2005/08/01 07:23:07 UTC	(20050801-1370)
  Log:
  Add culture.h for defining structures/methods used for storing translations. (to be used in the future.)
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/include/culture.h (File Added) 


nenolod     2005/08/01 07:13:48 UTC	(20050801-1368)
  Log:
  remove quotes from AS IS so that slashkernel will shut up.
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/08/01 07:09:25 UTC	(20050801-1366)
  Log:
  shut up a config issue here.
  

  Modified:
	trunk/src/conf.c (File Modified) 


nenolod     2005/08/01 07:07:10 UTC	(20050801-1364)
  Log:
  clean up some compiler warnings here. yay for --enable-warnings (paranoia)
  

  Modified:
	trunk/modules/cs_xop.c (File Modified) 


nenolod     2005/08/01 07:03:43 UTC	(20050801-1362)
  Log:
  remove some compiler warnings in libatheme
  

  Modified:
	trunk/include/libatheme.h (File Modified) 
	trunk/libatheme/connection.c (File Modified) 


nenolod     2005/08/01 05:58:34 UTC	(20050801-1356)
  Log:
  copy poll.c to epoll.c for implementing linux 2.6 epoll() support.
  

  Modified:
	trunk/libatheme/epoll.c (File Added) 


nenolod     2005/08/01 05:50:08 UTC	(20050801-1354)
  Log:
  tell old freebsd 4.x headers to stfu about redefining LIST_FOREACH
  

  Modified:
	trunk/libatheme/kqueue.c (File Modified) 


nenolod     2005/08/01 05:49:13 UTC	(20050801-1352)
  Log:
  reenable kqueue as it is working properly now as of r1350
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/01 05:44:47 UTC	(20050801-1350)
  Log:
  I smoke crack! Yes I most certaintly do! -- struct kqueue != struct kevent!
  

  Modified:
	trunk/libatheme/kqueue.c (File Modified) 


nenolod     2005/08/01 05:37:52 UTC	(20050801-1348)
  Log:
  fixes to the automatic changelog system.
  

  Modified:
	trunk/ChangeLog (File Modified) 


nenolod     2005/08/01 04:58:11 UTC	(20050801-1334)
  Log:
  disable kqueue for now.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/01 03:44:41 UTC	(20050801-1332)
  Log:
  blah someone fix those two EV_SET() warnings.
  

  Modified:
	trunk/libatheme/kqueue.c (File Modified) 


nenolod     2005/08/01 03:33:42 UTC	(20050801-1330)
  Log:
  oops.
  

  Modified:
	trunk/libatheme/kqueue.c (File Modified) 


nenolod     2005/08/01 03:32:32 UTC	(20050801-1328)
  Log:
  The function kevent is in kqueue.c, not kevent.c, oops.
  

  Modified:
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 


nenolod     2005/08/01 03:25:59 UTC	(20050801-1326)
  Log:
  Automatically choose the best available socket engine.
  

  Modified:
	trunk/Makefile.in (File Modified) 
	trunk/backend/Makefile.in (File Modified) 
	trunk/configure (File Modified) 
	trunk/configure.ac (File Modified) 
	trunk/contrib/Makefile.in (File Modified) 
	trunk/dbtool/Makefile.in (File Modified) 
	trunk/libatheme/Makefile.am (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/modules/Makefile.in (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/src/Makefile.in (File Modified) 


nenolod     2005/08/01 02:19:38 UTC	(20050801-1324)
  Log:
  add translations directory for later use.
  

  Modified:
	trunk/translations/ (File Added) 


nenolod     2005/08/01 02:17:14 UTC	(20050801-1322)
  Log:
  fixes in poll, new kqueue engine.
  

  Modified:
	trunk/libatheme/kqueue.c (File Added) 
	trunk/libatheme/poll.c (File Modified) 


alambert    2005/08/01 01:43:15 UTC	(20050801-1320)
  Log:
  Move NS VERIFY to its own module

  Modified:
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_verify.c (File Added) 


nenolod     2005/07/31 23:27:22 UTC	(20050731-1318)
  Log:
  typo fix
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/07/31 23:26:03 UTC	(20050731-1316)
  Log:
  provisional support for poll(). read: craq++.
  

  Modified:
	trunk/libatheme/poll.c (File Modified) 


nenolod     2005/07/31 22:55:13 UTC	(20050731-1314)
  Log:
  copy select.c for later implementation of poll socketengine.
  

  Modified:
	trunk/libatheme/poll.c (File Added) 


alambert    2005/07/31 21:53:58 UTC	(20050731-1312)
  Log:
  Remove channel passwords from help for CS FTRANSFER

  Modified:
	trunk/help/cservice/ftransfer (File Modified) 


alambert    2005/07/31 21:52:32 UTC	(20050731-1310)
  Log:
  Use the parameter we're given, not mu->pass, in the NS SENDPASS e-mail

  Modified:
	trunk/src/function.c (File Modified) 


alambert    2005/07/31 20:10:08 UTC	(20050731-1308)
  Log:
  Use strcasecmp() sine metadata are strings anyway. Improves support for future alphanumeric keys.

  Modified:
	trunk/modules/ns_register.c (File Modified) 


alambert    2005/07/31 20:05:46 UTC	(20050731-1306)
  Log:
  Remove extra parameter on INSERT statement

  Modified:
	trunk/backend/postgresql.c (File Modified) 


alambert    2005/07/31 19:55:09 UTC	(20050731-1304)
  Log:
  Improve sanity checking on e-mail addresses and passwords

  Modified:
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_set.c (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/07/31 19:44:08 UTC	(20050731-1302)
  Log:
  Move our string functions into libatheme.
  

  Modified:
	trunk/libatheme/Makefile.am (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/libatheme/string.c (File Added) 
	trunk/src/function.c (File Modified) 


alambert    2005/07/31 19:40:27 UTC	(20050731-1300)
  Log:
  Remove obsolete verification key references in backend

  Modified:
	trunk/backend/flatfile.c (File Modified) 
	trunk/backend/postgresql.c (File Modified) 


nenolod     2005/07/31 19:38:21 UTC	(20050731-1298)
  Log:
  PTlink CMODE's have been added, where appropriate.
  

  Modified:
	trunk/include/protocol/ptlink.h (File Modified) 
	trunk/protocol/ptlink.c (File Modified) 


alambert    2005/07/31 19:30:01 UTC	(20050731-1296)
  Log:
  Move initial e-mail verification data into metadata.

  Modified:
	trunk/include/account.h (File Modified) 
	trunk/modules/ns_register.c (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/07/31 19:29:12 UTC	(20050731-1294)
  Log:
  All the protocol stuff specific to PTlink is now working, now I just need to worry about modes. :)
  

  Modified:
	trunk/protocol/ptlink.c (File Modified) 


jilles      2005/07/31 19:10:34 UTC	(20050731-1292)
  Log:
  Set topic via STOPIC instead of TOPIC; leave off "(setter)",
  instead make the topic appear to have been set by the setter
  later.
  

  Modified:
	trunk/protocol/hyperion.c (File Modified) 


alambert    2005/07/31 19:09:28 UTC	(20050731-1290)
  Log:
  Move e-mail change temporary storage to metadata. Founder change and initial verification will follow shortly.

  Modified:
	trunk/include/account.h (File Modified) 
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_set.c (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/07/31 18:42:25 UTC	(20050731-1288)
  Log:
  fix ptlink build errors :P
  

  Modified:
	trunk/protocol/ptlink.c (File Modified) 


jilles      2005/07/31 17:48:06 UTC	(20050731-1286)
  Log:
  - Send channel notices from the server instead of from chanserv if
    chanserv is not on channel, in order that they won't be blocked
  - If chanserv is not on channel, join briefly to set the topic.
    This is annoying but there is really no other way.
  

  Modified:
	trunk/protocol/ratbox.c (File Modified) 


nenolod     2005/07/31 09:21:47 UTC	(20050731-1284)
  Log:
  provisional (skeletal) support for PTLink IRCd.
  

  Modified:
	trunk/include/protocol/ptlink.h (File Added) 
	trunk/protocol/Makefile.am (File Modified) 
	trunk/protocol/Makefile.in (File Modified) 
	trunk/protocol/ptlink.c (File Added) 


nenolod     2005/07/31 08:53:32 UTC	(20050731-1282)
  Log:
  fix an issue here.
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/07/31 05:10:35 UTC	(20050731-1280)
  Log:
  we now have an abstraction layer for select loops.
  

  Modified:
	trunk/include/connection.h (File Modified) 
	trunk/libatheme/Makefile.am (File Modified) 
	trunk/libatheme/Makefile.in (File Modified) 
	trunk/libatheme/libatheme.c (File Modified) 
	trunk/libatheme/select.c (File Added) 
	trunk/src/send.c (File Modified) 


alambert    2005/07/31 05:06:59 UTC	(20050731-1278)
  Log:
  Force users to log in before using NS VERIFY. This is not strictly necessary but helps avoid leaking information about pending authorizations (for example, a user can't see that another user's registration has not been verified or that they have a pending e-mail change).

  Modified:
	trunk/modules/ns_register.c (File Modified) 


nenolod     2005/07/31 04:43:34 UTC	(20050731-1276)
  Log:
  rename socket.c to send.c as that is more descriptive of what we do there now.
  

  Modified:
	trunk/src/Makefile.am (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/send.c (File Added) 
	trunk/src/socket.c (File Deleted) 


alambert    2005/07/31 04:10:59 UTC	(20050731-1274)
  Log:
  Don't let users change their e-mail address before they perform the initial verification. Prevents the following attack: malicious user registers evil1 with e-mail address innocent@user.com, uses /NS SET EMAIL evil@evil.com, and then uses the key to verify the initial registration (instead of the subsequent e-mail change). If we add more verification points in the future, we may want to have a 'key type' property.

  Modified:
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_set.c (File Modified) 


nenolod     2005/07/31 03:59:34 UTC	(20050731-1272)
  Log:
  finish up m_stats conversion.
  

  Modified:
	trunk/protocol/hyperion.c (File Modified) 
	trunk/protocol/ircnet.c (File Modified) 
	trunk/protocol/monkey.c (File Modified) 
	trunk/protocol/plexus.c (File Modified) 
	trunk/protocol/scylla.c (File Modified) 
	trunk/protocol/shadowircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/07/31 03:55:28 UTC	(20050731-1270)
  Log:
  more ircd's are using handle_stats() now...
  

  Modified:
	trunk/protocol/dreamforge.c (File Modified) 
	trunk/protocol/sorcery.c (File Modified) 
	trunk/protocol/unreal.c (File Modified) 


nenolod     2005/07/31 03:51:22 UTC	(20050731-1268)
  Log:
  all the P10 ircd's now use handle_stats()...
  

  Modified:
	trunk/protocol/asuka.c (File Modified) 
	trunk/protocol/bircd.c (File Modified) 
	trunk/protocol/undernet.c (File Modified) 


nenolod     2005/07/31 03:43:51 UTC	(20050731-1266)
  Log:
  oops.
  

  Modified:
	trunk/src/ptasks.c (File Modified) 


nenolod     2005/07/31 03:42:10 UTC	(20050731-1264)
  Log:
  implement handle_stats() to handle stats requests.
  

  Modified:
	trunk/include/extern.h (File Modified) 
	trunk/protocol/bahamut.c (File Modified) 
	trunk/protocol/ratbox.c (File Modified) 
	trunk/src/Makefile.am (File Modified) 
	trunk/src/Makefile.in (File Modified) 
	trunk/src/ptasks.c (File Added) 


alambert    2005/07/31 03:36:43 UTC	(20050731-1262)
  Log:
  Unset MU_WAITAUTH when an e-mail address is verified

  Modified:
	trunk/modules/ns_register.c (File Modified) 


alambert    2005/07/31 03:30:49 UTC	(20050731-1260)
  Log:
  Move NS SET EMAIL verification into NS VERIFY

  Modified:
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_set.c (File Modified) 


alambert    2005/07/31 03:18:05 UTC	(20050731-1258)
  Log:
  Add HOP to CS HELP XOP

  Modified:
	trunk/help/cservice/xop (File Modified) 


alambert    2005/07/31 03:15:53 UTC	(20050731-1256)
  Log:
  Clean up old ChanServ reference and change 'e-mail change' message to use VERIFY EMAILCHG

  Modified:
	trunk/src/function.c (File Modified) 


alambert    2005/07/31 03:13:56 UTC	(20050731-1254)
  Log:
  Scaffolding for NS VERIFY EMAILCHG

  Modified:
	trunk/help/nickserv/verify (File Modified) 
	trunk/modules/ns_register.c (File Modified) 
	trunk/src/function.c (File Modified) 


alambert    2005/07/31 03:02:35 UTC	(20050731-1252)
  Log:
  Don't let users choose their nickname as a password

  Modified:
	trunk/modules/ns_register.c (File Modified) 
	trunk/modules/ns_set.c (File Modified) 


alambert    2005/07/31 02:54:43 UTC	(20050731-1250)
  Log:
  Get the right parameter for e-mail address

  Modified:
	trunk/modules/ns_set.c (File Modified) 


alambert    2005/07/31 02:47:26 UTC	(20050731-1248)
  Log:
  Better sanity checking for e-mail addresses: disallow spaces, single/double quotes, commas

  Modified:
	trunk/modules/ns_set.c (File Modified) 
	trunk/src/function.c (File Modified) 


alambert    2005/07/31 02:38:56 UTC	(20050731-1246)
  Log:
  First try for NS REGISTER verification fix (bug 39). Adds a new top-level command: NS VERIFY.

  Modified:
	trunk/help/nickserv/verify (File Added) 
	trunk/modules/ns_help.c (File Modified) 
	trunk/modules/ns_register.c (File Modified) 
	trunk/src/function.c (File Modified) 


nenolod     2005/07/31 02:27:48 UTC	(20050731-1244)
  Log:
  trying again here.
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/07/31 02:23:46 UTC	(20050731-1241)
  Log:
  testing to make sure...
  

  Modified:
	trunk/src/version.sh (File Modified) 


nenolod     2005/07/31 02:20:39 UTC	(20050731-1239)
  Log:
  test fix
  

  Modified:
	trunk/libatheme/memory.c (File Modified) 


alambert    2005/07/31 01:20:23 UTC	(20050731-1235)
  Log:
  More CS HELP fixes for username drop

  Modified:
	trunk/help/cservice/drop (File Modified) 
	trunk/help/cservice/info (File Modified) 
	trunk/help/cservice/logout (File Deleted) 
	trunk/help/cservice/mark (File Modified) 
	trunk/help/cservice/sendpass (File Modified) 
	trunk/help/cservice/set_email (File Deleted) 
	trunk/help/cservice/set_hidemail (File Deleted) 
	trunk/help/cservice/set_hold (File Modified) 
	trunk/modules/cs_help.c (File Modified) 


alambert    2005/07/31 01:11:35 UTC	(20050731-1233)
  Log:
  Split NS HELP SET; use the NickServ help files now

  Modified:
	trunk/modules/ns_help.c (File Modified) 


nenolod     2005/07/31 01:06:35 UTC	(20050731-1231)
  Log:
  build-id is now automatically incremented ala genserial.pl
  

  Modified:
	trunk/include/atheme.h (File Modified) 
	trunk/src/version.sh (File Modified) 


alambert    2005/07/31 01:04:41 UTC	(20050731-1229)
  Log:
  Continue username -> nickname switchover in help files

  Modified:
	trunk/help/cservice/akick (File Modified) 
	trunk/help/cservice/flags (File Modified) 
	trunk/help/cservice/login (File Deleted) 
	trunk/help/cservice/set_successor (File Modified) 
	trunk/help/cservice/xop (File Modified) 


nenolod     2005/07/31 01:03:58 UTC	(20050731-1227)
  Log:
  add serno.h
  

  Modified:
	trunk/include/serno.h (File Added) 


alambert    2005/07/31 00:57:38 UTC	(1225)
  Log:
  E-mail verification: username -> nickname

  Modified:
	trunk/src/function.c (File Modified) 


nenolod     2005/07/31 00:54:10 UTC	(1223)
  Log:
  trying again
  

  Modified:
	trunk/include/libatheme.h (File Modified) 


nenolod     2005/07/31 00:48:51 UTC	(1219)
  Log:
  blank out the changelog.
  

  Modified:
	trunk/ChangeLog (File Modified) 


 
